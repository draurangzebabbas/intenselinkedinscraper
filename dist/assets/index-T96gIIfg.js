(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Uu={exports:{}},Hi={},zu={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bs=Symbol.for("react.element"),Rf=Symbol.for("react.portal"),Df=Symbol.for("react.fragment"),Uf=Symbol.for("react.strict_mode"),zf=Symbol.for("react.profiler"),Mf=Symbol.for("react.provider"),Ff=Symbol.for("react.context"),Bf=Symbol.for("react.forward_ref"),Wf=Symbol.for("react.suspense"),Vf=Symbol.for("react.memo"),Hf=Symbol.for("react.lazy"),sc=Symbol.iterator;function qf(e){return e===null||typeof e!="object"?null:(e=sc&&e[sc]||e["@@iterator"],typeof e=="function"?e:null)}var Mu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fu=Object.assign,Bu={};function vn(e,t,r){this.props=e,this.context=t,this.refs=Bu,this.updater=r||Mu}vn.prototype.isReactComponent={};vn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wu(){}Wu.prototype=vn.prototype;function Xl(e,t,r){this.props=e,this.context=t,this.refs=Bu,this.updater=r||Mu}var Zl=Xl.prototype=new Wu;Zl.constructor=Xl;Fu(Zl,vn.prototype);Zl.isPureReactComponent=!0;var ic=Array.isArray,Vu=Object.prototype.hasOwnProperty,eo={current:null},Hu={key:!0,ref:!0,__self:!0,__source:!0};function qu(e,t,r){var n,s={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Vu.call(t,n)&&!Hu.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:bs,type:e,key:i,ref:l,props:s,_owner:eo.current}}function Kf(e,t){return{$$typeof:bs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function to(e){return typeof e=="object"&&e!==null&&e.$$typeof===bs}function Jf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ac=/\/+/g;function ya(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jf(""+e.key):t.toString(36)}function si(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case bs:case Rf:l=!0}}if(l)return l=e,s=s(l),e=n===""?"."+ya(l,0):n,ic(s)?(r="",e!=null&&(r=e.replace(ac,"$&/")+"/"),si(s,t,r,"",function(u){return u})):s!=null&&(to(s)&&(s=Kf(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(ac,"$&/")+"/")+e)),t.push(s)),1;if(l=0,n=n===""?".":n+":",ic(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+ya(i,o);l+=si(i,t,r,c,s)}else if(c=qf(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+ya(i,o++),l+=si(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Os(e,t,r){if(e==null)return e;var n=[],s=0;return si(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Gf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},ii={transition:null},Qf={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:ii,ReactCurrentOwner:eo};function Ku(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Os,forEach:function(e,t,r){Os(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Os(e,function(){t++}),t},toArray:function(e){return Os(e,function(t){return t})||[]},only:function(e){if(!to(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=vn;Q.Fragment=Df;Q.Profiler=zf;Q.PureComponent=Xl;Q.StrictMode=Uf;Q.Suspense=Wf;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qf;Q.act=Ku;Q.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Fu({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=eo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Vu.call(t,c)&&!Hu.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:bs,type:e.type,key:s,ref:i,props:n,_owner:l}};Q.createContext=function(e){return e={$$typeof:Ff,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mf,_context:e},e.Consumer=e};Q.createElement=qu;Q.createFactory=function(e){var t=qu.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:Bf,render:e}};Q.isValidElement=to;Q.lazy=function(e){return{$$typeof:Hf,_payload:{_status:-1,_result:e},_init:Gf}};Q.memo=function(e,t){return{$$typeof:Vf,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=ii.transition;ii.transition={};try{e()}finally{ii.transition=t}};Q.unstable_act=Ku;Q.useCallback=function(e,t){return Oe.current.useCallback(e,t)};Q.useContext=function(e){return Oe.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Oe.current.useEffect(e,t)};Q.useId=function(){return Oe.current.useId()};Q.useImperativeHandle=function(e,t,r){return Oe.current.useImperativeHandle(e,t,r)};Q.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Oe.current.useMemo(e,t)};Q.useReducer=function(e,t,r){return Oe.current.useReducer(e,t,r)};Q.useRef=function(e){return Oe.current.useRef(e)};Q.useState=function(e){return Oe.current.useState(e)};Q.useSyncExternalStore=function(e,t,r){return Oe.current.useSyncExternalStore(e,t,r)};Q.useTransition=function(){return Oe.current.useTransition()};Q.version="18.3.1";zu.exports=Q;var P=zu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf=P,Xf=Symbol.for("react.element"),Zf=Symbol.for("react.fragment"),em=Object.prototype.hasOwnProperty,tm=Yf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rm={key:!0,ref:!0,__self:!0,__source:!0};function Ju(e,t,r){var n,s={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)em.call(t,n)&&!rm.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Xf,type:e,key:i,ref:l,props:s,_owner:tm.current}}Hi.Fragment=Zf;Hi.jsx=Ju;Hi.jsxs=Ju;Uu.exports=Hi;var a=Uu.exports,Gu={exports:{}},Je={},Qu={exports:{}},Yu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,F){var k=A.length;A.push(F);e:for(;0<k;){var O=k-1>>>1,S=A[O];if(0<s(S,F))A[O]=F,A[k]=S,k=O;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var F=A[0],k=A.pop();if(k!==F){A[0]=k;e:for(var O=0,S=A.length,j=S>>>1;O<j;){var D=2*(O+1)-1,te=A[D],ge=D+1,K=A[ge];if(0>s(te,k))ge<S&&0>s(K,te)?(A[O]=K,A[ge]=k,O=ge):(A[O]=te,A[D]=k,O=D);else if(ge<S&&0>s(K,k))A[O]=K,A[ge]=k,O=ge;else break e}}return F}function s(A,F){var k=A.sortIndex-F.sortIndex;return k!==0?k:A.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,h=null,m=3,y=!1,x=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(A){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=A)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function v(A){if(w=!1,p(A),!x)if(r(c)!==null)x=!0,X(_);else{var F=r(u);F!==null&&ue(v,F.startTime-A)}}function _(A,F){x=!1,w&&(w=!1,g(L),L=-1),y=!0;var k=m;try{for(p(F),h=r(c);h!==null&&(!(h.expirationTime>F)||A&&!I());){var O=h.callback;if(typeof O=="function"){h.callback=null,m=h.priorityLevel;var S=O(h.expirationTime<=F);F=e.unstable_now(),typeof S=="function"?h.callback=S:h===r(c)&&n(c),p(F)}else n(c);h=r(c)}if(h!==null)var j=!0;else{var D=r(u);D!==null&&ue(v,D.startTime-F),j=!1}return j}finally{h=null,m=k,y=!1}}var N=!1,E=null,L=-1,Y=5,B=-1;function I(){return!(e.unstable_now()-B<Y)}function $(){if(E!==null){var A=e.unstable_now();B=A;var F=!0;try{F=E(!0,A)}finally{F?T():(N=!1,E=null)}}else N=!1}var T;if(typeof f=="function")T=function(){f($)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,se=W.port2;W.port1.onmessage=$,T=function(){se.postMessage(null)}}else T=function(){b($,0)};function X(A){E=A,N||(N=!0,T())}function ue(A,F){L=b(function(){A(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,X(_))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var k=m;m=F;try{return A()}finally{m=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,F){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var k=m;m=A;try{return F()}finally{m=k}},e.unstable_scheduleCallback=function(A,F,k){var O=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?O+k:O):k=O,A){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=k+S,A={id:d++,callback:F,priorityLevel:A,startTime:k,expirationTime:S,sortIndex:-1},k>O?(A.sortIndex=k,t(u,A),r(c)===null&&A===r(u)&&(w?(g(L),L=-1):w=!0,ue(v,k-O))):(A.sortIndex=S,t(c,A),x||y||(x=!0,X(_))),A},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(A){var F=m;return function(){var k=m;m=F;try{return A.apply(this,arguments)}finally{m=k}}}})(Yu);Qu.exports=Yu;var nm=Qu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm=P,Ke=nm;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xu=new Set,es={};function Ar(e,t){on(e,t),on(e+"Capture",t)}function on(e,t){for(es[e]=t,e=0;e<t.length;e++)Xu.add(t[e])}var It=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qa=Object.prototype.hasOwnProperty,im=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lc={},oc={};function am(e){return Qa.call(oc,e)?!0:Qa.call(lc,e)?!1:im.test(e)?oc[e]=!0:(lc[e]=!0,!1)}function lm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function om(e,t,r,n){if(t===null||typeof t>"u"||lm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Le(e,t,r,n,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new Le(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new Le(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new Le(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new Le(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new Le(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new Le(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new Le(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new Le(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new Le(e,5,!1,e.toLowerCase(),null,!1,!1)});var ro=/[\-:]([a-z])/g;function no(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ro,no);Se[t]=new Le(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ro,no);Se[t]=new Le(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ro,no);Se[t]=new Le(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new Le(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new Le(e,1,!1,e.toLowerCase(),null,!0,!0)});function so(e,t,r,n){var s=Se.hasOwnProperty(t)?Se[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(om(t,r,s,n)&&(r=null),n||s===null?am(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Dt=sm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ls=Symbol.for("react.element"),Fr=Symbol.for("react.portal"),Br=Symbol.for("react.fragment"),io=Symbol.for("react.strict_mode"),Ya=Symbol.for("react.profiler"),Zu=Symbol.for("react.provider"),ed=Symbol.for("react.context"),ao=Symbol.for("react.forward_ref"),Xa=Symbol.for("react.suspense"),Za=Symbol.for("react.suspense_list"),lo=Symbol.for("react.memo"),Wt=Symbol.for("react.lazy"),td=Symbol.for("react.offscreen"),cc=Symbol.iterator;function En(e){return e===null||typeof e!="object"?null:(e=cc&&e[cc]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,xa;function Rn(e){if(xa===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);xa=t&&t[1]||""}return`
`+xa+e}var va=!1;function wa(e,t){if(!e||va)return"";va=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{va=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Rn(e):""}function cm(e){switch(e.tag){case 5:return Rn(e.type);case 16:return Rn("Lazy");case 13:return Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 2:case 15:return e=wa(e.type,!1),e;case 11:return e=wa(e.type.render,!1),e;case 1:return e=wa(e.type,!0),e;default:return""}}function el(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Br:return"Fragment";case Fr:return"Portal";case Ya:return"Profiler";case io:return"StrictMode";case Xa:return"Suspense";case Za:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ed:return(e.displayName||"Context")+".Consumer";case Zu:return(e._context.displayName||"Context")+".Provider";case ao:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lo:return t=e.displayName||null,t!==null?t:el(e.type)||"Memo";case Wt:t=e._payload,e=e._init;try{return el(e(t))}catch{}}return null}function um(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return el(t);case 8:return t===io?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ar(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dm(e){var t=rd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rs(e){e._valueTracker||(e._valueTracker=dm(e))}function nd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=rd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tl(e,t){var r=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function uc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ar(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sd(e,t){t=t.checked,t!=null&&so(e,"checked",t,!1)}function rl(e,t){sd(e,t);var r=ar(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nl(e,t.type,r):t.hasOwnProperty("defaultValue")&&nl(e,t.type,ar(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function nl(e,t,r){(t!=="number"||gi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Dn=Array.isArray;function Zr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ar(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function sl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(C(92));if(Dn(r)){if(1<r.length)throw Error(C(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ar(r)}}function id(e,t){var r=ar(t.value),n=ar(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function fc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ad(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function il(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ad(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ds,ld=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ds=Ds||document.createElement("div"),Ds.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ds.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ts(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Fn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hm=["Webkit","ms","Moz","O"];Object.keys(Fn).forEach(function(e){hm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fn[t]=Fn[e]})});function od(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Fn.hasOwnProperty(e)&&Fn[e]?(""+t).trim():t+"px"}function cd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=od(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var fm=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function al(e,t){if(t){if(fm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function ll(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ol=null;function oo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cl=null,en=null,tn=null;function mc(e){if(e=js(e)){if(typeof cl!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Qi(t),cl(e.stateNode,e.type,t))}}function ud(e){en?tn?tn.push(e):tn=[e]:en=e}function dd(){if(en){var e=en,t=tn;if(tn=en=null,mc(e),t)for(e=0;e<t.length;e++)mc(t[e])}}function hd(e,t){return e(t)}function fd(){}var ba=!1;function md(e,t,r){if(ba)return e(t,r);ba=!0;try{return hd(e,t,r)}finally{ba=!1,(en!==null||tn!==null)&&(fd(),dd())}}function rs(e,t){var r=e.stateNode;if(r===null)return null;var n=Qi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(C(231,t,typeof r));return r}var ul=!1;if(It)try{var Cn={};Object.defineProperty(Cn,"passive",{get:function(){ul=!0}}),window.addEventListener("test",Cn,Cn),window.removeEventListener("test",Cn,Cn)}catch{ul=!1}function mm(e,t,r,n,s,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Bn=!1,yi=null,xi=!1,dl=null,pm={onError:function(e){Bn=!0,yi=e}};function gm(e,t,r,n,s,i,l,o,c){Bn=!1,yi=null,mm.apply(pm,arguments)}function ym(e,t,r,n,s,i,l,o,c){if(gm.apply(this,arguments),Bn){if(Bn){var u=yi;Bn=!1,yi=null}else throw Error(C(198));xi||(xi=!0,dl=u)}}function Ir(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function pd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pc(e){if(Ir(e)!==e)throw Error(C(188))}function xm(e){var t=e.alternate;if(!t){if(t=Ir(e),t===null)throw Error(C(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return pc(s),e;if(i===n)return pc(s),t;i=i.sibling}throw Error(C(188))}if(r.return!==n.return)r=s,n=i;else{for(var l=!1,o=s.child;o;){if(o===r){l=!0,r=s,n=i;break}if(o===n){l=!0,n=s,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=s;break}if(o===n){l=!0,n=i,r=s;break}o=o.sibling}if(!l)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?e:t}function gd(e){return e=xm(e),e!==null?yd(e):null}function yd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yd(e);if(t!==null)return t;e=e.sibling}return null}var xd=Ke.unstable_scheduleCallback,gc=Ke.unstable_cancelCallback,vm=Ke.unstable_shouldYield,wm=Ke.unstable_requestPaint,ye=Ke.unstable_now,bm=Ke.unstable_getCurrentPriorityLevel,co=Ke.unstable_ImmediatePriority,vd=Ke.unstable_UserBlockingPriority,vi=Ke.unstable_NormalPriority,km=Ke.unstable_LowPriority,wd=Ke.unstable_IdlePriority,qi=null,wt=null;function _m(e){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(qi,e,void 0,(e.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:Sm,jm=Math.log,Nm=Math.LN2;function Sm(e){return e>>>=0,e===0?32:31-(jm(e)/Nm|0)|0}var Us=64,zs=4194304;function Un(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~s;o!==0?n=Un(o):(i&=l,i!==0&&(n=Un(i)))}else l=r&~s,l!==0?n=Un(l):i!==0&&(n=Un(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ft(t),s=1<<r,n|=e[r],t&=~s;return n}function Em(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-ft(i),o=1<<l,c=s[l];c===-1?(!(o&r)||o&n)&&(s[l]=Em(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function hl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bd(){var e=Us;return Us<<=1,!(Us&4194240)&&(Us=64),e}function ka(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ks(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ft(t),e[t]=r}function Pm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ft(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function uo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ft(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ne=0;function kd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _d,ho,jd,Nd,Sd,fl=!1,Ms=[],Yt=null,Xt=null,Zt=null,ns=new Map,ss=new Map,qt=[],Tm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yc(e,t){switch(e){case"focusin":case"focusout":Yt=null;break;case"dragenter":case"dragleave":Xt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":ns.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(t.pointerId)}}function Pn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=js(t),t!==null&&ho(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Am(e,t,r,n,s){switch(t){case"focusin":return Yt=Pn(Yt,e,t,r,n,s),!0;case"dragenter":return Xt=Pn(Xt,e,t,r,n,s),!0;case"mouseover":return Zt=Pn(Zt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ns.set(i,Pn(ns.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ss.set(i,Pn(ss.get(i)||null,e,t,r,n,s)),!0}return!1}function Ed(e){var t=wr(e.target);if(t!==null){var r=Ir(t);if(r!==null){if(t=r.tag,t===13){if(t=pd(r),t!==null){e.blockedOn=t,Sd(e.priority,function(){jd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ai(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ml(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ol=n,r.target.dispatchEvent(n),ol=null}else return t=js(r),t!==null&&ho(t),e.blockedOn=r,!1;t.shift()}return!0}function xc(e,t,r){ai(e)&&r.delete(t)}function Im(){fl=!1,Yt!==null&&ai(Yt)&&(Yt=null),Xt!==null&&ai(Xt)&&(Xt=null),Zt!==null&&ai(Zt)&&(Zt=null),ns.forEach(xc),ss.forEach(xc)}function Tn(e,t){e.blockedOn===t&&(e.blockedOn=null,fl||(fl=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,Im)))}function is(e){function t(s){return Tn(s,e)}if(0<Ms.length){Tn(Ms[0],e);for(var r=1;r<Ms.length;r++){var n=Ms[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Yt!==null&&Tn(Yt,e),Xt!==null&&Tn(Xt,e),Zt!==null&&Tn(Zt,e),ns.forEach(t),ss.forEach(t),r=0;r<qt.length;r++)n=qt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<qt.length&&(r=qt[0],r.blockedOn===null);)Ed(r),r.blockedOn===null&&qt.shift()}var rn=Dt.ReactCurrentBatchConfig,bi=!0;function $m(e,t,r,n){var s=ne,i=rn.transition;rn.transition=null;try{ne=1,fo(e,t,r,n)}finally{ne=s,rn.transition=i}}function Om(e,t,r,n){var s=ne,i=rn.transition;rn.transition=null;try{ne=4,fo(e,t,r,n)}finally{ne=s,rn.transition=i}}function fo(e,t,r,n){if(bi){var s=ml(e,t,r,n);if(s===null)Ia(e,t,n,ki,r),yc(e,n);else if(Am(s,e,t,r,n))n.stopPropagation();else if(yc(e,n),t&4&&-1<Tm.indexOf(e)){for(;s!==null;){var i=js(s);if(i!==null&&_d(i),i=ml(e,t,r,n),i===null&&Ia(e,t,n,ki,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ia(e,t,n,null,r)}}var ki=null;function ml(e,t,r,n){if(ki=null,e=oo(n),e=wr(e),e!==null)if(t=Ir(e),t===null)e=null;else if(r=t.tag,r===13){if(e=pd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ki=e,null}function Cd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bm()){case co:return 1;case vd:return 4;case vi:case km:return 16;case wd:return 536870912;default:return 16}default:return 16}}var Gt=null,mo=null,li=null;function Pd(){if(li)return li;var e,t=mo,r=t.length,n,s="value"in Gt?Gt.value:Gt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===s[i-n];n++);return li=s.slice(e,1<n?1-n:void 0)}function oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fs(){return!0}function vc(){return!1}function Ge(e){function t(r,n,s,i,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fs:vc,this.isPropagationStopped=vc,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),t}var wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},po=Ge(wn),_s=me({},wn,{view:0,detail:0}),Lm=Ge(_s),_a,ja,An,Ki=me({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:go,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==An&&(An&&e.type==="mousemove"?(_a=e.screenX-An.screenX,ja=e.screenY-An.screenY):ja=_a=0,An=e),_a)},movementY:function(e){return"movementY"in e?e.movementY:ja}}),wc=Ge(Ki),Rm=me({},Ki,{dataTransfer:0}),Dm=Ge(Rm),Um=me({},_s,{relatedTarget:0}),Na=Ge(Um),zm=me({},wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Mm=Ge(zm),Fm=me({},wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bm=Ge(Fm),Wm=me({},wn,{data:0}),bc=Ge(Wm),Vm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Km(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qm[e])?!!t[e]:!1}function go(){return Km}var Jm=me({},_s,{key:function(e){if(e.key){var t=Vm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:go,charCode:function(e){return e.type==="keypress"?oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gm=Ge(Jm),Qm=me({},Ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kc=Ge(Qm),Ym=me({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:go}),Xm=Ge(Ym),Zm=me({},wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ep=Ge(Zm),tp=me({},Ki,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rp=Ge(tp),np=[9,13,27,32],yo=It&&"CompositionEvent"in window,Wn=null;It&&"documentMode"in document&&(Wn=document.documentMode);var sp=It&&"TextEvent"in window&&!Wn,Td=It&&(!yo||Wn&&8<Wn&&11>=Wn),_c=" ",jc=!1;function Ad(e,t){switch(e){case"keyup":return np.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wr=!1;function ip(e,t){switch(e){case"compositionend":return Id(t);case"keypress":return t.which!==32?null:(jc=!0,_c);case"textInput":return e=t.data,e===_c&&jc?null:e;default:return null}}function ap(e,t){if(Wr)return e==="compositionend"||!yo&&Ad(e,t)?(e=Pd(),li=mo=Gt=null,Wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Td&&t.locale!=="ko"?null:t.data;default:return null}}var lp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lp[e.type]:t==="textarea"}function $d(e,t,r,n){ud(n),t=_i(t,"onChange"),0<t.length&&(r=new po("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Vn=null,as=null;function op(e){Vd(e,0)}function Ji(e){var t=qr(e);if(nd(t))return e}function cp(e,t){if(e==="change")return t}var Od=!1;if(It){var Sa;if(It){var Ea="oninput"in document;if(!Ea){var Sc=document.createElement("div");Sc.setAttribute("oninput","return;"),Ea=typeof Sc.oninput=="function"}Sa=Ea}else Sa=!1;Od=Sa&&(!document.documentMode||9<document.documentMode)}function Ec(){Vn&&(Vn.detachEvent("onpropertychange",Ld),as=Vn=null)}function Ld(e){if(e.propertyName==="value"&&Ji(as)){var t=[];$d(t,as,e,oo(e)),md(op,t)}}function up(e,t,r){e==="focusin"?(Ec(),Vn=t,as=r,Vn.attachEvent("onpropertychange",Ld)):e==="focusout"&&Ec()}function dp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ji(as)}function hp(e,t){if(e==="click")return Ji(t)}function fp(e,t){if(e==="input"||e==="change")return Ji(t)}function mp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:mp;function ls(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Qa.call(t,s)||!gt(e[s],t[s]))return!1}return!0}function Cc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pc(e,t){var r=Cc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cc(r)}}function Rd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dd(){for(var e=window,t=gi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=gi(e.document)}return t}function xo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pp(e){var t=Dd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Rd(r.ownerDocument.documentElement,r)){if(n!==null&&xo(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Pc(r,i);var l=Pc(r,n);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gp=It&&"documentMode"in document&&11>=document.documentMode,Vr=null,pl=null,Hn=null,gl=!1;function Tc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gl||Vr==null||Vr!==gi(n)||(n=Vr,"selectionStart"in n&&xo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hn&&ls(Hn,n)||(Hn=n,n=_i(pl,"onSelect"),0<n.length&&(t=new po("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Vr)))}function Bs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hr={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionend:Bs("Transition","TransitionEnd")},Ca={},Ud={};It&&(Ud=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function Gi(e){if(Ca[e])return Ca[e];if(!Hr[e])return e;var t=Hr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ud)return Ca[e]=t[r];return e}var zd=Gi("animationend"),Md=Gi("animationiteration"),Fd=Gi("animationstart"),Bd=Gi("transitionend"),Wd=new Map,Ac="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(e,t){Wd.set(e,t),Ar(t,[e])}for(var Pa=0;Pa<Ac.length;Pa++){var Ta=Ac[Pa],yp=Ta.toLowerCase(),xp=Ta[0].toUpperCase()+Ta.slice(1);cr(yp,"on"+xp)}cr(zd,"onAnimationEnd");cr(Md,"onAnimationIteration");cr(Fd,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(Bd,"onTransitionEnd");on("onMouseEnter",["mouseout","mouseover"]);on("onMouseLeave",["mouseout","mouseover"]);on("onPointerEnter",["pointerout","pointerover"]);on("onPointerLeave",["pointerout","pointerover"]);Ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vp=new Set("cancel close invalid load scroll toggle".split(" ").concat(zn));function Ic(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ym(n,t,void 0,e),e.currentTarget=null}function Vd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Ic(s,o,u),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Ic(s,o,u),i=c}}}if(xi)throw e=dl,xi=!1,dl=null,e}function oe(e,t){var r=t[bl];r===void 0&&(r=t[bl]=new Set);var n=e+"__bubble";r.has(n)||(Hd(t,e,2,!1),r.add(n))}function Aa(e,t,r){var n=0;t&&(n|=4),Hd(r,e,n,t)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function os(e){if(!e[Ws]){e[Ws]=!0,Xu.forEach(function(r){r!=="selectionchange"&&(vp.has(r)||Aa(r,!1,e),Aa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ws]||(t[Ws]=!0,Aa("selectionchange",!1,t))}}function Hd(e,t,r,n){switch(Cd(t)){case 1:var s=$m;break;case 4:s=Om;break;default:s=fo}r=s.bind(null,t,r,e),s=void 0,!ul||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ia(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=wr(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}md(function(){var u=i,d=oo(r),h=[];e:{var m=Wd.get(e);if(m!==void 0){var y=po,x=e;switch(e){case"keypress":if(oi(r)===0)break e;case"keydown":case"keyup":y=Gm;break;case"focusin":x="focus",y=Na;break;case"focusout":x="blur",y=Na;break;case"beforeblur":case"afterblur":y=Na;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Dm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Xm;break;case zd:case Md:case Fd:y=Mm;break;case Bd:y=ep;break;case"scroll":y=Lm;break;case"wheel":y=rp;break;case"copy":case"cut":case"paste":y=Bm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=kc}var w=(t&4)!==0,b=!w&&e==="scroll",g=w?m!==null?m+"Capture":null:m;w=[];for(var f=u,p;f!==null;){p=f;var v=p.stateNode;if(p.tag===5&&v!==null&&(p=v,g!==null&&(v=rs(f,g),v!=null&&w.push(cs(f,v,p)))),b)break;f=f.return}0<w.length&&(m=new y(m,x,null,r,d),h.push({event:m,listeners:w}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&r!==ol&&(x=r.relatedTarget||r.fromElement)&&(wr(x)||x[$t]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(x=r.relatedTarget||r.toElement,y=u,x=x?wr(x):null,x!==null&&(b=Ir(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(w=wc,v="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=kc,v="onPointerLeave",g="onPointerEnter",f="pointer"),b=y==null?m:qr(y),p=x==null?m:qr(x),m=new w(v,f+"leave",y,r,d),m.target=b,m.relatedTarget=p,v=null,wr(d)===u&&(w=new w(g,f+"enter",x,r,d),w.target=p,w.relatedTarget=b,v=w),b=v,y&&x)t:{for(w=y,g=x,f=0,p=w;p;p=Lr(p))f++;for(p=0,v=g;v;v=Lr(v))p++;for(;0<f-p;)w=Lr(w),f--;for(;0<p-f;)g=Lr(g),p--;for(;f--;){if(w===g||g!==null&&w===g.alternate)break t;w=Lr(w),g=Lr(g)}w=null}else w=null;y!==null&&$c(h,m,y,w,!1),x!==null&&b!==null&&$c(h,b,x,w,!0)}}e:{if(m=u?qr(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var _=cp;else if(Nc(m))if(Od)_=fp;else{_=dp;var N=up}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=hp);if(_&&(_=_(e,u))){$d(h,_,r,d);break e}N&&N(e,m,u),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&nl(m,"number",m.value)}switch(N=u?qr(u):window,e){case"focusin":(Nc(N)||N.contentEditable==="true")&&(Vr=N,pl=u,Hn=null);break;case"focusout":Hn=pl=Vr=null;break;case"mousedown":gl=!0;break;case"contextmenu":case"mouseup":case"dragend":gl=!1,Tc(h,r,d);break;case"selectionchange":if(gp)break;case"keydown":case"keyup":Tc(h,r,d)}var E;if(yo)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Wr?Ad(e,r)&&(L="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(Td&&r.locale!=="ko"&&(Wr||L!=="onCompositionStart"?L==="onCompositionEnd"&&Wr&&(E=Pd()):(Gt=d,mo="value"in Gt?Gt.value:Gt.textContent,Wr=!0)),N=_i(u,L),0<N.length&&(L=new bc(L,e,null,r,d),h.push({event:L,listeners:N}),E?L.data=E:(E=Id(r),E!==null&&(L.data=E)))),(E=sp?ip(e,r):ap(e,r))&&(u=_i(u,"onBeforeInput"),0<u.length&&(d=new bc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=E))}Vd(h,t)})}function cs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function _i(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=rs(e,r),i!=null&&n.unshift(cs(e,i,s)),i=rs(e,t),i!=null&&n.push(cs(e,i,s))),e=e.return}return n}function Lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $c(e,t,r,n,s){for(var i=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,s?(c=rs(r,i),c!=null&&l.unshift(cs(r,c,o))):s||(c=rs(r,i),c!=null&&l.push(cs(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var wp=/\r\n?/g,bp=/\u0000|\uFFFD/g;function Oc(e){return(typeof e=="string"?e:""+e).replace(wp,`
`).replace(bp,"")}function Vs(e,t,r){if(t=Oc(t),Oc(e)!==t&&r)throw Error(C(425))}function ji(){}var yl=null,xl=null;function vl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wl=typeof setTimeout=="function"?setTimeout:void 0,kp=typeof clearTimeout=="function"?clearTimeout:void 0,Lc=typeof Promise=="function"?Promise:void 0,_p=typeof queueMicrotask=="function"?queueMicrotask:typeof Lc<"u"?function(e){return Lc.resolve(null).then(e).catch(jp)}:wl;function jp(e){setTimeout(function(){throw e})}function $a(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),is(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);is(t)}function er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Rc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var bn=Math.random().toString(36).slice(2),vt="__reactFiber$"+bn,us="__reactProps$"+bn,$t="__reactContainer$"+bn,bl="__reactEvents$"+bn,Np="__reactListeners$"+bn,Sp="__reactHandles$"+bn;function wr(e){var t=e[vt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[$t]||r[vt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Rc(e);e!==null;){if(r=e[vt])return r;e=Rc(e)}return t}e=r,r=e.parentNode}return null}function js(e){return e=e[vt]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Qi(e){return e[us]||null}var kl=[],Kr=-1;function ur(e){return{current:e}}function ce(e){0>Kr||(e.current=kl[Kr],kl[Kr]=null,Kr--)}function le(e,t){Kr++,kl[Kr]=e.current,e.current=t}var lr={},Te=ur(lr),Fe=ur(!1),Nr=lr;function cn(e,t){var r=e.type.contextTypes;if(!r)return lr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Be(e){return e=e.childContextTypes,e!=null}function Ni(){ce(Fe),ce(Te)}function Dc(e,t,r){if(Te.current!==lr)throw Error(C(168));le(Te,t),le(Fe,r)}function qd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(C(108,um(e)||"Unknown",s));return me({},r,n)}function Si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lr,Nr=Te.current,le(Te,e),le(Fe,Fe.current),!0}function Uc(e,t,r){var n=e.stateNode;if(!n)throw Error(C(169));r?(e=qd(e,t,Nr),n.__reactInternalMemoizedMergedChildContext=e,ce(Fe),ce(Te),le(Te,e)):ce(Fe),le(Fe,r)}var St=null,Yi=!1,Oa=!1;function Kd(e){St===null?St=[e]:St.push(e)}function Ep(e){Yi=!0,Kd(e)}function dr(){if(!Oa&&St!==null){Oa=!0;var e=0,t=ne;try{var r=St;for(ne=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}St=null,Yi=!1}catch(s){throw St!==null&&(St=St.slice(e+1)),xd(co,dr),s}finally{ne=t,Oa=!1}}return null}var Jr=[],Gr=0,Ei=null,Ci=0,Ye=[],Xe=0,Sr=null,Et=1,Ct="";function gr(e,t){Jr[Gr++]=Ci,Jr[Gr++]=Ei,Ei=e,Ci=t}function Jd(e,t,r){Ye[Xe++]=Et,Ye[Xe++]=Ct,Ye[Xe++]=Sr,Sr=e;var n=Et;e=Ct;var s=32-ft(n)-1;n&=~(1<<s),r+=1;var i=32-ft(t)+s;if(30<i){var l=s-s%5;i=(n&(1<<l)-1).toString(32),n>>=l,s-=l,Et=1<<32-ft(t)+s|r<<s|n,Ct=i+e}else Et=1<<i|r<<s|n,Ct=e}function vo(e){e.return!==null&&(gr(e,1),Jd(e,1,0))}function wo(e){for(;e===Ei;)Ei=Jr[--Gr],Jr[Gr]=null,Ci=Jr[--Gr],Jr[Gr]=null;for(;e===Sr;)Sr=Ye[--Xe],Ye[Xe]=null,Ct=Ye[--Xe],Ye[Xe]=null,Et=Ye[--Xe],Ye[Xe]=null}var qe=null,He=null,de=!1,dt=null;function Gd(e,t){var r=Ze(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function zc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qe=e,He=er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qe=e,He=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Sr!==null?{id:Et,overflow:Ct}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ze(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,qe=e,He=null,!0):!1;default:return!1}}function _l(e){return(e.mode&1)!==0&&(e.flags&128)===0}function jl(e){if(de){var t=He;if(t){var r=t;if(!zc(e,t)){if(_l(e))throw Error(C(418));t=er(r.nextSibling);var n=qe;t&&zc(e,t)?Gd(n,r):(e.flags=e.flags&-4097|2,de=!1,qe=e)}}else{if(_l(e))throw Error(C(418));e.flags=e.flags&-4097|2,de=!1,qe=e}}}function Mc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qe=e}function Hs(e){if(e!==qe)return!1;if(!de)return Mc(e),de=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vl(e.type,e.memoizedProps)),t&&(t=He)){if(_l(e))throw Qd(),Error(C(418));for(;t;)Gd(e,t),t=er(t.nextSibling)}if(Mc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){He=er(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}He=null}}else He=qe?er(e.stateNode.nextSibling):null;return!0}function Qd(){for(var e=He;e;)e=er(e.nextSibling)}function un(){He=qe=null,de=!1}function bo(e){dt===null?dt=[e]:dt.push(e)}var Cp=Dt.ReactCurrentBatchConfig;function In(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,e))}return e}function qs(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fc(e){var t=e._init;return t(e._payload)}function Yd(e){function t(g,f){if(e){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function r(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function n(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=sr(g,f),g.index=0,g.sibling=null,g}function i(g,f,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=2,f):p):(g.flags|=2,f)):(g.flags|=1048576,f)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,f,p,v){return f===null||f.tag!==6?(f=Fa(p,g.mode,v),f.return=g,f):(f=s(f,p),f.return=g,f)}function c(g,f,p,v){var _=p.type;return _===Br?d(g,f,p.props.children,v,p.key):f!==null&&(f.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Wt&&Fc(_)===f.type)?(v=s(f,p.props),v.ref=In(g,f,p),v.return=g,v):(v=pi(p.type,p.key,p.props,null,g.mode,v),v.ref=In(g,f,p),v.return=g,v)}function u(g,f,p,v){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=Ba(p,g.mode,v),f.return=g,f):(f=s(f,p.children||[]),f.return=g,f)}function d(g,f,p,v,_){return f===null||f.tag!==7?(f=jr(p,g.mode,v,_),f.return=g,f):(f=s(f,p),f.return=g,f)}function h(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Fa(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ls:return p=pi(f.type,f.key,f.props,null,g.mode,p),p.ref=In(g,null,f),p.return=g,p;case Fr:return f=Ba(f,g.mode,p),f.return=g,f;case Wt:var v=f._init;return h(g,v(f._payload),p)}if(Dn(f)||En(f))return f=jr(f,g.mode,p,null),f.return=g,f;qs(g,f)}return null}function m(g,f,p,v){var _=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return _!==null?null:o(g,f,""+p,v);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ls:return p.key===_?c(g,f,p,v):null;case Fr:return p.key===_?u(g,f,p,v):null;case Wt:return _=p._init,m(g,f,_(p._payload),v)}if(Dn(p)||En(p))return _!==null?null:d(g,f,p,v,null);qs(g,p)}return null}function y(g,f,p,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return g=g.get(p)||null,o(f,g,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ls:return g=g.get(v.key===null?p:v.key)||null,c(f,g,v,_);case Fr:return g=g.get(v.key===null?p:v.key)||null,u(f,g,v,_);case Wt:var N=v._init;return y(g,f,p,N(v._payload),_)}if(Dn(v)||En(v))return g=g.get(p)||null,d(f,g,v,_,null);qs(f,v)}return null}function x(g,f,p,v){for(var _=null,N=null,E=f,L=f=0,Y=null;E!==null&&L<p.length;L++){E.index>L?(Y=E,E=null):Y=E.sibling;var B=m(g,E,p[L],v);if(B===null){E===null&&(E=Y);break}e&&E&&B.alternate===null&&t(g,E),f=i(B,f,L),N===null?_=B:N.sibling=B,N=B,E=Y}if(L===p.length)return r(g,E),de&&gr(g,L),_;if(E===null){for(;L<p.length;L++)E=h(g,p[L],v),E!==null&&(f=i(E,f,L),N===null?_=E:N.sibling=E,N=E);return de&&gr(g,L),_}for(E=n(g,E);L<p.length;L++)Y=y(E,g,L,p[L],v),Y!==null&&(e&&Y.alternate!==null&&E.delete(Y.key===null?L:Y.key),f=i(Y,f,L),N===null?_=Y:N.sibling=Y,N=Y);return e&&E.forEach(function(I){return t(g,I)}),de&&gr(g,L),_}function w(g,f,p,v){var _=En(p);if(typeof _!="function")throw Error(C(150));if(p=_.call(p),p==null)throw Error(C(151));for(var N=_=null,E=f,L=f=0,Y=null,B=p.next();E!==null&&!B.done;L++,B=p.next()){E.index>L?(Y=E,E=null):Y=E.sibling;var I=m(g,E,B.value,v);if(I===null){E===null&&(E=Y);break}e&&E&&I.alternate===null&&t(g,E),f=i(I,f,L),N===null?_=I:N.sibling=I,N=I,E=Y}if(B.done)return r(g,E),de&&gr(g,L),_;if(E===null){for(;!B.done;L++,B=p.next())B=h(g,B.value,v),B!==null&&(f=i(B,f,L),N===null?_=B:N.sibling=B,N=B);return de&&gr(g,L),_}for(E=n(g,E);!B.done;L++,B=p.next())B=y(E,g,L,B.value,v),B!==null&&(e&&B.alternate!==null&&E.delete(B.key===null?L:B.key),f=i(B,f,L),N===null?_=B:N.sibling=B,N=B);return e&&E.forEach(function($){return t(g,$)}),de&&gr(g,L),_}function b(g,f,p,v){if(typeof p=="object"&&p!==null&&p.type===Br&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ls:e:{for(var _=p.key,N=f;N!==null;){if(N.key===_){if(_=p.type,_===Br){if(N.tag===7){r(g,N.sibling),f=s(N,p.props.children),f.return=g,g=f;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Wt&&Fc(_)===N.type){r(g,N.sibling),f=s(N,p.props),f.ref=In(g,N,p),f.return=g,g=f;break e}r(g,N);break}else t(g,N);N=N.sibling}p.type===Br?(f=jr(p.props.children,g.mode,v,p.key),f.return=g,g=f):(v=pi(p.type,p.key,p.props,null,g.mode,v),v.ref=In(g,f,p),v.return=g,g=v)}return l(g);case Fr:e:{for(N=p.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){r(g,f.sibling),f=s(f,p.children||[]),f.return=g,g=f;break e}else{r(g,f);break}else t(g,f);f=f.sibling}f=Ba(p,g.mode,v),f.return=g,g=f}return l(g);case Wt:return N=p._init,b(g,f,N(p._payload),v)}if(Dn(p))return x(g,f,p,v);if(En(p))return w(g,f,p,v);qs(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(r(g,f.sibling),f=s(f,p),f.return=g,g=f):(r(g,f),f=Fa(p,g.mode,v),f.return=g,g=f),l(g)):r(g,f)}return b}var dn=Yd(!0),Xd=Yd(!1),Pi=ur(null),Ti=null,Qr=null,ko=null;function _o(){ko=Qr=Ti=null}function jo(e){var t=Pi.current;ce(Pi),e._currentValue=t}function Nl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function nn(e,t){Ti=e,ko=Qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ze=!0),e.firstContext=null)}function nt(e){var t=e._currentValue;if(ko!==e)if(e={context:e,memoizedValue:t,next:null},Qr===null){if(Ti===null)throw Error(C(308));Qr=e,Ti.dependencies={lanes:0,firstContext:e}}else Qr=Qr.next=e;return t}var br=null;function No(e){br===null?br=[e]:br.push(e)}function Zd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,No(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ot(e,n)}function Ot(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Vt=!1;function So(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Z&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ot(e,r)}return s=n.interleaved,s===null?(t.next=t,No(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ot(e,r)}function ci(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,uo(e,r)}}function Bc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ai(e,t,r,n){var s=e.updateQueue;Vt=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;l=0,d=u=c=null,o=i;do{var m=o.lane,y=o.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,w=o;switch(m=t,y=r,w.tag){case 1:if(x=w.payload,typeof x=="function"){h=x.call(y,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,m=typeof x=="function"?x.call(y,h,m):x,m==null)break e;h=me({},h,m);break e;case 2:Vt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[o]:m.push(o))}else y={eventTime:y,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,l|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;m=o,o=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Cr|=l,e.lanes=l,e.memoizedState=h}}function Wc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var Ns={},bt=ur(Ns),ds=ur(Ns),hs=ur(Ns);function kr(e){if(e===Ns)throw Error(C(174));return e}function Eo(e,t){switch(le(hs,t),le(ds,e),le(bt,Ns),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:il(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=il(t,e)}ce(bt),le(bt,t)}function hn(){ce(bt),ce(ds),ce(hs)}function th(e){kr(hs.current);var t=kr(bt.current),r=il(t,e.type);t!==r&&(le(ds,e),le(bt,r))}function Co(e){ds.current===e&&(ce(bt),ce(ds))}var he=ur(0);function Ii(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var La=[];function Po(){for(var e=0;e<La.length;e++)La[e]._workInProgressVersionPrimary=null;La.length=0}var ui=Dt.ReactCurrentDispatcher,Ra=Dt.ReactCurrentBatchConfig,Er=0,fe=null,ve=null,ke=null,$i=!1,qn=!1,fs=0,Pp=0;function Ee(){throw Error(C(321))}function To(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!gt(e[r],t[r]))return!1;return!0}function Ao(e,t,r,n,s,i){if(Er=i,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ui.current=e===null||e.memoizedState===null?$p:Op,e=r(n,s),qn){i=0;do{if(qn=!1,fs=0,25<=i)throw Error(C(301));i+=1,ke=ve=null,t.updateQueue=null,ui.current=Lp,e=r(n,s)}while(qn)}if(ui.current=Oi,t=ve!==null&&ve.next!==null,Er=0,ke=ve=fe=null,$i=!1,t)throw Error(C(300));return e}function Io(){var e=fs!==0;return fs=0,e}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?fe.memoizedState=ke=e:ke=ke.next=e,ke}function st(){if(ve===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=ke===null?fe.memoizedState:ke.next;if(t!==null)ke=t,ve=e;else{if(e===null)throw Error(C(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},ke===null?fe.memoizedState=ke=e:ke=ke.next=e}return ke}function ms(e,t){return typeof t=="function"?t(e):t}function Da(e){var t=st(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=ve,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=l=null,c=null,u=i;do{var d=u.lane;if((Er&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,l=n):c=c.next=h,fe.lanes|=d,Cr|=d}u=u.next}while(u!==null&&u!==i);c===null?l=n:c.next=o,gt(n,t.memoizedState)||(ze=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,fe.lanes|=i,Cr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ua(e){var t=st(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);gt(i,t.memoizedState)||(ze=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function rh(){}function nh(e,t){var r=fe,n=st(),s=t(),i=!gt(n.memoizedState,s);if(i&&(n.memoizedState=s,ze=!0),n=n.queue,$o(ah.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ke!==null&&ke.memoizedState.tag&1){if(r.flags|=2048,ps(9,ih.bind(null,r,n,s,t),void 0,null),_e===null)throw Error(C(349));Er&30||sh(r,t,s)}return s}function sh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ih(e,t,r,n){t.value=r,t.getSnapshot=n,lh(t)&&oh(e)}function ah(e,t,r){return r(function(){lh(t)&&oh(e)})}function lh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gt(e,r)}catch{return!0}}function oh(e){var t=Ot(e,1);t!==null&&mt(t,e,1,-1)}function Vc(e){var t=xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},t.queue=e,e=e.dispatch=Ip.bind(null,fe,e),[t.memoizedState,e]}function ps(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ch(){return st().memoizedState}function di(e,t,r,n){var s=xt();fe.flags|=e,s.memoizedState=ps(1|t,r,void 0,n===void 0?null:n)}function Xi(e,t,r,n){var s=st();n=n===void 0?null:n;var i=void 0;if(ve!==null){var l=ve.memoizedState;if(i=l.destroy,n!==null&&To(n,l.deps)){s.memoizedState=ps(t,r,i,n);return}}fe.flags|=e,s.memoizedState=ps(1|t,r,i,n)}function Hc(e,t){return di(8390656,8,e,t)}function $o(e,t){return Xi(2048,8,e,t)}function uh(e,t){return Xi(4,2,e,t)}function dh(e,t){return Xi(4,4,e,t)}function hh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fh(e,t,r){return r=r!=null?r.concat([e]):null,Xi(4,4,hh.bind(null,t,e),r)}function Oo(){}function mh(e,t){var r=st();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&To(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ph(e,t){var r=st();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&To(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function gh(e,t,r){return Er&21?(gt(r,t)||(r=bd(),fe.lanes|=r,Cr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ze=!0),e.memoizedState=r)}function Tp(e,t){var r=ne;ne=r!==0&&4>r?r:4,e(!0);var n=Ra.transition;Ra.transition={};try{e(!1),t()}finally{ne=r,Ra.transition=n}}function yh(){return st().memoizedState}function Ap(e,t,r){var n=nr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xh(e))vh(t,r);else if(r=Zd(e,t,r,n),r!==null){var s=$e();mt(r,e,n,s),wh(r,t,n)}}function Ip(e,t,r){var n=nr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xh(e))vh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(s.hasEagerState=!0,s.eagerState=o,gt(o,l)){var c=t.interleaved;c===null?(s.next=s,No(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Zd(e,t,s,n),r!==null&&(s=$e(),mt(r,e,n,s),wh(r,t,n))}}function xh(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function vh(e,t){qn=$i=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function wh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,uo(e,r)}}var Oi={readContext:nt,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},$p={readContext:nt,useCallback:function(e,t){return xt().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:Hc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,di(4194308,4,hh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return di(4194308,4,e,t)},useInsertionEffect:function(e,t){return di(4,2,e,t)},useMemo:function(e,t){var r=xt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ap.bind(null,fe,e),[n.memoizedState,e]},useRef:function(e){var t=xt();return e={current:e},t.memoizedState=e},useState:Vc,useDebugValue:Oo,useDeferredValue:function(e){return xt().memoizedState=e},useTransition:function(){var e=Vc(!1),t=e[0];return e=Tp.bind(null,e[1]),xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=fe,s=xt();if(de){if(r===void 0)throw Error(C(407));r=r()}else{if(r=t(),_e===null)throw Error(C(349));Er&30||sh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Hc(ah.bind(null,n,i,e),[e]),n.flags|=2048,ps(9,ih.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=xt(),t=_e.identifierPrefix;if(de){var r=Ct,n=Et;r=(n&~(1<<32-ft(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=fs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Pp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Op={readContext:nt,useCallback:mh,useContext:nt,useEffect:$o,useImperativeHandle:fh,useInsertionEffect:uh,useLayoutEffect:dh,useMemo:ph,useReducer:Da,useRef:ch,useState:function(){return Da(ms)},useDebugValue:Oo,useDeferredValue:function(e){var t=st();return gh(t,ve.memoizedState,e)},useTransition:function(){var e=Da(ms)[0],t=st().memoizedState;return[e,t]},useMutableSource:rh,useSyncExternalStore:nh,useId:yh,unstable_isNewReconciler:!1},Lp={readContext:nt,useCallback:mh,useContext:nt,useEffect:$o,useImperativeHandle:fh,useInsertionEffect:uh,useLayoutEffect:dh,useMemo:ph,useReducer:Ua,useRef:ch,useState:function(){return Ua(ms)},useDebugValue:Oo,useDeferredValue:function(e){var t=st();return ve===null?t.memoizedState=e:gh(t,ve.memoizedState,e)},useTransition:function(){var e=Ua(ms)[0],t=st().memoizedState;return[e,t]},useMutableSource:rh,useSyncExternalStore:nh,useId:yh,unstable_isNewReconciler:!1};function ot(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Sl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Zi={isMounted:function(e){return(e=e._reactInternals)?Ir(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=$e(),s=nr(e),i=Tt(n,s);i.payload=t,r!=null&&(i.callback=r),t=tr(e,i,s),t!==null&&(mt(t,e,s,n),ci(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=$e(),s=nr(e),i=Tt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=tr(e,i,s),t!==null&&(mt(t,e,s,n),ci(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=$e(),n=nr(e),s=Tt(r,n);s.tag=2,t!=null&&(s.callback=t),t=tr(e,s,n),t!==null&&(mt(t,e,n,r),ci(t,e,n))}};function qc(e,t,r,n,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!ls(r,n)||!ls(s,i):!0}function bh(e,t,r){var n=!1,s=lr,i=t.contextType;return typeof i=="object"&&i!==null?i=nt(i):(s=Be(t)?Nr:Te.current,n=t.contextTypes,i=(n=n!=null)?cn(e,s):lr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Kc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Zi.enqueueReplaceState(t,t.state,null)}function El(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},So(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=nt(i):(i=Be(t)?Nr:Te.current,s.context=cn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Sl(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Zi.enqueueReplaceState(s,s.state,null),Ai(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function fn(e,t){try{var r="",n=t;do r+=cm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function za(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Cl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Rp=typeof WeakMap=="function"?WeakMap:Map;function kh(e,t,r){r=Tt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ri||(Ri=!0,Ul=n),Cl(e,t)},r}function _h(e,t,r){r=Tt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Cl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Cl(e,t),typeof n!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Jc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Rp;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Qp.bind(null,e,t,r),t.then(e,e))}function Gc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Tt(-1,1),t.tag=2,tr(r,t,1))),r.lanes|=1),e)}var Dp=Dt.ReactCurrentOwner,ze=!1;function Ie(e,t,r,n){t.child=e===null?Xd(t,null,r,n):dn(t,e.child,r,n)}function Yc(e,t,r,n,s){r=r.render;var i=t.ref;return nn(t,s),n=Ao(e,t,r,n,i,s),r=Io(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Lt(e,t,s)):(de&&r&&vo(t),t.flags|=1,Ie(e,t,n,s),t.child)}function Xc(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Bo(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,jh(e,t,i,n,s)):(e=pi(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:ls,r(l,n)&&e.ref===t.ref)return Lt(e,t,s)}return t.flags|=1,e=sr(i,n),e.ref=t.ref,e.return=t,t.child=e}function jh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ls(i,n)&&e.ref===t.ref)if(ze=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(ze=!0);else return t.lanes=e.lanes,Lt(e,t,s)}return Pl(e,t,r,n,s)}function Nh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Xr,Ve),Ve|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(Xr,Ve),Ve|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,le(Xr,Ve),Ve|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,le(Xr,Ve),Ve|=n;return Ie(e,t,s,r),t.child}function Sh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Pl(e,t,r,n,s){var i=Be(r)?Nr:Te.current;return i=cn(t,i),nn(t,s),r=Ao(e,t,r,n,i,s),n=Io(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Lt(e,t,s)):(de&&n&&vo(t),t.flags|=1,Ie(e,t,r,s),t.child)}function Zc(e,t,r,n,s){if(Be(r)){var i=!0;Si(t)}else i=!1;if(nn(t,s),t.stateNode===null)hi(e,t),bh(t,r,n),El(t,r,n,s),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=nt(u):(u=Be(r)?Nr:Te.current,u=cn(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==u)&&Kc(t,l,n,u),Vt=!1;var m=t.memoizedState;l.state=m,Ai(t,n,l,s),c=t.memoizedState,o!==n||m!==c||Fe.current||Vt?(typeof d=="function"&&(Sl(t,r,d,n),c=t.memoizedState),(o=Vt||qc(t,r,o,n,m,c,u))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=u,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,eh(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:ot(t.type,o),l.props=u,h=t.pendingProps,m=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=nt(c):(c=Be(r)?Nr:Te.current,c=cn(t,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||m!==c)&&Kc(t,l,n,c),Vt=!1,m=t.memoizedState,l.state=m,Ai(t,n,l,s);var x=t.memoizedState;o!==h||m!==x||Fe.current||Vt?(typeof y=="function"&&(Sl(t,r,y,n),x=t.memoizedState),(u=Vt||qc(t,r,u,n,m,x,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,x,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),l.props=n,l.state=x,l.context=c,n=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Tl(e,t,r,n,i,s)}function Tl(e,t,r,n,s,i){Sh(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return s&&Uc(t,r,!1),Lt(e,t,i);n=t.stateNode,Dp.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=dn(t,e.child,null,i),t.child=dn(t,null,o,i)):Ie(e,t,o,i),t.memoizedState=n.state,s&&Uc(t,r,!0),t.child}function Eh(e){var t=e.stateNode;t.pendingContext?Dc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Dc(e,t.context,!1),Eo(e,t.containerInfo)}function eu(e,t,r,n,s){return un(),bo(s),t.flags|=256,Ie(e,t,r,n),t.child}var Al={dehydrated:null,treeContext:null,retryLane:0};function Il(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ch(e,t,r){var n=t.pendingProps,s=he.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),le(he,s&1),e===null)return jl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=ra(l,n,0,null),e=jr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Il(r),t.memoizedState=Al,e):Lo(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Up(e,t,l,n,o,s,r);if(i){i=n.fallback,l=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=sr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=sr(o,i):(i=jr(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?Il(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Al,n}return i=e.child,e=i.sibling,n=sr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Lo(e,t){return t=ra({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ks(e,t,r,n){return n!==null&&bo(n),dn(t,e.child,null,r),e=Lo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Up(e,t,r,n,s,i,l){if(r)return t.flags&256?(t.flags&=-257,n=za(Error(C(422))),Ks(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=ra({mode:"visible",children:n.children},s,0,null),i=jr(i,s,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&dn(t,e.child,null,l),t.child.memoizedState=Il(l),t.memoizedState=Al,i);if(!(t.mode&1))return Ks(e,t,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(C(419)),n=za(i,n,void 0),Ks(e,t,l,n)}if(o=(l&e.childLanes)!==0,ze||o){if(n=_e,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ot(e,s),mt(n,e,s,-1))}return Fo(),n=za(Error(C(421))),Ks(e,t,l,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Yp.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,He=er(s.nextSibling),qe=t,de=!0,dt=null,e!==null&&(Ye[Xe++]=Et,Ye[Xe++]=Ct,Ye[Xe++]=Sr,Et=e.id,Ct=e.overflow,Sr=t),t=Lo(t,n.children),t.flags|=4096,t)}function tu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Nl(e.return,t,r)}function Ma(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Ph(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ie(e,t,n.children,r),n=he.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tu(e,r,t);else if(e.tag===19)tu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(le(he,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ii(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ma(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ii(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ma(t,!0,r,null,i);break;case"together":Ma(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Cr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,r=sr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=sr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function zp(e,t,r){switch(t.tag){case 3:Eh(t),un();break;case 5:th(t);break;case 1:Be(t.type)&&Si(t);break;case 4:Eo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;le(Pi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(le(he,he.current&1),t.flags|=128,null):r&t.child.childLanes?Ch(e,t,r):(le(he,he.current&1),e=Lt(e,t,r),e!==null?e.sibling:null);le(he,he.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ph(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),le(he,he.current),n)break;return null;case 22:case 23:return t.lanes=0,Nh(e,t,r)}return Lt(e,t,r)}var Th,$l,Ah,Ih;Th=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};$l=function(){};Ah=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,kr(bt.current);var i=null;switch(r){case"input":s=tl(e,s),n=tl(e,n),i=[];break;case"select":s=me({},s,{value:void 0}),n=me({},n,{value:void 0}),i=[];break;case"textarea":s=sl(e,s),n=sl(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ji)}al(r,n);var l;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(es.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(es.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&oe("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Ih=function(e,t,r,n){r!==n&&(t.flags|=4)};function $n(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Mp(e,t,r){var n=t.pendingProps;switch(wo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return Be(t.type)&&Ni(),Ce(t),null;case 3:return n=t.stateNode,hn(),ce(Fe),ce(Te),Po(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Hs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dt!==null&&(Fl(dt),dt=null))),$l(e,t),Ce(t),null;case 5:Co(t);var s=kr(hs.current);if(r=t.type,e!==null&&t.stateNode!=null)Ah(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(C(166));return Ce(t),null}if(e=kr(bt.current),Hs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[vt]=t,n[us]=i,e=(t.mode&1)!==0,r){case"dialog":oe("cancel",n),oe("close",n);break;case"iframe":case"object":case"embed":oe("load",n);break;case"video":case"audio":for(s=0;s<zn.length;s++)oe(zn[s],n);break;case"source":oe("error",n);break;case"img":case"image":case"link":oe("error",n),oe("load",n);break;case"details":oe("toggle",n);break;case"input":uc(n,i),oe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},oe("invalid",n);break;case"textarea":hc(n,i),oe("invalid",n)}al(r,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Vs(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Vs(n.textContent,o,e),s=["children",""+o]):es.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&oe("scroll",n)}switch(r){case"input":Rs(n),dc(n,i,!0);break;case"textarea":Rs(n),fc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ji)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ad(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[vt]=t,e[us]=n,Th(e,t,!1,!1),t.stateNode=e;e:{switch(l=ll(r,n),r){case"dialog":oe("cancel",e),oe("close",e),s=n;break;case"iframe":case"object":case"embed":oe("load",e),s=n;break;case"video":case"audio":for(s=0;s<zn.length;s++)oe(zn[s],e);s=n;break;case"source":oe("error",e),s=n;break;case"img":case"image":case"link":oe("error",e),oe("load",e),s=n;break;case"details":oe("toggle",e),s=n;break;case"input":uc(e,n),s=tl(e,n),oe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=me({},n,{value:void 0}),oe("invalid",e);break;case"textarea":hc(e,n),s=sl(e,n),oe("invalid",e);break;default:s=n}al(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?cd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ld(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ts(e,c):typeof c=="number"&&ts(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(es.hasOwnProperty(i)?c!=null&&i==="onScroll"&&oe("scroll",e):c!=null&&so(e,i,c,l))}switch(r){case"input":Rs(e),dc(e,n,!1);break;case"textarea":Rs(e),fc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ar(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Zr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Zr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ji)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ce(t),null;case 6:if(e&&t.stateNode!=null)Ih(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(C(166));if(r=kr(hs.current),kr(bt.current),Hs(t)){if(n=t.stateNode,r=t.memoizedProps,n[vt]=t,(i=n.nodeValue!==r)&&(e=qe,e!==null))switch(e.tag){case 3:Vs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vt]=t,t.stateNode=n}return Ce(t),null;case 13:if(ce(he),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(de&&He!==null&&t.mode&1&&!(t.flags&128))Qd(),un(),t.flags|=98560,i=!1;else if(i=Hs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[vt]=t}else un(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),i=!1}else dt!==null&&(Fl(dt),dt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||he.current&1?we===0&&(we=3):Fo())),t.updateQueue!==null&&(t.flags|=4),Ce(t),null);case 4:return hn(),$l(e,t),e===null&&os(t.stateNode.containerInfo),Ce(t),null;case 10:return jo(t.type._context),Ce(t),null;case 17:return Be(t.type)&&Ni(),Ce(t),null;case 19:if(ce(he),i=t.memoizedState,i===null)return Ce(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)$n(i,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ii(e),l!==null){for(t.flags|=128,$n(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return le(he,he.current&1|2),t.child}e=e.sibling}i.tail!==null&&ye()>mn&&(t.flags|=128,n=!0,$n(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ii(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),$n(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!de)return Ce(t),null}else 2*ye()-i.renderingStartTime>mn&&r!==1073741824&&(t.flags|=128,n=!0,$n(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ye(),t.sibling=null,r=he.current,le(he,n?r&1|2:r&1),t):(Ce(t),null);case 22:case 23:return Mo(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ve&1073741824&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function Fp(e,t){switch(wo(t),t.tag){case 1:return Be(t.type)&&Ni(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hn(),ce(Fe),ce(Te),Po(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Co(t),null;case 13:if(ce(he),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));un()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(he),null;case 4:return hn(),null;case 10:return jo(t.type._context),null;case 22:case 23:return Mo(),null;case 24:return null;default:return null}}var Js=!1,Pe=!1,Bp=typeof WeakSet=="function"?WeakSet:Set,R=null;function Yr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){pe(e,t,n)}else r.current=null}function Ol(e,t,r){try{r()}catch(n){pe(e,t,n)}}var ru=!1;function Wp(e,t){if(yl=bi,e=Dd(),xo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(o=l+s),h!==i||n!==0&&h.nodeType!==3||(c=l+n),h.nodeType===3&&(l+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===e)break t;if(m===r&&++u===s&&(o=l),m===i&&++d===n&&(c=l),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(xl={focusedElem:e,selectionRange:r},bi=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,b=x.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:ot(t.type,w),b);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(v){pe(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return x=ru,ru=!1,x}function Kn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ol(t,r,i)}s=s.next}while(s!==n)}}function ea(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ll(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function $h(e){var t=e.alternate;t!==null&&(e.alternate=null,$h(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vt],delete t[us],delete t[bl],delete t[Np],delete t[Sp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Oh(e){return e.tag===5||e.tag===3||e.tag===4}function nu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Oh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ji));else if(n!==4&&(e=e.child,e!==null))for(Rl(e,t,r),e=e.sibling;e!==null;)Rl(e,t,r),e=e.sibling}function Dl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Dl(e,t,r),e=e.sibling;e!==null;)Dl(e,t,r),e=e.sibling}var je=null,ct=!1;function Mt(e,t,r){for(r=r.child;r!==null;)Lh(e,t,r),r=r.sibling}function Lh(e,t,r){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(qi,r)}catch{}switch(r.tag){case 5:Pe||Yr(r,t);case 6:var n=je,s=ct;je=null,Mt(e,t,r),je=n,ct=s,je!==null&&(ct?(e=je,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):je.removeChild(r.stateNode));break;case 18:je!==null&&(ct?(e=je,r=r.stateNode,e.nodeType===8?$a(e.parentNode,r):e.nodeType===1&&$a(e,r),is(e)):$a(je,r.stateNode));break;case 4:n=je,s=ct,je=r.stateNode.containerInfo,ct=!0,Mt(e,t,r),je=n,ct=s;break;case 0:case 11:case 14:case 15:if(!Pe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Ol(r,t,l),s=s.next}while(s!==n)}Mt(e,t,r);break;case 1:if(!Pe&&(Yr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){pe(r,t,o)}Mt(e,t,r);break;case 21:Mt(e,t,r);break;case 22:r.mode&1?(Pe=(n=Pe)||r.memoizedState!==null,Mt(e,t,r),Pe=n):Mt(e,t,r);break;default:Mt(e,t,r)}}function su(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Bp),t.forEach(function(n){var s=Xp.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function at(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:je=o.stateNode,ct=!1;break e;case 3:je=o.stateNode.containerInfo,ct=!0;break e;case 4:je=o.stateNode.containerInfo,ct=!0;break e}o=o.return}if(je===null)throw Error(C(160));Lh(i,l,s),je=null,ct=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){pe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rh(t,e),t=t.sibling}function Rh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(at(t,e),yt(e),n&4){try{Kn(3,e,e.return),ea(3,e)}catch(w){pe(e,e.return,w)}try{Kn(5,e,e.return)}catch(w){pe(e,e.return,w)}}break;case 1:at(t,e),yt(e),n&512&&r!==null&&Yr(r,r.return);break;case 5:if(at(t,e),yt(e),n&512&&r!==null&&Yr(r,r.return),e.flags&32){var s=e.stateNode;try{ts(s,"")}catch(w){pe(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&sd(s,i),ll(o,l);var u=ll(o,i);for(l=0;l<c.length;l+=2){var d=c[l],h=c[l+1];d==="style"?cd(s,h):d==="dangerouslySetInnerHTML"?ld(s,h):d==="children"?ts(s,h):so(s,d,h,u)}switch(o){case"input":rl(s,i);break;case"textarea":id(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Zr(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Zr(s,!!i.multiple,i.defaultValue,!0):Zr(s,!!i.multiple,i.multiple?[]:"",!1))}s[us]=i}catch(w){pe(e,e.return,w)}}break;case 6:if(at(t,e),yt(e),n&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){pe(e,e.return,w)}}break;case 3:if(at(t,e),yt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{is(t.containerInfo)}catch(w){pe(e,e.return,w)}break;case 4:at(t,e),yt(e);break;case 13:at(t,e),yt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Uo=ye())),n&4&&su(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Pe=(u=Pe)||d,at(t,e),Pe=u):at(t,e),yt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(R=e,d=e.child;d!==null;){for(h=R=d;R!==null;){switch(m=R,y=m.child,m.tag){case 0:case 11:case 14:case 15:Kn(4,m,m.return);break;case 1:Yr(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){pe(n,r,w)}}break;case 5:Yr(m,m.return);break;case 22:if(m.memoizedState!==null){au(h);continue}}y!==null?(y.return=m,R=y):au(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=od("display",l))}catch(w){pe(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){pe(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:at(t,e),yt(e),n&4&&su(e);break;case 21:break;default:at(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Oh(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ts(s,""),n.flags&=-33);var i=nu(e);Dl(e,i,s);break;case 3:case 4:var l=n.stateNode.containerInfo,o=nu(e);Rl(e,o,l);break;default:throw Error(C(161))}}catch(c){pe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vp(e,t,r){R=e,Dh(e)}function Dh(e,t,r){for(var n=(e.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||Js;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Pe;o=Js;var u=Pe;if(Js=l,(Pe=c)&&!u)for(R=s;R!==null;)l=R,c=l.child,l.tag===22&&l.memoizedState!==null?lu(s):c!==null?(c.return=l,R=c):lu(s);for(;i!==null;)R=i,Dh(i),i=i.sibling;R=s,Js=o,Pe=u}iu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):iu(e)}}function iu(e){for(;R!==null;){var t=R;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pe||ea(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Pe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ot(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Wc(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Wc(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&is(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Pe||t.flags&512&&Ll(t)}catch(m){pe(t,t.return,m)}}if(t===e){R=null;break}if(r=t.sibling,r!==null){r.return=t.return,R=r;break}R=t.return}}function au(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var r=t.sibling;if(r!==null){r.return=t.return,R=r;break}R=t.return}}function lu(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ea(4,t)}catch(c){pe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){pe(t,s,c)}}var i=t.return;try{Ll(t)}catch(c){pe(t,i,c)}break;case 5:var l=t.return;try{Ll(t)}catch(c){pe(t,l,c)}}}catch(c){pe(t,t.return,c)}if(t===e){R=null;break}var o=t.sibling;if(o!==null){o.return=t.return,R=o;break}R=t.return}}var Hp=Math.ceil,Li=Dt.ReactCurrentDispatcher,Ro=Dt.ReactCurrentOwner,tt=Dt.ReactCurrentBatchConfig,Z=0,_e=null,xe=null,Ne=0,Ve=0,Xr=ur(0),we=0,gs=null,Cr=0,ta=0,Do=0,Jn=null,De=null,Uo=0,mn=1/0,jt=null,Ri=!1,Ul=null,rr=null,Gs=!1,Qt=null,Di=0,Gn=0,zl=null,fi=-1,mi=0;function $e(){return Z&6?ye():fi!==-1?fi:fi=ye()}function nr(e){return e.mode&1?Z&2&&Ne!==0?Ne&-Ne:Cp.transition!==null?(mi===0&&(mi=bd()),mi):(e=ne,e!==0||(e=window.event,e=e===void 0?16:Cd(e.type)),e):1}function mt(e,t,r,n){if(50<Gn)throw Gn=0,zl=null,Error(C(185));ks(e,r,n),(!(Z&2)||e!==_e)&&(e===_e&&(!(Z&2)&&(ta|=r),we===4&&Kt(e,Ne)),We(e,n),r===1&&Z===0&&!(t.mode&1)&&(mn=ye()+500,Yi&&dr()))}function We(e,t){var r=e.callbackNode;Cm(e,t);var n=wi(e,e===_e?Ne:0);if(n===0)r!==null&&gc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&gc(r),t===1)e.tag===0?Ep(ou.bind(null,e)):Kd(ou.bind(null,e)),_p(function(){!(Z&6)&&dr()}),r=null;else{switch(kd(n)){case 1:r=co;break;case 4:r=vd;break;case 16:r=vi;break;case 536870912:r=wd;break;default:r=vi}r=Hh(r,Uh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Uh(e,t){if(fi=-1,mi=0,Z&6)throw Error(C(327));var r=e.callbackNode;if(sn()&&e.callbackNode!==r)return null;var n=wi(e,e===_e?Ne:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ui(e,n);else{t=n;var s=Z;Z|=2;var i=Mh();(_e!==e||Ne!==t)&&(jt=null,mn=ye()+500,_r(e,t));do try{Jp();break}catch(o){zh(e,o)}while(!0);_o(),Li.current=i,Z=s,xe!==null?t=0:(_e=null,Ne=0,t=we)}if(t!==0){if(t===2&&(s=hl(e),s!==0&&(n=s,t=Ml(e,s))),t===1)throw r=gs,_r(e,0),Kt(e,n),We(e,ye()),r;if(t===6)Kt(e,n);else{if(s=e.current.alternate,!(n&30)&&!qp(s)&&(t=Ui(e,n),t===2&&(i=hl(e),i!==0&&(n=i,t=Ml(e,i))),t===1))throw r=gs,_r(e,0),Kt(e,n),We(e,ye()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(C(345));case 2:yr(e,De,jt);break;case 3:if(Kt(e,n),(n&130023424)===n&&(t=Uo+500-ye(),10<t)){if(wi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){$e(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=wl(yr.bind(null,e,De,jt),t);break}yr(e,De,jt);break;case 4:if(Kt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var l=31-ft(n);i=1<<l,l=t[l],l>s&&(s=l),n&=~i}if(n=s,n=ye()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Hp(n/1960))-n,10<n){e.timeoutHandle=wl(yr.bind(null,e,De,jt),n);break}yr(e,De,jt);break;case 5:yr(e,De,jt);break;default:throw Error(C(329))}}}return We(e,ye()),e.callbackNode===r?Uh.bind(null,e):null}function Ml(e,t){var r=Jn;return e.current.memoizedState.isDehydrated&&(_r(e,t).flags|=256),e=Ui(e,t),e!==2&&(t=De,De=r,t!==null&&Fl(t)),e}function Fl(e){De===null?De=e:De.push.apply(De,e)}function qp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!gt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kt(e,t){for(t&=~Do,t&=~ta,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ft(t),n=1<<r;e[r]=-1,t&=~n}}function ou(e){if(Z&6)throw Error(C(327));sn();var t=wi(e,0);if(!(t&1))return We(e,ye()),null;var r=Ui(e,t);if(e.tag!==0&&r===2){var n=hl(e);n!==0&&(t=n,r=Ml(e,n))}if(r===1)throw r=gs,_r(e,0),Kt(e,t),We(e,ye()),r;if(r===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yr(e,De,jt),We(e,ye()),null}function zo(e,t){var r=Z;Z|=1;try{return e(t)}finally{Z=r,Z===0&&(mn=ye()+500,Yi&&dr())}}function Pr(e){Qt!==null&&Qt.tag===0&&!(Z&6)&&sn();var t=Z;Z|=1;var r=tt.transition,n=ne;try{if(tt.transition=null,ne=1,e)return e()}finally{ne=n,tt.transition=r,Z=t,!(Z&6)&&dr()}}function Mo(){Ve=Xr.current,ce(Xr)}function _r(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,kp(r)),xe!==null)for(r=xe.return;r!==null;){var n=r;switch(wo(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ni();break;case 3:hn(),ce(Fe),ce(Te),Po();break;case 5:Co(n);break;case 4:hn();break;case 13:ce(he);break;case 19:ce(he);break;case 10:jo(n.type._context);break;case 22:case 23:Mo()}r=r.return}if(_e=e,xe=e=sr(e.current,null),Ne=Ve=t,we=0,gs=null,Do=ta=Cr=0,De=Jn=null,br!==null){for(t=0;t<br.length;t++)if(r=br[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=s,n.next=l}r.pending=n}br=null}return e}function zh(e,t){do{var r=xe;try{if(_o(),ui.current=Oi,$i){for(var n=fe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}$i=!1}if(Er=0,ke=ve=fe=null,qn=!1,fs=0,Ro.current=null,r===null||r.return===null){we=1,gs=t,xe=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=Ne,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Gc(l);if(y!==null){y.flags&=-257,Qc(y,l,o,i,t),y.mode&1&&Jc(i,u,t),t=y,c=u;var x=t.updateQueue;if(x===null){var w=new Set;w.add(c),t.updateQueue=w}else x.add(c);break e}else{if(!(t&1)){Jc(i,u,t),Fo();break e}c=Error(C(426))}}else if(de&&o.mode&1){var b=Gc(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Qc(b,l,o,i,t),bo(fn(c,o));break e}}i=c=fn(c,o),we!==4&&(we=2),Jn===null?Jn=[i]:Jn.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=kh(i,c,t);Bc(i,g);break e;case 1:o=c;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(rr===null||!rr.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=_h(i,o,t);Bc(i,v);break e}}i=i.return}while(i!==null)}Bh(r)}catch(_){t=_,xe===r&&r!==null&&(xe=r=r.return);continue}break}while(!0)}function Mh(){var e=Li.current;return Li.current=Oi,e===null?Oi:e}function Fo(){(we===0||we===3||we===2)&&(we=4),_e===null||!(Cr&268435455)&&!(ta&268435455)||Kt(_e,Ne)}function Ui(e,t){var r=Z;Z|=2;var n=Mh();(_e!==e||Ne!==t)&&(jt=null,_r(e,t));do try{Kp();break}catch(s){zh(e,s)}while(!0);if(_o(),Z=r,Li.current=n,xe!==null)throw Error(C(261));return _e=null,Ne=0,we}function Kp(){for(;xe!==null;)Fh(xe)}function Jp(){for(;xe!==null&&!vm();)Fh(xe)}function Fh(e){var t=Vh(e.alternate,e,Ve);e.memoizedProps=e.pendingProps,t===null?Bh(e):xe=t,Ro.current=null}function Bh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Fp(r,t),r!==null){r.flags&=32767,xe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,xe=null;return}}else if(r=Mp(r,t,Ve),r!==null){xe=r;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);we===0&&(we=5)}function yr(e,t,r){var n=ne,s=tt.transition;try{tt.transition=null,ne=1,Gp(e,t,r,n)}finally{tt.transition=s,ne=n}return null}function Gp(e,t,r,n){do sn();while(Qt!==null);if(Z&6)throw Error(C(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Pm(e,i),e===_e&&(xe=_e=null,Ne=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gs||(Gs=!0,Hh(vi,function(){return sn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=tt.transition,tt.transition=null;var l=ne;ne=1;var o=Z;Z|=4,Ro.current=null,Wp(e,r),Rh(r,e),pp(xl),bi=!!yl,xl=yl=null,e.current=r,Vp(r),wm(),Z=o,ne=l,tt.transition=i}else e.current=r;if(Gs&&(Gs=!1,Qt=e,Di=s),i=e.pendingLanes,i===0&&(rr=null),_m(r.stateNode),We(e,ye()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ri)throw Ri=!1,e=Ul,Ul=null,e;return Di&1&&e.tag!==0&&sn(),i=e.pendingLanes,i&1?e===zl?Gn++:(Gn=0,zl=e):Gn=0,dr(),null}function sn(){if(Qt!==null){var e=kd(Di),t=tt.transition,r=ne;try{if(tt.transition=null,ne=16>e?16:e,Qt===null)var n=!1;else{if(e=Qt,Qt=null,Di=0,Z&6)throw Error(C(331));var s=Z;for(Z|=4,R=e.current;R!==null;){var i=R,l=i.child;if(R.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(R=u;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:Kn(8,d,i)}var h=d.child;if(h!==null)h.return=d,R=h;else for(;R!==null;){d=R;var m=d.sibling,y=d.return;if($h(d),d===u){R=null;break}if(m!==null){m.return=y,R=m;break}R=y}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}R=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,R=l;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,R=g;break e}R=i.return}}var f=e.current;for(R=f;R!==null;){l=R;var p=l.child;if(l.subtreeFlags&2064&&p!==null)p.return=l,R=p;else e:for(l=f;R!==null;){if(o=R,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ea(9,o)}}catch(_){pe(o,o.return,_)}if(o===l){R=null;break e}var v=o.sibling;if(v!==null){v.return=o.return,R=v;break e}R=o.return}}if(Z=s,dr(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(qi,e)}catch{}n=!0}return n}finally{ne=r,tt.transition=t}}return!1}function cu(e,t,r){t=fn(r,t),t=kh(e,t,1),e=tr(e,t,1),t=$e(),e!==null&&(ks(e,1,t),We(e,t))}function pe(e,t,r){if(e.tag===3)cu(e,e,r);else for(;t!==null;){if(t.tag===3){cu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(rr===null||!rr.has(n))){e=fn(r,e),e=_h(t,e,1),t=tr(t,e,1),e=$e(),t!==null&&(ks(t,1,e),We(t,e));break}}t=t.return}}function Qp(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&r,_e===e&&(Ne&r)===r&&(we===4||we===3&&(Ne&130023424)===Ne&&500>ye()-Uo?_r(e,0):Do|=r),We(e,t)}function Wh(e,t){t===0&&(e.mode&1?(t=zs,zs<<=1,!(zs&130023424)&&(zs=4194304)):t=1);var r=$e();e=Ot(e,t),e!==null&&(ks(e,t,r),We(e,r))}function Yp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Wh(e,r)}function Xp(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(t),Wh(e,r)}var Vh;Vh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fe.current)ze=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ze=!1,zp(e,t,r);ze=!!(e.flags&131072)}else ze=!1,de&&t.flags&1048576&&Jd(t,Ci,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;hi(e,t),e=t.pendingProps;var s=cn(t,Te.current);nn(t,r),s=Ao(null,t,n,e,s,r);var i=Io();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Be(n)?(i=!0,Si(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,So(t),s.updater=Zi,t.stateNode=s,s._reactInternals=t,El(t,n,e,r),t=Tl(null,t,n,!0,i,r)):(t.tag=0,de&&i&&vo(t),Ie(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(hi(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=e0(n),e=ot(n,e),s){case 0:t=Pl(null,t,n,e,r);break e;case 1:t=Zc(null,t,n,e,r);break e;case 11:t=Yc(null,t,n,e,r);break e;case 14:t=Xc(null,t,n,ot(n.type,e),r);break e}throw Error(C(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ot(n,s),Pl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ot(n,s),Zc(e,t,n,s,r);case 3:e:{if(Eh(t),e===null)throw Error(C(387));n=t.pendingProps,i=t.memoizedState,s=i.element,eh(e,t),Ai(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=fn(Error(C(423)),t),t=eu(e,t,n,r,s);break e}else if(n!==s){s=fn(Error(C(424)),t),t=eu(e,t,n,r,s);break e}else for(He=er(t.stateNode.containerInfo.firstChild),qe=t,de=!0,dt=null,r=Xd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(un(),n===s){t=Lt(e,t,r);break e}Ie(e,t,n,r)}t=t.child}return t;case 5:return th(t),e===null&&jl(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,vl(n,s)?l=null:i!==null&&vl(n,i)&&(t.flags|=32),Sh(e,t),Ie(e,t,l,r),t.child;case 6:return e===null&&jl(t),null;case 13:return Ch(e,t,r);case 4:return Eo(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=dn(t,null,n,r):Ie(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ot(n,s),Yc(e,t,n,s,r);case 7:return Ie(e,t,t.pendingProps,r),t.child;case 8:return Ie(e,t,t.pendingProps.children,r),t.child;case 12:return Ie(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,le(Pi,n._currentValue),n._currentValue=l,i!==null)if(gt(i.value,l)){if(i.children===s.children&&!Fe.current){t=Lt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Tt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Nl(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(C(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Nl(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ie(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,nn(t,r),s=nt(s),n=n(s),t.flags|=1,Ie(e,t,n,r),t.child;case 14:return n=t.type,s=ot(n,t.pendingProps),s=ot(n.type,s),Xc(e,t,n,s,r);case 15:return jh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ot(n,s),hi(e,t),t.tag=1,Be(n)?(e=!0,Si(t)):e=!1,nn(t,r),bh(t,n,s),El(t,n,s,r),Tl(null,t,n,!0,e,r);case 19:return Ph(e,t,r);case 22:return Nh(e,t,r)}throw Error(C(156,t.tag))};function Hh(e,t){return xd(e,t)}function Zp(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(e,t,r,n){return new Zp(e,t,r,n)}function Bo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function e0(e){if(typeof e=="function")return Bo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ao)return 11;if(e===lo)return 14}return 2}function sr(e,t){var r=e.alternate;return r===null?(r=Ze(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function pi(e,t,r,n,s,i){var l=2;if(n=e,typeof e=="function")Bo(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Br:return jr(r.children,s,i,t);case io:l=8,s|=8;break;case Ya:return e=Ze(12,r,t,s|2),e.elementType=Ya,e.lanes=i,e;case Xa:return e=Ze(13,r,t,s),e.elementType=Xa,e.lanes=i,e;case Za:return e=Ze(19,r,t,s),e.elementType=Za,e.lanes=i,e;case td:return ra(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zu:l=10;break e;case ed:l=9;break e;case ao:l=11;break e;case lo:l=14;break e;case Wt:l=16,n=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Ze(l,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function jr(e,t,r,n){return e=Ze(7,e,n,t),e.lanes=r,e}function ra(e,t,r,n){return e=Ze(22,e,n,t),e.elementType=td,e.lanes=r,e.stateNode={isHidden:!1},e}function Fa(e,t,r){return e=Ze(6,e,null,t),e.lanes=r,e}function Ba(e,t,r){return t=Ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function t0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ka(0),this.expirationTimes=ka(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ka(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wo(e,t,r,n,s,i,l,o,c){return e=new t0(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ze(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},So(i),e}function r0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function qh(e){if(!e)return lr;e=e._reactInternals;e:{if(Ir(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var r=e.type;if(Be(r))return qd(e,r,t)}return t}function Kh(e,t,r,n,s,i,l,o,c){return e=Wo(r,n,!0,e,s,i,l,o,c),e.context=qh(null),r=e.current,n=$e(),s=nr(r),i=Tt(n,s),i.callback=t??null,tr(r,i,s),e.current.lanes=s,ks(e,s,n),We(e,n),e}function na(e,t,r,n){var s=t.current,i=$e(),l=nr(s);return r=qh(r),t.context===null?t.context=r:t.pendingContext=r,t=Tt(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=tr(s,t,l),e!==null&&(mt(e,s,l,i),ci(e,s,l)),l}function zi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Vo(e,t){uu(e,t),(e=e.alternate)&&uu(e,t)}function n0(){return null}var Jh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ho(e){this._internalRoot=e}sa.prototype.render=Ho.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));na(e,t,null,null)};sa.prototype.unmount=Ho.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pr(function(){na(null,e,null,null)}),t[$t]=null}};function sa(e){this._internalRoot=e}sa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<qt.length&&t!==0&&t<qt[r].priority;r++);qt.splice(r,0,e),r===0&&Ed(e)}};function qo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ia(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function du(){}function s0(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=zi(l);i.call(u)}}var l=Kh(t,n,e,0,null,!1,!1,"",du);return e._reactRootContainer=l,e[$t]=l.current,os(e.nodeType===8?e.parentNode:e),Pr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=zi(c);o.call(u)}}var c=Wo(e,0,!1,null,null,!1,!1,"",du);return e._reactRootContainer=c,e[$t]=c.current,os(e.nodeType===8?e.parentNode:e),Pr(function(){na(t,c,r,n)}),c}function aa(e,t,r,n,s){var i=r._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var c=zi(l);o.call(c)}}na(t,l,e,s)}else l=s0(r,t,e,s,n);return zi(l)}_d=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Un(t.pendingLanes);r!==0&&(uo(t,r|1),We(t,ye()),!(Z&6)&&(mn=ye()+500,dr()))}break;case 13:Pr(function(){var n=Ot(e,1);if(n!==null){var s=$e();mt(n,e,1,s)}}),Vo(e,1)}};ho=function(e){if(e.tag===13){var t=Ot(e,134217728);if(t!==null){var r=$e();mt(t,e,134217728,r)}Vo(e,134217728)}};jd=function(e){if(e.tag===13){var t=nr(e),r=Ot(e,t);if(r!==null){var n=$e();mt(r,e,t,n)}Vo(e,t)}};Nd=function(){return ne};Sd=function(e,t){var r=ne;try{return ne=e,t()}finally{ne=r}};cl=function(e,t,r){switch(t){case"input":if(rl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Qi(n);if(!s)throw Error(C(90));nd(n),rl(n,s)}}}break;case"textarea":id(e,r);break;case"select":t=r.value,t!=null&&Zr(e,!!r.multiple,t,!1)}};hd=zo;fd=Pr;var i0={usingClientEntryPoint:!1,Events:[js,qr,Qi,ud,dd,zo]},On={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a0={bundleType:On.bundleType,version:On.version,rendererPackageName:On.rendererPackageName,rendererConfig:On.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gd(e),e===null?null:e.stateNode},findFiberByHostInstance:On.findFiberByHostInstance||n0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qs.isDisabled&&Qs.supportsFiber)try{qi=Qs.inject(a0),wt=Qs}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i0;Je.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qo(t))throw Error(C(200));return r0(e,t,null,r)};Je.createRoot=function(e,t){if(!qo(e))throw Error(C(299));var r=!1,n="",s=Jh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Wo(e,1,!1,null,null,r,!1,n,s),e[$t]=t.current,os(e.nodeType===8?e.parentNode:e),new Ho(t)};Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=gd(t),e=e===null?null:e.stateNode,e};Je.flushSync=function(e){return Pr(e)};Je.hydrate=function(e,t,r){if(!ia(t))throw Error(C(200));return aa(null,e,t,!0,r)};Je.hydrateRoot=function(e,t,r){if(!qo(e))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",l=Jh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Kh(t,null,e,1,r??null,s,!1,i,l),e[$t]=t.current,os(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new sa(t)};Je.render=function(e,t,r){if(!ia(t))throw Error(C(200));return aa(null,e,t,!1,r)};Je.unmountComponentAtNode=function(e){if(!ia(e))throw Error(C(40));return e._reactRootContainer?(Pr(function(){aa(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1};Je.unstable_batchedUpdates=zo;Je.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ia(r))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return aa(e,t,r,!1,n)};Je.version="18.3.1-next-f1338f8080-20240426";function Gh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gh)}catch(e){console.error(e)}}Gh(),Gu.exports=Je;var l0=Gu.exports,Qh,hu=l0;Qh=hu.createRoot,hu.hydrateRoot;const o0="modulepreload",c0=function(e){return"/"+e},fu={},Ss=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=c0(c),c in fu)return;fu[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":o0,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((m,y)=>{h.addEventListener("load",m),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return s.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},u0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>kn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ko extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class d0 extends Ko{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class h0 extends Ko{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class f0 extends Ko{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Bl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Bl||(Bl={}));var m0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class p0{constructor(t,{headers:r={},customFetch:n,region:s=Bl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=u0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return m0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:l}=r;let o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let u;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=l):typeof l=="string"?(o["Content-Type"]="text/plain",u=l):typeof FormData<"u"&&l instanceof FormData?u=l:(o["Content-Type"]="application/json",u=JSON.stringify(l)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:u}).catch(x=>{throw new d0(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new h0(d);if(!d.ok)throw new f0(d);let m=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield d.json():m==="application/octet-stream"?y=yield d.blob():m==="text/event-stream"?y=d:m==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var Ue={},Jo={},la={},Es={},oa={},ca={},g0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},pn=g0();const y0=pn.fetch,Yh=pn.fetch.bind(pn),Xh=pn.Headers,x0=pn.Request,v0=pn.Response,kn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Xh,Request:x0,Response:v0,default:Yh,fetch:y0},Symbol.toStringTag,{value:"Module"})),w0=Lf(kn);var ua={};Object.defineProperty(ua,"__esModule",{value:!0});let b0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ua.default=b0;var Zh=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ca,"__esModule",{value:!0});const k0=Zh(w0),_0=Zh(ua);let j0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=k0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,o,c;let u=null,d=null,h=null,m=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const w=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),b=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");w&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,y="OK")}catch{i.status===404&&w===""?(m=204,y="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,y="OK"),u&&this.shouldThrowOnError)throw new _0.default(u)}return{error:u,data:d,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var l,o,c;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};ca.default=j0;var N0=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oa,"__esModule",{value:!0});const S0=N0(ca);let E0=class extends S0.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const l=i?`${i}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:l="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${u}"; options=${c};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};oa.default=E0;var C0=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Es,"__esModule",{value:!0});const P0=C0(oa);let T0=class extends P0.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Es.default=T0;var A0=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(la,"__esModule",{value:!0});const Ln=A0(Es);let I0=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new Ln.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const l=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Ln.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const l="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ln.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Ln.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ln.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};la.default=I0;var da={},ha={};Object.defineProperty(ha,"__esModule",{value:!0});ha.version=void 0;ha.version="0.0.0-automated";Object.defineProperty(da,"__esModule",{value:!0});da.DEFAULT_HEADERS=void 0;const $0=ha;da.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${$0.version}`};var ef=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jo,"__esModule",{value:!0});const O0=ef(la),L0=ef(Es),R0=da;let D0=class tf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},R0.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new O0.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new tf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let l;const o=new URL(`${this.url}/rpc/${t}`);let c;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(l="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new L0.default({method:l,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Jo.default=D0;var _n=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.PostgrestError=Ue.PostgrestBuilder=Ue.PostgrestTransformBuilder=Ue.PostgrestFilterBuilder=Ue.PostgrestQueryBuilder=Ue.PostgrestClient=void 0;const rf=_n(Jo);Ue.PostgrestClient=rf.default;const nf=_n(la);Ue.PostgrestQueryBuilder=nf.default;const sf=_n(Es);Ue.PostgrestFilterBuilder=sf.default;const af=_n(oa);Ue.PostgrestTransformBuilder=af.default;const lf=_n(ca);Ue.PostgrestBuilder=lf.default;const of=_n(ua);Ue.PostgrestError=of.default;var U0=Ue.default={PostgrestClient:rf.default,PostgrestQueryBuilder:nf.default,PostgrestFilterBuilder:sf.default,PostgrestTransformBuilder:af.default,PostgrestBuilder:lf.default,PostgrestError:of.default};const{PostgrestClient:z0,PostgrestQueryBuilder:Zy,PostgrestFilterBuilder:ex,PostgrestTransformBuilder:tx,PostgrestBuilder:rx,PostgrestError:nx}=U0;let Wl;typeof window>"u"?Wl=require("ws"):Wl=window.WebSocket;const M0=Wl,F0="2.11.10",B0={"X-Client-Info":`realtime-js/${F0}`},W0="1.0.0",cf=1e4,V0=1e3;var an;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(an||(an={}));var Ae;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ae||(Ae={}));var ut;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ut||(ut={}));var Vl;(function(e){e.websocket="websocket"})(Vl||(Vl={}));var vr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(vr||(vr={}));class H0{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const o=n.decode(t.slice(l,l+s));l=l+s;const c=n.decode(t.slice(l,l+i));l=l+i;const u=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class uf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ie||(ie={}));const mu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,l)=>(i[l]=q0(l,e,t,s),i),{})},q0=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,l=r[e];return i&&!n.includes(i)?df(i,l):Hl(l)},df=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Q0(t,r)}switch(e){case ie.bool:return K0(t);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return J0(t);case ie.json:case ie.jsonb:return G0(t);case ie.timestamp:return Y0(t);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return Hl(t);default:return Hl(t)}},Hl=e=>e,K0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},J0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},G0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Q0=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>df(t,o))}return e},Y0=e=>typeof e=="string"?e.replace(" ","T"):e,hf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Wa{constructor(t,r,n={},s=cf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pu||(pu={}));class Qn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qn.syncState(this.state,s,i,l),this.pendingDiffs.forEach(c=>{this.state=Qn.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Qn.syncDiff(this.state,s,i,l),o())}),this.onJoin((s,i,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:l})}),this.onLeave((s,i,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),l=this.transformState(r),o={},c={};return this.map(i,(u,d)=>{l[u]||(c[u]=d)}),this.map(l,(u,d)=>{const h=i[u];if(h){const m=d.map(b=>b.presence_ref),y=h.map(b=>b.presence_ref),x=d.filter(b=>y.indexOf(b.presence_ref)<0),w=h.filter(b=>m.indexOf(b.presence_ref)<0);x.length>0&&(o[u]=x),w.length>0&&(c[u]=w)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const h=t[o].map(y=>y.presence_ref),m=d.filter(y=>h.indexOf(y.presence_ref)<0);t[o].unshift(...m)}n(o,d,c)}),this.map(l,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=u,s(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gu||(gu={}));var yu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(yu||(yu={}));var Nt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Nt||(Nt={}));class Go{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Wa(this,ut.join,this.params,this.timeout),this.rejoinTimer=new uf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ae.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ut.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Qn(this),this.broadcastEndpointURL=hf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:l,private:o}}=this.params;this._onError(d=>t==null?void 0:t(Nt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Nt.CLOSED));const c={},u={broadcast:i,presence:l,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Nt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,x=[];for(let w=0;w<y;w++){const b=m[w],{filter:{event:g,schema:f,table:p,filter:v}}=b,_=d&&d[w];if(_&&_.event===g&&_.schema===f&&_.table===p&&_.filter===v)x.push(Object.assign(Object.assign({},b),{id:_.id}));else{this.unsubscribe(),this.state=Ae.errored,t==null||t(Nt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Nt.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ae.errored,t==null||t(Nt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Nt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ae.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ut.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new Wa(this,ut.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Wa(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const l=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=ut;if(n&&[o,c,u,d].indexOf(l)>=0&&n!==this._joinRef())return;let m=this._onMessage(l,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var x,w,b;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(w=y.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===l}).map(y=>y.callback(m,n)):(i=this.bindings[l])===null||i===void 0||i.filter(y=>{var x,w,b,g,f,p;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const v=y.id,_=(x=y.filter)===null||x===void 0?void 0:x.event;return v&&((w=r.ids)===null||w===void 0?void 0:w.includes(v))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const v=(f=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return v==="*"||v===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:w,table:b,commit_timestamp:g,type:f,errors:p}=x;m=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:g,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(x))}y.callback(m,n)})}_isClosed(){return this.state===Ae.closed}_isJoined(){return this.state===Ae.joined}_isJoining(){return this.state===Ae.joining}_isLeaving(){return this.state===Ae.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Go.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ut.close,{},t)}_onError(t){this._on(ut.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ae.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=mu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=mu(t.columns,t.old_record)),r}}const xu=()=>{},X0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Z0{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=B0,this.params={},this.timeout=cf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xu,this.ref=0,this.logger=xu,this.conn=null,this.sendBuffer=[],this.serializer=new H0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...o)=>Ss(async()=>{const{default:c}=await Promise.resolve().then(()=>kn);return{default:c}},void 0).then(({default:c})=>c(...o)):l=fetch,(...o)=>l(...o)},this.endPoint=`${t}/${Vl.websocket}`,this.httpEndpoint=hf(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,l)=>l(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new uf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=M0),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new eg(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:W0}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case an.connecting:return vr.Connecting;case an.open:return vr.Open;case an.closing:return vr.Closing;default:return vr.Closed}}isConnected(){return this.connectionState()===vr.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Go(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,l=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(ut.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(V0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:l}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${l&&"("+l+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,l)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ut.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([X0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class eg{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=an.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Qo extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function be(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class tg extends Qo{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ql extends Qo{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var rg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const ff=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>kn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ng=()=>rg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ss(()=>Promise.resolve().then(()=>kn),void 0)).Response:Response}),Kl=e=>{if(Array.isArray(e))return e.map(r=>Kl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Kl(n)}),t};var $r=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const Va=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sg=(e,t,r)=>$r(void 0,void 0,void 0,function*(){const n=yield ng();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new tg(Va(s),e.status||500))}).catch(s=>{t(new ql(Va(s),s))}):t(new ql(Va(e),e))}),ig=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Cs(e,t,r,n,s,i){return $r(this,void 0,void 0,function*(){return new Promise((l,o)=>{e(r,ig(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>sg(c,o,n))})})}function Mi(e,t,r,n){return $r(this,void 0,void 0,function*(){return Cs(e,"GET",t,r,n)})}function Ht(e,t,r,n,s){return $r(this,void 0,void 0,function*(){return Cs(e,"POST",t,n,s,r)})}function ag(e,t,r,n,s){return $r(this,void 0,void 0,function*(){return Cs(e,"PUT",t,n,s,r)})}function lg(e,t,r,n){return $r(this,void 0,void 0,function*(){return Cs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function mf(e,t,r,n,s){return $r(this,void 0,void 0,function*(){return Cs(e,"DELETE",t,n,s,r)})}var Re=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const og={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cg{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=ff(s)}uploadOrUpdate(t,r,n,s){return Re(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},vu),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{})),m=yield h.json();return h.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(be(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Re(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:vu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:d}),m=yield h.json();return h.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(be(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Re(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ht(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new Qo("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:o},error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}update(t,r,n){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Re(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Re(this,void 0,void 0,function*(){try{return{data:{path:(yield Ht(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Re(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ht(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Re(this,void 0,void 0,function*(){try{const s=yield Ht(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}download(t,r){return Re(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Mi(this.fetch,`${this.url}/${s}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(be(o))return{data:null,error:o};throw o}})}info(t){return Re(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Mi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Kl(n),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}exists(t){return Re(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield lg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(be(n)&&n instanceof ql){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return Re(this,void 0,void 0,function*(){try{return{data:yield mf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}list(t,r,n){return Re(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},og),r),{prefix:t||""});return{data:yield Ht(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const ug="2.7.1",dg={"X-Client-Info":`storage-js/${ug}`};var Rr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class hg{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},dg),r),this.fetch=ff(n)}listBuckets(){return Rr(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(be(t))return{data:null,error:t};throw t}})}getBucket(t){return Rr(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Rr(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Rr(this,void 0,void 0,function*(){try{return{data:yield ag(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Rr(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Rr(this,void 0,void 0,function*(){try{return{data:yield mf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}}class fg extends hg{constructor(t,r={},n){super(t,r,n)}from(t){return new cg(this.url,this.headers,t,this.fetch)}}const mg="2.50.0";let Mn="";typeof Deno<"u"?Mn="deno":typeof document<"u"?Mn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mn="react-native":Mn="node";const pg={"X-Client-Info":`supabase-js-${Mn}/${mg}`},gg={headers:pg},yg={schema:"public"},xg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vg={};var wg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const bg=e=>{let t;return e?t=e:typeof fetch>"u"?t=Yh:t=fetch,(...r)=>t(...r)},kg=()=>typeof Headers>"u"?Xh:Headers,_g=(e,t,r)=>{const n=bg(r),s=kg();return(i,l)=>wg(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new s(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},l),{headers:u}))})};var jg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};function Ng(e){return e.endsWith("/")?e:e+"/"}function Sg(e,t){var r,n;const{db:s,auth:i,realtime:l,global:o}=e,{db:c,auth:u,realtime:d,global:h}=t,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),l),global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>jg(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const pf="2.70.0",Mr=30*1e3,Jl=3,Ha=Jl*Mr,Eg="http://localhost:9999",Cg="supabase.auth.token",Pg={"X-Client-Info":`gotrue-js/${pf}`},Gl="X-Supabase-Api-Version",gf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Tg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ag=6e5;class Yo extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ig extends Yo{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function $g(e){return q(e)&&e.name==="AuthApiError"}class yf extends Yo{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class hr extends Yo{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Bt extends hr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Og(e){return q(e)&&e.name==="AuthSessionMissingError"}class Ys extends hr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xs extends hr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zs extends hr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Lg(e){return q(e)&&e.name==="AuthImplicitGrantRedirectError"}class wu extends hr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ql extends hr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function qa(e){return q(e)&&e.name==="AuthRetryableFetchError"}class bu extends hr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Yn extends hr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ku=` 	
\r=`.split(""),Rg=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ku.length;t+=1)e[ku[t].charCodeAt(0)]=-2;for(let t=0;t<Fi.length;t+=1)e[Fi[t].charCodeAt(0)]=t;return e})();function _u(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Fi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Fi[n]),t.queuedBits-=6}}function xf(e,t,r){const n=Rg[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ju(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=l=>{zg(l,n,r)};for(let l=0;l<e.length;l+=1)xf(e.charCodeAt(l),s,i);return t.join("")}function Dg(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ug(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Dg(n,t)}}function zg(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Mg(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)xf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Fg(e){const t=[];return Ug(e,r=>t.push(r)),new Uint8Array(t)}function Bg(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>_u(s,r,n)),_u(null,r,n),t.join("")}function Wg(e){return Math.round(Date.now()/1e3)+e}function Vg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const lt=()=>typeof window<"u"&&typeof document<"u",mr={tested:!1,writable:!1},Xn=()=>{if(!lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mr.tested)return mr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mr.tested=!0,mr.writable=!0}catch{mr.tested=!0,mr.writable=!1}return mr.writable};function Hg(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const vf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>kn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},qg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",wf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ei=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ti=async(e,t)=>{await e.removeItem(t)};class fa{constructor(){this.promise=new fa.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}fa.promiseConstructor=Promise;function Ka(e){const t=e.split(".");if(t.length!==3)throw new Yn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Tg.test(t[n]))throw new Yn("JWT not in base64url format");return{header:JSON.parse(ju(t[0])),payload:JSON.parse(ju(t[1])),signature:Mg(t[2]),raw:{header:t[0],payload:t[1]}}}async function Kg(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Jg(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){n(l);return}}catch(l){if(!t(i,l)){s(l);return}}})()})}function Gg(e){return("0"+e.toString(16)).substr(-2)}function Qg(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Gg).join("")}async function Yg(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Xg(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Yg(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dr(e,t,r=!1){const n=Qg();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await wf(e,`${t}-code-verifier`,s);const i=await Xg(n);return[i,n===i?"plain":"s256"]}const Zg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ey(e){const t=e.headers.get(Gl);if(!t||!t.match(Zg))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ty(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ry(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ny=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ur(e){if(!ny.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var sy=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const xr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iy=[502,503,504];async function Nu(e){var t;if(!qg(e))throw new Ql(xr(e),0);if(iy.includes(e.status))throw new Ql(xr(e),e.status);let r;try{r=await e.json()}catch(i){throw new yf(xr(i),i)}let n;const s=ey(e);if(s&&s.getTime()>=gf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new bu(xr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Bt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new bu(xr(r),e.status,r.weak_password.reasons);throw new Ig(xr(r),e.status||500,n)}const ay=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function G(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Gl]||(i[Gl]=gf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await ly(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function ly(e,t,r,n,s,i){const l=ay(t,n,s,i);let o;try{o=await e(r,Object.assign({},l))}catch(c){throw console.error(c),new Ql(xr(c),0)}if(o.ok||await Nu(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await Nu(c)}}function _t(e){var t;let r=null;dy(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Wg(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Su(e){const t=_t(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Jt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function oy(e){return{data:e,error:null}}function cy(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,l=sy(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function uy(e){return e}function dy(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ja=["global","local","others"];var hy=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class fy{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=vf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ja[0]){if(Ja.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ja.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Jt})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=hy(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:cy,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(q(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Jt})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,l,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:uy});if(d.error)throw d.error;const h=await d.json(),m=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ur(t);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Jt})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ur(t);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Jt})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ur(t);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Jt})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ur(t.userId);try{const{data:r,error:n}=await G(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(q(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ur(t.userId),Ur(t.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}}const my={getItem:e=>Xn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Xn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Xn()&&globalThis.localStorage.removeItem(e)}};function Eu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function py(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zr={debug:!!(globalThis&&Xn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class gy extends bf{}async function yy(e,t,r){zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),zr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new gy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}py();const xy={url:Eg,storageKey:Cg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Pg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Cu(e,t,r){return await r()}class ys{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ys.nextInstanceID,ys.nextInstanceID+=1,this.instanceID>0&&lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},xy),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new fy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=vf(s.fetch),this.lock=s.lock||Cu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:lt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=yy:this.lock=Cu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Xn()?this.storage=my:(this.memoryStorage={},this.storage=Eu(this.memoryStorage)):(this.memoryStorage={},this.storage=Eu(this.memoryStorage)),lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Hg(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),lt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Lg(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return q(r)?{error:r}:{error:new yf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:_t}),{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:m}=t;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await Dr(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:x},xform:_t})}else if("phone"in t){const{phone:d,password:h,options:m}=t;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:_t})}else throw new Xs("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:o}=t;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Su})}else if("phone"in t){const{phone:i,password:l,options:o}=t;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Su})}else throw new Xs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ys}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,l,o,c,u,d,h,m,y;let x,w;if("message"in t)x=t.message,w=t.signature;else{const{chain:b,wallet:g,statement:f,options:p}=t;let v;if(lt())if(typeof g=="object")v=g;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))v=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=g}const _=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in v&&v.signIn){const N=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),f?{statement:f}:null));let E;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")E=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)E=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)x=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${_.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const N=await v.signMessage(new TextEncoder().encode(x),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=N}}try{const{data:b,error:g}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Bg(w)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:_t});if(g)throw g;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ys}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:g})}catch(b){if(q(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await ei(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:l}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:_t});if(await ti(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ys}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:l})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:l}=t,o=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:_t}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ys}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,l;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Dr(this.storage,this.storageKey));const{error:h}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Xs("You must provide either an email or phone number.")}catch(o){if(q(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:o}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:_t});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,u=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await Dr(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:oy})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Bt;const{error:s}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:l}=await G(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:l,error:o}=await G(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new Xs("You must provide either an email or phone number and a type")}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ei(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ha:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Jt}):await this._useSession(async r=>{var n,s,i;const{data:l,error:o}=r;if(o)throw o;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bt}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Jt})})}catch(r){if(q(r))return Og(r)&&(await this._removeSession(),await ti(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Bt;const l=s.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Dr(this.storage,this.storageKey));const{data:u,error:d}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:Jt});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Bt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:l}=Ka(t.access_token);if(l.exp&&(n=l.exp,s=n<=r),s){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(q(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:o}=r;if(o)throw o;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Bt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!lt())throw new Zs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new wu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new wu("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:u}=t;if(!i||!o||!l||!u)throw new Zs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let m=d+h;c&&(m=parseInt(c));const y=m-d;y*1e3<=Mr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const x=m-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:l,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ei(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:o}=await this.admin.signOut(l,t);if(o&&!($g(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await ti(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Vg(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Dr(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var l,o,c,u,d;const{data:h,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return lt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(q(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)throw l;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Jg(async s=>(s>0&&await Kg(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_t})),(s,i)=>{const l=200*Math.pow(2,s);return i&&qa(i)&&Date.now()+l-n<Mr})}catch(n){if(this._debug(r,"error",n),q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),lt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ei(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ha;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Ha}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),qa(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Bt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new fa;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new Bt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),q(i)){const l={session:null,error:i};return qa(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await wf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ti(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Mr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Mr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Mr}ms, refresh threshold is ${Jl} ticks`),s<=Jl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof bf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await Dr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await G(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await G(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:l,error:o}=await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(r){if(q(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(q(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Ka(s.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n||(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Ag>Date.now()))return n;const{data:s,error:i}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Yn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(l=>l.kid===t),!n)throw new Yn("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:x}=await this.getSession();if(x||!y.session)return{data:null,error:x};n=y.session.access_token}const{header:s,payload:i,signature:l,raw:{header:o,payload:c}}=Ka(n);if(ty(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:l},error:null}}const u=ry(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,l,Fg(`${o}.${c}`)))throw new Yn("Invalid JWT signature");return{data:{claims:i,header:s,signature:l},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}}ys.nextInstanceID=0;const vy=ys;class wy extends vy{constructor(t){super(t)}}var by=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class ky{constructor(t,r,n){var s,i,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=Ng(t),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:yg,realtime:vg,auth:Object.assign(Object.assign({},xg),{storageKey:u}),global:gg},h=Sg(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=_g(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new z0(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new p0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new fg(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return by(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:l,lock:o,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wy({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:l,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Z0(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _y=(e,t,r)=>new ky(e,t,r),jy="https://gemidmleolewepelgrln.supabase.co",Ny="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdlbWlkbWxlb2xld2VwZWxncmxuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA0OTIzODIsImV4cCI6MjA2NjA2ODM4Mn0.66_oBrCVSLHsUxtGQbY3aZW_fyKZmOFZt3M34Y3-UrI",ae=_y(jy,Ny,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},db:{schema:"public"},global:{headers:{"x-my-custom-header":"linkedin-scraper"}}}),Pu=async e=>{try{const{data:t,error:r}=await ae.rpc("get_or_create_user_profile",{user_auth_id:e});return r?(console.error("Error getting user profile:",r),null):t}catch(t){return console.error("Error getting user profile:",t),null}},Sy=async e=>{try{const{data:t,error:r}=await ae.from("linkedin_profiles").select("*").eq("linkedin_url",e).single();return r&&r.code!=="PGRST116"?(console.error("Error checking profile:",r),null):t}catch(t){return console.error("Error checking profile:",t),null}},Tu=async(e,t,r,n=[])=>{try{const{data:s,error:i}=await ae.from("linkedin_profiles").upsert({user_id:e,linkedin_url:t,profile_data:r,tags:n,last_updated:new Date().toISOString()},{onConflict:"linkedin_url"}).select().single();return i?(console.error("Error upserting profile:",i),null):s}catch(s){return console.error("Error upserting profile:",s),null}},Ft=async e=>{try{const{data:t,error:r}=await ae.from("linkedin_profiles").select("*").eq("user_id",e).order("last_updated",{ascending:!1});return r?(console.error("Error getting user profiles:",r),[]):t||[]}catch(t){return console.error("Error getting user profiles:",t),[]}},pr=async()=>{try{const{data:e,error:t}=await ae.from("linkedin_profiles").select("*").order("last_updated",{ascending:!1});return t?(console.error("Error getting all profiles:",t),[]):e||[]}catch(e){return console.error("Error getting all profiles:",e),[]}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ey={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(e,t)=>{const r=P.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...u},d)=>P.createElement("svg",{ref:d,...Ey,width:s,height:s,stroke:n,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Cy(e)}`,o].join(" "),...u},[...t.map(([h,m])=>P.createElement(h,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=V("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=V("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=V("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=V("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=V("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=V("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=V("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=V("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=V("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=V("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=V("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=V("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=V("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=V("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=V("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=V("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=V("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=V("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=V("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=V("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=V("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=V("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=V("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=V("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=V("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=V("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=V("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=V("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=V("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=V("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=V("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=V("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=V("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Oy=({onSuccess:e,onSwitchToSignup:t,onSwitchToReset:r})=>{const[n,s]=P.useState(""),[i,l]=P.useState(""),[o,c]=P.useState(!1),[u,d]=P.useState(!1),[h,m]=P.useState(""),y=async x=>{x.preventDefault(),d(!0),m("");try{const{data:w,error:b}=await ae.auth.signInWithPassword({email:n.trim(),password:i});if(b){b.message.includes("Invalid login credentials")?m("Invalid email or password. Please check your credentials and try again."):b.message.includes("Email not confirmed")?m("Please check your email and click the confirmation link before signing in."):b.message.includes("Too many requests")?m("Too many login attempts. Please wait a few minutes before trying again."):m(b.message);return}w.user&&e()}catch(w){console.error("Login error:",w),m("An unexpected error occurred. Please try again.")}finally{d(!1)}};return a.jsxs("form",{onSubmit:y,className:"space-y-6",children:[h&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(or,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-sm text-red-700",children:h})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Rt,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",type:"email",value:n,onChange:x=>s(x.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email",required:!0,disabled:u})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(vs,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",type:o?"text":"password",value:i,onChange:x=>l(x.target.value),className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your password",required:!0,disabled:u}),a.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:u,children:o?a.jsx(At,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):a.jsx(pt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),a.jsx("button",{type:"button",onClick:r,className:"text-sm text-blue-600 hover:text-blue-500 font-medium",disabled:u,children:"Forgot password?"})]}),a.jsx("button",{type:"submit",disabled:u||!n||!i,className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?a.jsxs(a.Fragment,{children:[a.jsx(et,{className:"w-4 h-4 animate-spin"}),"Signing in..."]}):"Sign In"}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Don't have an account? "}),a.jsx("button",{type:"button",onClick:t,className:"text-sm text-blue-600 hover:text-blue-500 font-medium",disabled:u,children:"Sign up"})]})]})},Ly=({onSuccess:e,onSwitchToLogin:t})=>{const[r,n]=P.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[s,i]=P.useState(!1),[l,o]=P.useState(!1),[c,u]=P.useState(!1),[d,h]=P.useState(""),[m,y]=P.useState(!1),w=(f=>{const p=f.length>=8,v=/[A-Z]/.test(f),_=/[a-z]/.test(f),N=/\d/.test(f),E=/[!@#$%^&*(),.?":{}|<>]/.test(f);return{minLength:p,hasUpperCase:v,hasLowerCase:_,hasNumbers:N,hasSpecialChar:E,isValid:p&&v&&_&&N&&E}})(r.password),b=f=>{const{name:p,value:v}=f.target;n(_=>({..._,[p]:v})),h("")},g=async f=>{if(f.preventDefault(),u(!0),h(""),!r.firstName.trim()||!r.lastName.trim()){h("Please enter your first and last name."),u(!1);return}if(!w.isValid){h("Password does not meet the security requirements."),u(!1);return}if(r.password!==r.confirmPassword){h("Passwords do not match."),u(!1);return}try{console.log("Attempting to create user account...");const{data:p,error:v}=await ae.auth.signUp({email:r.email.trim().toLowerCase(),password:r.password,options:{data:{first_name:r.firstName.trim(),last_name:r.lastName.trim(),full_name:`${r.firstName.trim()} ${r.lastName.trim()}`}}});if(v){console.error("Signup error:",v),v.message.includes("User already registered")?h("An account with this email already exists. Please sign in instead."):v.message.includes("Password should be")?h("Password does not meet the minimum requirements."):v.message.includes("Invalid email")?h("Please enter a valid email address."):v.message.includes("Database error saving new user")?h("There was a problem creating your account. This may be a temporary issue with our service. Please try again in a few moments, or contact support if the problem persists."):v.message.includes("unexpected_failure")?h("An unexpected error occurred while creating your account. Please try again, or contact support if this continues to happen."):v.message.includes("timeout")||v.message.includes("network")?h("Network connection issue. Please check your internet connection and try again."):h(`Account creation failed: ${v.message}`);return}p.user&&(console.log("User created successfully:",p.user.id),p.user.email_confirmed_at?(console.log("User confirmed immediately, proceeding to app..."),e()):(console.log("Email confirmation required"),y(!0)))}catch(p){console.error("Unexpected signup error:",p),p instanceof Error?p.message.includes("Failed to fetch")||p.message.includes("network")?h("Network connection failed. Please check your internet connection and try again."):p.message.includes("timeout")?h("Request timed out. Please try again."):h(`An unexpected error occurred: ${p.message}`):h("An unexpected error occurred. Please try again.")}finally{u(!1)}};return m?a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:a.jsx(Tr,{className:"w-8 h-8 text-green-600"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Check Your Email"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:["We've sent a confirmation link to ",a.jsx("strong",{children:r.email}),". Please check your email and click the link to activate your account."]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Didn't receive the email? Check your spam folder or contact support."})]}),a.jsx("button",{onClick:t,className:"w-full py-3 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Back to Sign In"})]}):a.jsxs("form",{onSubmit:g,className:"space-y-6",children:[d&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(or,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-sm text-red-700",children:d})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ht,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"firstName",name:"firstName",type:"text",value:r.firstName,onChange:b,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"First name",required:!0,disabled:c})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),a.jsx("input",{id:"lastName",name:"lastName",type:"text",value:r.lastName,onChange:b,className:"block w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Last name",required:!0,disabled:c})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Rt,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",value:r.email,onChange:b,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email",required:!0,disabled:c})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(vs,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:s?"text":"password",value:r.password,onChange:b,className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Create a password",required:!0,disabled:c}),a.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:c,children:s?a.jsx(At,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):a.jsx(pt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),r.password&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx("div",{className:"text-xs text-gray-600",children:"Password must contain:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:`flex items-center gap-1 ${w.minLength?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w.minLength?"bg-green-600":"bg-gray-300"}`}),"8+ characters"]}),a.jsxs("div",{className:`flex items-center gap-1 ${w.hasUpperCase?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w.hasUpperCase?"bg-green-600":"bg-gray-300"}`}),"Uppercase letter"]}),a.jsxs("div",{className:`flex items-center gap-1 ${w.hasLowerCase?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w.hasLowerCase?"bg-green-600":"bg-gray-300"}`}),"Lowercase letter"]}),a.jsxs("div",{className:`flex items-center gap-1 ${w.hasNumbers?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w.hasNumbers?"bg-green-600":"bg-gray-300"}`}),"Number"]}),a.jsxs("div",{className:`flex items-center gap-1 ${w.hasSpecialChar?"text-green-600":"text-gray-400"} col-span-2`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w.hasSpecialChar?"bg-green-600":"bg-gray-300"}`}),"Special character (!@#$%^&*)"]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(vs,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:l?"text":"password",value:r.confirmPassword,onChange:b,className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Confirm your password",required:!0,disabled:c}),a.jsx("button",{type:"button",onClick:()=>o(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:c,children:l?a.jsx(At,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):a.jsx(pt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),r.confirmPassword&&r.password!==r.confirmPassword&&a.jsx("div",{className:"mt-2 text-xs text-red-600",children:"Passwords do not match"})]}),a.jsx("button",{type:"submit",disabled:c||!w.isValid||r.password!==r.confirmPassword||!r.firstName.trim()||!r.lastName.trim(),className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?a.jsxs(a.Fragment,{children:[a.jsx(et,{className:"w-4 h-4 animate-spin"}),"Creating account..."]}):"Create Account"}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Already have an account? "}),a.jsx("button",{type:"button",onClick:t,className:"text-sm text-blue-600 hover:text-blue-500 font-medium",disabled:c,children:"Sign in"})]})]})},Ry=({onBackToLogin:e})=>{const[t,r]=P.useState(""),[n,s]=P.useState(!1),[i,l]=P.useState(""),[o,c]=P.useState(!1),u=async d=>{d.preventDefault(),s(!0),l("");try{const{error:h}=await ae.auth.resetPasswordForEmail(t.trim(),{redirectTo:`${window.location.origin}/reset-password`});if(h){h.message.includes("Invalid email")?l("Please enter a valid email address."):h.message.includes("Email not found")?l("No account found with this email address."):l(h.message);return}c(!0)}catch(h){console.error("Password reset error:",h),l("An unexpected error occurred. Please try again.")}finally{s(!1)}};return o?a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:a.jsx(Tr,{className:"w-8 h-8 text-green-600"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Check Your Email"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:["We've sent a password reset link to ",a.jsx("strong",{children:t}),". Please check your email and follow the instructions to reset your password."]}),a.jsx("p",{className:"text-sm text-gray-500",children:"The link will expire in 1 hour for security reasons."})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:e,className:"w-full py-3 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Back to Sign In"}),a.jsx("button",{onClick:()=>{c(!1),r(""),l("")},className:"w-full text-sm text-blue-600 hover:text-blue-500 font-medium",children:"Send another reset email"})]})]}):a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsx("div",{className:"text-center mb-6",children:a.jsx("p",{className:"text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."})}),i&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(or,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-sm text-red-700",children:i})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Rt,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",type:"email",value:t,onChange:d=>r(d.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email address",required:!0,disabled:n})]})]}),a.jsx("button",{type:"submit",disabled:n||!t.trim(),className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?a.jsxs(a.Fragment,{children:[a.jsx(et,{className:"w-4 h-4 animate-spin"}),"Sending reset link..."]}):"Send Reset Link"}),a.jsxs("button",{type:"button",onClick:e,className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",disabled:n,children:[a.jsx(ma,{className:"w-4 h-4"}),"Back to Sign In"]})]})},Dy=({onAuthSuccess:e})=>{const[t,r]=P.useState("login"),n=()=>{e&&e()};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[a.jsxs("div",{className:"hidden lg:block space-y-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-blue-600 rounded-xl",children:a.jsx(Zn,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"LinkedIn Scraper"}),a.jsx("p",{className:"text-gray-600",children:"Professional Data Intelligence Platform"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Unlock Professional Insights"}),a.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"Extract valuable data from LinkedIn posts and profiles with our advanced scraping technology. Build comprehensive databases of professional contacts and market intelligence."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white rounded-lg shadow-sm border border-gray-100",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Me,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Profile Intelligence"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Extract detailed professional profiles with contact information, experience, and skills."})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white rounded-lg shadow-sm border border-gray-100",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Ef,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Secure & Compliant"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Enterprise-grade security with data protection and privacy compliance built-in."})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white rounded-lg shadow-sm border border-gray-100",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(vs,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Advanced Analytics"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Export data in multiple formats and integrate with your existing CRM and marketing tools."})]})]})]})]}),a.jsxs("div",{className:"w-full max-w-md mx-auto",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"px-8 py-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:a.jsx(Zn,{className:"w-6 h-6"})})}),a.jsxs("h2",{className:"text-xl font-bold",children:[t==="login"&&"Welcome Back",t==="signup"&&"Create Account",t==="reset"&&"Reset Password"]}),a.jsxs("p",{className:"text-blue-100 text-sm mt-1",children:[t==="login"&&"Sign in to access your dashboard",t==="signup"&&"Join thousands of professionals",t==="reset"&&"We'll send you a reset link"]})]})}),a.jsxs("div",{className:"p-8",children:[t==="login"&&a.jsx(Oy,{onSuccess:n,onSwitchToSignup:()=>r("signup"),onSwitchToReset:()=>r("reset")}),t==="signup"&&a.jsx(Ly,{onSuccess:n,onSwitchToLogin:()=>r("login")}),t==="reset"&&a.jsx(Ry,{onBackToLogin:()=>r("login")})]})]}),a.jsxs("div",{className:"lg:hidden mt-8 text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[a.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:a.jsx(Zn,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"LinkedIn Scraper"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Professional Data Intelligence Platform"})]})]})]})})},Uy=({onScrape:e,isLoading:t,disabled:r=!1})=>{const[n,s]=P.useState("post_comments"),[i,l]=P.useState(""),o=async d=>{d.preventDefault(),!(!i.trim()||r)&&(await e(n,i.trim()),l(""))},c=()=>{switch(n){case"post_comments":return"https://www.linkedin.com/posts/...";case"profile_details":return"https://www.linkedin.com/in/username";case"mixed":return"https://www.linkedin.com/posts/... (will scrape post + profiles)";default:return""}},u=()=>{switch(n){case"post_comments":return a.jsx(Ga,{className:"w-5 h-5"});case"profile_details":return a.jsx(Ou,{className:"w-5 h-5"});case"mixed":return a.jsx(Me,{className:"w-5 h-5"});default:return a.jsx(Ga,{className:"w-5 h-5"})}};return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:u()}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"LinkedIn Scraper"})]}),r&&a.jsxs("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-lg flex items-start gap-3",children:[a.jsx(Py,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-sm text-amber-700",children:[a.jsx("p",{className:"font-medium",children:"Setup Required"}),a.jsx("p",{children:"Please select a user and configure an Apify API key before starting to scrape."})]})]}),a.jsxs("form",{onSubmit:o,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Scraping Type"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("button",{type:"button",onClick:()=>s("post_comments"),disabled:r,className:`p-4 rounded-lg border-2 transition-all ${n==="post_comments"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"} ${r?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx(Ga,{className:"w-6 h-6 mx-auto mb-2"}),a.jsx("div",{className:"font-medium",children:"Post Comments"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Scrape post engagers"})]}),a.jsxs("button",{type:"button",onClick:()=>s("profile_details"),disabled:r,className:`p-4 rounded-lg border-2 transition-all ${n==="profile_details"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"} ${r?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx(Ou,{className:"w-6 h-6 mx-auto mb-2"}),a.jsx("div",{className:"font-medium",children:"Profile Details"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Scrape profile info"})]}),a.jsxs("button",{type:"button",onClick:()=>s("mixed"),disabled:r,className:`p-4 rounded-lg border-2 transition-all ${n==="mixed"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"} ${r?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx(Me,{className:"w-6 h-6 mx-auto mb-2"}),a.jsx("div",{className:"font-medium",children:"Mixed"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Post + Profiles"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn URL"}),a.jsx("input",{type:"url",id:"url",value:i,onChange:d=>l(d.target.value),placeholder:c(),disabled:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",required:!0})]}),a.jsx("button",{type:"submit",disabled:t||!i.trim()||r,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:t?a.jsxs(a.Fragment,{children:[a.jsx(et,{className:"w-5 h-5 animate-spin"}),"Scraping..."]}):a.jsxs(a.Fragment,{children:[u(),"Start Scraping"]})})]})]})},zy=({profiles:e,onUpdateProfile:t,onUpdateSelectedProfiles:r,onDeleteSelectedProfiles:n,onExport:s,onViewDetails:i,isUpdating:l})=>{const[o,c]=P.useState(new Set(["select","picture","name","headline","location","connections","company","tags","updated","actions"])),[u,d]=P.useState(""),[h,m]=P.useState(new Set),[y,x]=P.useState(!1),[w,b]=P.useState(new Set),[g,f]=P.useState({hasEmail:!1,hasPhone:!1,hasWebsite:!1,hasSkills:!1,hasExperience:!1,hasEducation:!1,hasCertifications:!1,hasAbout:!1,hasLocation:!1,hasCurrentJob:!1}),[p,v]=P.useState(!1),_=[{key:"select",label:"Select"},{key:"picture",label:"Picture"},{key:"name",label:"Name"},{key:"headline",label:"Headline"},{key:"location",label:"Location"},{key:"connections",label:"Connections"},{key:"followers",label:"Followers"},{key:"company",label:"Current Company"},{key:"jobTitle",label:"Job Title"},{key:"duration",label:"Current Role Duration"},{key:"experience",label:"Experience"},{key:"education",label:"Education"},{key:"skills",label:"Top Skills"},{key:"certifications",label:"Certifications"},{key:"email",label:"Email"},{key:"phone",label:"Phone"},{key:"website",label:"Website"},{key:"tags",label:"Tags"},{key:"updated",label:"Last Updated"},{key:"actions",label:"Actions"}],N=P.useMemo(()=>{const k=new Set;return e.filter(O=>{const S=O.linkedin_url;return k.has(S)?!1:(k.add(S),!0)})},[e]),E=P.useMemo(()=>{let k=N;return u&&(k=k.filter(O=>{const S=O.profile_data||{},j=O.tags||[];return`${S.fullName||S.firstName||""} ${S.lastName||""} ${S.headline||""} ${S.addressWithCountry||""} ${S.companyName||""} ${j.join(" ")}`.toLowerCase().includes(u.toLowerCase())})),k=k.filter(O=>{var j;const S=O.profile_data||{};return!(g.hasEmail&&!S.email||g.hasPhone&&!S.mobileNumber||g.hasWebsite&&!((j=S.creatorWebsite)!=null&&j.link)||g.hasSkills&&(!S.skills||S.skills.length===0)||g.hasExperience&&(!S.experiences||S.experiences.length===0)||g.hasEducation&&(!S.educations||S.educations.length===0)||g.hasCertifications&&(!S.licenseAndCertificates||S.licenseAndCertificates.length===0)||g.hasAbout&&!S.about||g.hasLocation&&!S.addressWithCountry&&!S.addressCountryOnly&&!S.addressWithoutCountry||g.hasCurrentJob&&!S.jobTitle&&!S.companyName)}),k},[N,u,g]),L=k=>{if(k==="select"||k==="actions")return;const O=new Set(o);O.has(k)?O.delete(k):O.add(k),c(O)},Y=k=>{f(O=>({...O,[k]:!O[k]}))},B=()=>{f({hasEmail:!1,hasPhone:!1,hasWebsite:!1,hasSkills:!1,hasExperience:!1,hasEducation:!1,hasCertifications:!1,hasAbout:!1,hasLocation:!1,hasCurrentJob:!1})},I=()=>Object.values(g).filter(Boolean).length,$=k=>{const O=new Set(h);O.has(k)?O.delete(k):O.add(k),m(O),x(O.size>0)},T=()=>{h.size===E.length?(m(new Set),x(!1)):(m(new Set(E.map(k=>k.id))),x(!0))},W=async(k,O)=>{b(S=>new Set(S).add(O));try{await t(k)}catch(S){console.error("Error updating profile:",S)}finally{b(S=>{const j=new Set(S);return j.delete(O),j})}},se=async()=>{if(r&&h.size>0){const k=E.filter(O=>h.has(O.id)).map(O=>O.linkedin_url);await r(k),m(new Set),x(!1)}},X=async()=>{n&&h.size>0&&window.confirm(`Are you sure you want to delete ${h.size} selected profiles? This action cannot be undone.`)&&(await n(Array.from(h)),m(new Set),x(!1))},ue=k=>{s(k,!0)},A=k=>{if(!k)return{text:"Never",color:"text-gray-600 bg-gray-100 border-gray-200",exact:"Never"};const O=new Date(k),S=new Date,j=new Date(S.getFullYear(),S.getMonth(),S.getDate()),D=new Date(O.getFullYear(),O.getMonth(),O.getDate()),te=j.getTime()-D.getTime(),ge=Math.floor(te/(1e3*60*60*24)),K=O.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"});return ge===0?{text:"Today",color:"text-green-700 bg-green-100 border-green-200",exact:K}:ge<=7?{text:"This week",color:"text-green-600 bg-green-50 border-green-200",exact:K}:ge<=30?{text:"This month",color:"text-blue-600 bg-blue-50 border-blue-200",exact:K}:{text:K,color:"text-amber-700 bg-amber-100 border-amber-200",exact:K}},F=(k,O)=>{var D,te,ge,K,fr,Ut,it,Or,zt,Ps,Ts,As,Is,$s;const S=k.profile_data||{},j=w.has(k.id);switch(O){case"select":return a.jsx("button",{onClick:()=>$(k.id),className:"text-blue-600 hover:text-blue-800",children:h.has(k.id)?a.jsx(gn,{className:"w-5 h-5"}):a.jsx(xn,{className:"w-5 h-5"})});case"picture":return a.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:S.profilePic||S.profilePicHighQuality?a.jsx("img",{src:S.profilePicHighQuality||S.profilePic,alt:S.fullName||`${S.firstName} ${S.lastName}`,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:"No Photo"})});case"name":return a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900 truncate",children:S.fullName||`${S.firstName||""} ${S.lastName||""}`.trim()}),a.jsx("div",{className:"text-sm text-blue-600 hover:underline",children:a.jsxs("a",{href:k.linkedin_url||S.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1",children:[a.jsx(ln,{className:"w-3 h-3"}),"View Profile"]})})]});case"headline":return a.jsx("div",{className:"max-w-xs",children:a.jsx("div",{className:"text-sm text-gray-900 line-clamp-2",title:S.headline,children:S.headline||"No headline"})});case"location":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(ws,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:S.addressWithCountry||S.addressCountryOnly||S.addressWithoutCountry||"Not specified"})]});case"connections":return a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(Me,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"font-medium",children:((D=S.connections)==null?void 0:D.toLocaleString())||"0"})]});case"followers":return a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(Me,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"font-medium",children:((te=S.followers)==null?void 0:te.toLocaleString())||"0"})]});case"company":return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xo,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:S.companyName||((fr=(K=(ge=S.experiences)==null?void 0:ge[0])==null?void 0:K.subtitle)==null?void 0:fr.split("  ")[0])||"Not specified"}),S.companyIndustry&&a.jsx("div",{className:"text-xs text-gray-500 truncate",children:S.companyIndustry})]})]});case"jobTitle":return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ir,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-gray-900 truncate",children:S.jobTitle||((it=(Ut=S.experiences)==null?void 0:Ut[0])==null?void 0:it.title)||"Not specified"})]});case"duration":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(Zo,{className:"w-4 h-4"}),a.jsx("span",{children:S.currentJobDuration||((Ps=(zt=(Or=S.experiences)==null?void 0:Or[0])==null?void 0:zt.caption)==null?void 0:Ps.split("  ")[1])||"Not specified"})]});case"experience":return a.jsxs("div",{className:"text-sm text-gray-600",children:[((Ts=S.experiences)==null?void 0:Ts.length)||0," positions"]});case"education":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(xs,{className:"w-4 h-4"}),a.jsxs("span",{children:[((As=S.educations)==null?void 0:As.length)||0," schools"]})]});case"skills":return a.jsx("div",{className:"max-w-xs",children:S.skills&&S.skills.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[S.skills.slice(0,3).map((Nn,Sn)=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:Nn.title},Sn)),S.skills.length>3&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",S.skills.length-3," more"]})]}):a.jsx("span",{className:"text-sm text-gray-500",children:"No skills listed"})});case"certifications":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(Pt,{className:"w-4 h-4"}),a.jsxs("span",{children:[((Is=S.licenseAndCertificates)==null?void 0:Is.length)||0," certs"]})]});case"email":return S.email?a.jsxs("a",{href:`mailto:${S.email}`,className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(Rt,{className:"w-4 h-4"}),S.email]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"phone":return S.mobileNumber?a.jsxs("a",{href:`tel:${S.mobileNumber}`,className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(yn,{className:"w-4 h-4"}),S.mobileNumber]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"website":return($s=S.creatorWebsite)!=null&&$s.link?a.jsxs("a",{href:S.creatorWebsite.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(Wi,{className:"w-4 h-4"}),S.creatorWebsite.name||"Website"]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"tags":return a.jsx("div",{className:"max-w-xs",children:k.tags&&k.tags.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[k.tags.slice(0,3).map((Nn,Sn)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs bg-purple-100 text-purple-800",children:[a.jsx(Cf,{className:"w-3 h-3"}),Nn]},Sn)),k.tags.length>3&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",k.tags.length-3," more"]})]}):a.jsx("span",{className:"text-sm text-gray-500",children:"No tags"})});case"updated":const jn=A(k.last_updated);return a.jsxs("div",{className:"group relative",children:[a.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full border ${jn.color} ${j?"animate-pulse":""}`,children:j?"Updating...":jn.text}),a.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10 shadow-lg",children:[a.jsx("div",{className:"font-medium",children:"Last Updated"}),a.jsx("div",{children:jn.exact}),a.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]});case"actions":return a.jsxs("div",{className:"flex gap-2",children:[i&&a.jsxs("button",{onClick:()=>i(S),className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[a.jsx(pt,{className:"w-4 h-4"}),"Details"]}),a.jsxs("button",{onClick:()=>W(k.linkedin_url||S.linkedinUrl,k.id),disabled:l,className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-gray-600 text-white rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx(Nf,{className:`w-4 h-4 ${l?"animate-spin":""}`}),l?"Updating...":"Update"]})]});default:return null}};return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Saved Profiles (",E.length,")",h.size>0&&a.jsxs("span",{className:"ml-2 text-sm font-normal text-blue-600",children:["(",h.size," selected)"]}),I()>0&&a.jsxs("span",{className:"ml-2 text-sm font-normal text-green-600",children:["(",I()," filters active)"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Filter profiles...",value:u,onChange:k=>d(k.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>v(!p),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${I()>0?"border-green-500 bg-green-50 text-green-700":"border-gray-300 hover:bg-gray-50"}`,children:[a.jsx(Bi,{className:"w-4 h-4"}),"Data Filters",I()>0&&a.jsx("span",{className:"bg-green-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:I()}),a.jsx(ec,{className:`w-4 h-4 transition-transform ${p?"rotate-180":""}`})]}),p&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Show profiles with:"}),a.jsx("button",{onClick:B,className:"text-xs text-gray-500 hover:text-gray-700",children:"Clear all"})]}),a.jsx("div",{className:"space-y-2",children:[{key:"hasEmail",label:"Email address",icon:Rt},{key:"hasPhone",label:"Phone number",icon:yn},{key:"hasWebsite",label:"Website",icon:Wi},{key:"hasLocation",label:"Location",icon:ws},{key:"hasCurrentJob",label:"Current job",icon:ir},{key:"hasAbout",label:"About section",icon:Me},{key:"hasSkills",label:"Skills",icon:Pt},{key:"hasExperience",label:"Experience",icon:ir},{key:"hasEducation",label:"Education",icon:xs},{key:"hasCertifications",label:"Certifications",icon:Pt}].map(({key:k,label:O,icon:S})=>a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[a.jsx("input",{type:"checkbox",checked:g[k],onChange:()=>Y(k),className:"text-blue-600 focus:ring-blue-500"}),a.jsx(S,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-700",children:O})]},k))})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("select",{onChange:k=>s(k.target.value,!1),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"",children:[a.jsx("option",{value:"",disabled:!0,children:"Export All..."}),a.jsx("option",{value:"csv",children:"CSV"}),a.jsx("option",{value:"json",children:"JSON"}),a.jsx("option",{value:"xlsx",children:"Excel"})]})})]})]}),y&&a.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Me,{className:"w-5 h-5 text-blue-600"}),a.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[h.size," profiles selected"]})]}),a.jsxs("div",{className:"flex gap-2",children:[r&&a.jsxs("button",{onClick:se,disabled:l,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx(Iy,{className:"w-4 h-4"}),"Update Selected"]}),a.jsxs("select",{onChange:k=>{k.target.value&&(ue(k.target.value),k.target.value="")},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"",children:[a.jsx("option",{value:"",disabled:!0,children:"Export Selected..."}),a.jsx("option",{value:"csv",children:"CSV"}),a.jsx("option",{value:"json",children:"JSON"}),a.jsx("option",{value:"xlsx",children:"Excel"})]}),n&&a.jsxs("button",{onClick:X,className:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[a.jsx(Pf,{className:"w-4 h-4"}),"Delete Selected"]}),a.jsx("button",{onClick:()=>{m(new Set),x(!1)},className:"px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"})]})]})}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[h.size===E.length&&E.length>0?a.jsx(gn,{className:"w-4 h-4"}):a.jsx(xn,{className:"w-4 h-4"}),h.size===E.length&&E.length>0?"Deselect All":"Select All"]}),a.jsxs("span",{className:"text-sm text-gray-600",children:[h.size," of ",E.length," selected"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(k=>a.jsxs("button",{onClick:()=>L(k.key),disabled:k.key==="select"||k.key==="actions",className:`inline-flex items-center gap-1 px-3 py-1 text-sm rounded-full transition-colors ${o.has(k.key)?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${k.key==="select"||k.key==="actions"?"opacity-50 cursor-not-allowed":""}`,children:[o.has(k.key)?a.jsx(pt,{className:"w-3 h-3"}):a.jsx(At,{className:"w-3 h-3"}),k.label,o.has(k.key)&&k.key!=="actions"&&k.key!=="select"&&a.jsx(Vi,{className:"w-3 h-3 ml-1 hover:text-red-500"})]},k.key))})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsx("tr",{children:_.filter(k=>o.has(k.key)).map(k=>a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:k.label},k.key))})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(k=>a.jsx("tr",{className:`hover:bg-gray-50 ${h.has(k.id)?"bg-blue-50":""} ${w.has(k.id)?"bg-yellow-50":""}`,children:_.filter(O=>o.has(O.key)).map(O=>a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:F(k,O.key)},O.key))},k.id))})]})}),E.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-500",children:I()>0?"No profiles match the selected filters":"No profiles found"}),I()>0&&a.jsx("button",{onClick:B,className:"mt-2 text-blue-600 hover:text-blue-800 text-sm",children:"Clear all filters"})]})]})},Tf=({type:e,stage:t,progress:r=0,message:n,error:s})=>{const i=()=>{switch(e){case"post_comments":return a.jsx(Yl,{className:"w-6 h-6 text-blue-600"});case"profile_details":return a.jsx(ht,{className:"w-6 h-6 text-green-600"});case"mixed":return a.jsx(Me,{className:"w-6 h-6 text-purple-600"})}},l=()=>{switch(e){case"post_comments":return"Scraping Post Comments";case"profile_details":return"Scraping Profile Details";case"mixed":return"Mixed Scraping (Comments + Profiles)"}},o=()=>{if(s)return s;if(n)return n;switch(t){case"starting":return"Initializing scraping process...";case"scraping_comments":return"Extracting comments from LinkedIn post...";case"extracting_profiles":return"Extracting profile URLs from comments...";case"scraping_profiles":return"Gathering detailed profile information...";case"saving_data":return"Saving data to database...";case"completed":return"Scraping completed successfully!";case"error":return"An error occurred during scraping";default:return"Processing..."}},c=()=>s||t==="error"?"bg-red-500":t==="completed"?"bg-green-500":"bg-blue-500",u=()=>s||t==="error"?"border-red-200 bg-red-50":t==="completed"?"border-green-200 bg-green-50":"border-blue-200 bg-blue-50",d=[{key:"starting",label:"Initialize"},...e==="post_comments"||e==="mixed"?[{key:"scraping_comments",label:"Extract Comments"}]:[],...e==="mixed"?[{key:"extracting_profiles",label:"Extract Profiles"}]:[],...e==="profile_details"||e==="mixed"?[{key:"scraping_profiles",label:"Scrape Profiles"}]:[],{key:"saving_data",label:"Save Data"},{key:"completed",label:"Complete"}],h=d.findIndex(y=>y.key===t),m=t==="completed"?100:Math.max(r,h/(d.length-1)*100);return a.jsxs("div",{className:`rounded-xl border-2 p-6 ${u()}`,children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:t==="completed"?a.jsx(Tr,{className:"w-6 h-6 text-green-600"}):t==="error"||s?a.jsx(or,{className:"w-6 h-6 text-red-600"}):a.jsxs("div",{className:"relative",children:[i(),a.jsx(et,{className:"w-4 h-4 absolute -top-1 -right-1 animate-spin text-gray-600"})]})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:l()}),a.jsx("p",{className:"text-gray-600",children:o()})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{children:[Math.round(m),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${c()}`,style:{width:`${m}%`}})})]}),a.jsx("div",{className:"flex justify-between items-center",children:d.map((y,x)=>{const w=x<h||t==="completed",b=x===h&&t!=="completed",g=t==="error"&&x===h;return a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium mb-2 ${g?"bg-red-500 text-white":w?"bg-green-500 text-white":b?"bg-blue-500 text-white":"bg-gray-200 text-gray-500"}`,children:g?a.jsx(or,{className:"w-4 h-4"}):w?a.jsx(Tr,{className:"w-4 h-4"}):b?a.jsx(et,{className:"w-4 h-4 animate-spin"}):x+1}),a.jsx("span",{className:`text-xs text-center ${g?"text-red-600":w||b?"text-gray-900":"text-gray-500"}`,children:y.label})]},y.key)})})]})},My=({comments:e,onScrapeSelectedProfiles:t,isLoading:r,onBack:n,loadingStage:s="starting",loadingProgress:i=0,loadingMessage:l="",loadingError:o=""})=>{const[c,u]=P.useState(new Set),d=x=>{const w=new Set(c);w.has(x)?w.delete(x):w.add(x),u(w)},h=()=>{c.size===e.length?u(new Set):u(new Set(e.map(x=>x.id)))},m=async()=>{const x=e.filter(w=>c.has(w.id)).map(w=>w.actor.linkedinUrl).filter(Boolean);x.length>0&&await t(x)},y=x=>{const w=new Date(x),g=Math.abs(new Date().getTime()-w.getTime()),f=Math.ceil(g/(1e3*60*60*24));return f===0?"Today":f<=7?"This week":f<=30?"This month":w.toLocaleDateString("en-GB")};return a.jsxs("div",{className:"space-y-6",children:[r&&a.jsx(Tf,{type:"profile_details",stage:s,progress:i,message:l,error:o}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Yl,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Post Comments (",e.length,")"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Select commenters to scrape their profile details"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx(ma,{className:"w-4 h-4"}),"Back to Scraper"]}),a.jsxs("button",{onClick:m,disabled:c.size===0||r,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[a.jsx(Me,{className:"w-4 h-4"}),r?"Scraping...":`Scrape Selected Profiles (${c.size})`]})]})]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[a.jsxs("button",{onClick:h,disabled:r,className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50",children:[c.size===e.length?a.jsx(gn,{className:"w-4 h-4"}):a.jsx(xn,{className:"w-4 h-4"}),c.size===e.length?"Deselect All":"Select All"]}),a.jsxs("span",{className:"text-sm text-gray-600",children:[c.size," of ",e.length," selected"]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Select"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commenter"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Comment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(x=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("button",{onClick:()=>d(x.id),disabled:r,className:"text-blue-600 hover:text-blue-800 disabled:opacity-50",children:c.has(x.id)?a.jsx(gn,{className:"w-5 h-5"}):a.jsx(xn,{className:"w-5 h-5"})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-200",children:x.actor.pictureUrl?a.jsx("img",{src:x.actor.pictureUrl,alt:x.actor.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(ht,{className:"w-5 h-5 text-gray-400"})})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:x.actor.name}),a.jsx("div",{className:"text-sm text-blue-600 hover:underline",children:a.jsx("a",{href:x.actor.linkedinUrl,target:"_blank",rel:"noopener noreferrer",children:"View Profile"})})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:x.actor.position||"Not specified"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900 max-w-md",children:a.jsx("div",{className:"line-clamp-3",title:x.commentary,children:x.commentary})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-500",children:y(x.createdAt)})})]},x.id))})]})}),e.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Yl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("div",{className:"text-gray-500",children:"No comments found"})]})]})]})},Lu=({profiles:e,onBack:t})=>{const r=(n,s)=>{var i,l,o;return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-8 text-white",children:a.jsxs("div",{className:"flex items-start gap-6",children:[a.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-white/20 flex-shrink-0",children:n.profilePicHighQuality||n.profilePic?a.jsx("img",{src:n.profilePicHighQuality||n.profilePic,alt:n.fullName,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(ht,{className:"w-12 h-12 text-white/60"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:n.fullName||`${n.firstName||""} ${n.lastName||""}`.trim()}),a.jsx("p",{className:"text-blue-100 text-lg mb-3",children:n.headline}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-blue-100",children:[(n.addressWithCountry||n.addressCountryOnly||n.addressWithoutCountry)&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ws,{className:"w-4 h-4"}),a.jsx("span",{children:n.addressWithCountry||n.addressCountryOnly||n.addressWithoutCountry})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Me,{className:"w-4 h-4"}),a.jsxs("span",{children:[((i=n.connections)==null?void 0:i.toLocaleString())||"0"," connections"]})]}),n.followers&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Me,{className:"w-4 h-4"}),a.jsxs("span",{children:[n.followers.toLocaleString()," followers"]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-4",children:[a.jsxs("a",{href:n.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[a.jsx(ln,{className:"w-4 h-4"}),"View LinkedIn"]}),n.email&&a.jsxs("a",{href:`mailto:${n.email}`,className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[a.jsx(Rt,{className:"w-4 h-4"}),"Email"]}),n.mobileNumber&&a.jsxs("a",{href:`tel:${n.mobileNumber}`,className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[a.jsx(yn,{className:"w-4 h-4"}),"Call"]}),((l=n.creatorWebsite)==null?void 0:l.link)&&a.jsxs("a",{href:n.creatorWebsite.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[a.jsx(Wi,{className:"w-4 h-4"}),n.creatorWebsite.name||"Website"]})]})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[n.about&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(ht,{className:"w-5 h-5 text-blue-600"}),"About"]}),a.jsx("div",{className:"text-gray-700 whitespace-pre-line bg-gray-50 p-4 rounded-lg",children:n.about})]}),(n.jobTitle||n.companyName)&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(ir,{className:"w-5 h-5 text-blue-600"}),"Current Position"]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("div",{className:"font-medium text-gray-900",children:n.jobTitle}),n.companyName&&a.jsxs("div",{className:"text-gray-600 flex items-center gap-2 mt-1",children:[a.jsx(Xo,{className:"w-4 h-4"}),n.companyName]}),n.currentJobDuration&&a.jsxs("div",{className:"text-sm text-gray-500 mt-1 flex items-center gap-2",children:[a.jsx(Zo,{className:"w-4 h-4"}),n.currentJobDuration]}),n.companyIndustry&&a.jsx("div",{className:"text-sm text-gray-500 mt-1",children:n.companyIndustry}),n.companySize&&a.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[n.companySize," employees"]})]})]}),n.experiences&&n.experiences.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(ir,{className:"w-5 h-5 text-blue-600"}),"Experience (",n.experiences.length,")"]}),a.jsxs("div",{className:"space-y-4",children:[n.experiences.slice(0,5).map((c,u)=>{var d,h;return a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[c.logo&&a.jsx("img",{src:c.logo,alt:"",className:"w-12 h-12 rounded object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900",children:c.title}),a.jsx("div",{className:"text-gray-600",children:c.subtitle}),a.jsx("div",{className:"text-sm text-gray-500",children:c.caption}),c.metadata&&a.jsx("div",{className:"text-sm text-gray-500",children:c.metadata}),c.subComponents&&((d=c.subComponents[0])==null?void 0:d.description)&&a.jsx("div",{className:"mt-2 text-sm text-gray-700",children:(h=c.subComponents[0].description[0])==null?void 0:h.text})]})]})},u)}),n.experiences.length>5&&a.jsxs("div",{className:"text-center text-sm text-gray-500",children:["... and ",n.experiences.length-5," more positions"]})]})]}),n.educations&&n.educations.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(xs,{className:"w-5 h-5 text-blue-600"}),"Education (",n.educations.length,")"]}),a.jsx("div",{className:"space-y-4",children:n.educations.map((c,u)=>{var d;return a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[c.logo&&a.jsx("img",{src:c.logo,alt:"",className:"w-12 h-12 rounded object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:c.title}),a.jsx("div",{className:"text-gray-600",children:c.subtitle}),c.caption&&a.jsx("div",{className:"text-sm text-gray-500",children:c.caption}),c.subComponents&&((d=c.subComponents[0])==null?void 0:d.description)&&a.jsx("div",{className:"mt-2 text-sm text-gray-700",children:c.subComponents[0].description.map((h,m)=>a.jsx("div",{children:h.text},m))})]})]})},u)})})]}),n.skills&&n.skills.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(Pt,{className:"w-5 h-5 text-blue-600"}),"Skills (",n.skills.length,")"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.map((c,u)=>a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:c.title},u))})]}),n.licenseAndCertificates&&n.licenseAndCertificates.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(Pt,{className:"w-5 h-5 text-blue-600"}),"Certifications (",n.licenseAndCertificates.length,")"]}),a.jsx("div",{className:"space-y-3",children:n.licenseAndCertificates.map((c,u)=>a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[c.logo&&a.jsx("img",{src:c.logo,alt:"",className:"w-10 h-10 rounded object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:c.title}),a.jsx("div",{className:"text-gray-600",children:c.subtitle}),c.caption&&a.jsx("div",{className:"text-sm text-gray-500",children:c.caption}),c.metadata&&a.jsx("div",{className:"text-sm text-gray-500",children:c.metadata})]})]})},u))})]}),n.publications&&n.publications.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(Pt,{className:"w-5 h-5 text-blue-600"}),"Publications (",n.publications.length,")"]}),a.jsx("div",{className:"space-y-3",children:n.publications.map((c,u)=>{var d,h;return a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-gray-900",children:c.title}),a.jsx("div",{className:"text-gray-600",children:c.subtitle}),c.subComponents&&((d=c.subComponents[0])==null?void 0:d.description)&&a.jsx("div",{className:"mt-2 text-sm text-gray-700",children:(h=c.subComponents[0].description[0])==null?void 0:h.text})]},u)})})]}),n.volunteerAndAwards&&n.volunteerAndAwards.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(Pt,{className:"w-5 h-5 text-blue-600"}),"Volunteer Experience (",n.volunteerAndAwards.length,")"]}),a.jsx("div",{className:"space-y-3",children:n.volunteerAndAwards.map((c,u)=>a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[c.logo&&a.jsx("img",{src:c.logo,alt:"",className:"w-10 h-10 rounded object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:c.title}),a.jsx("div",{className:"text-gray-600",children:c.subtitle}),a.jsx("div",{className:"text-sm text-gray-500",children:c.caption})]})]})},u))})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Contact Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[n.email&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rt,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-gray-700",children:n.email})]}),n.mobileNumber&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yn,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-gray-700",children:n.mobileNumber})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ln,{className:"w-4 h-4 text-blue-600"}),a.jsx("a",{href:n.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"LinkedIn Profile"})]}),((o=n.creatorWebsite)==null?void 0:o.link)&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wi,{className:"w-4 h-4 text-blue-600"}),a.jsx("a",{href:n.creatorWebsite.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:n.creatorWebsite.name||"Personal Website"})]})]})]})]})]},s)};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(ht,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Profile Details (",e.length,")"]}),a.jsx("p",{className:"text-gray-600",children:"Detailed information for scraped LinkedIn profiles"})]})]}),a.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx(ma,{className:"w-4 h-4"}),"Back"]})]})}),a.jsx("div",{className:"space-y-8",children:e.map((n,s)=>r(n,s))}),e.length===0&&a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:[a.jsx(ht,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No profiles found"}),a.jsx("p",{className:"text-gray-600",children:"No profile details to display"})]})]})},Fy=({profiles:e,onViewDetails:t,onUpdateProfile:r,onExport:n,onStoreSelectedProfiles:s,isUpdating:i=!1,showActions:l=!0,showStoreOption:o=!1})=>{const[c,u]=P.useState(new Set(["select","picture","name","headline","location","connections","company","actions"])),[d,h]=P.useState(""),[m,y]=P.useState(new Set),[x,w]=P.useState(!1),[b,g]=P.useState([]),[f,p]=P.useState(""),[v,_]=P.useState(!1),[N,E]=P.useState({hasEmail:!1,hasPhone:!1,hasWebsite:!1,hasSkills:!1,hasExperience:!1,hasEducation:!1,hasCertifications:!1,hasAbout:!1,hasLocation:!1,hasCurrentJob:!1}),[L,Y]=P.useState(!1),B=[{key:"select",label:"Select"},{key:"picture",label:"Picture"},{key:"name",label:"Name"},{key:"headline",label:"Headline"},{key:"location",label:"Location"},{key:"connections",label:"Connections"},{key:"followers",label:"Followers"},{key:"company",label:"Current Company"},{key:"jobTitle",label:"Job Title"},{key:"industry",label:"Industry"},{key:"experience",label:"Experience"},{key:"education",label:"Education"},{key:"skills",label:"Top Skills"},{key:"email",label:"Email"},{key:"phone",label:"Phone"},{key:"duration",label:"Current Role Duration"},{key:"website",label:"Website"},{key:"actions",label:"Actions"}],I=P.useMemo(()=>{const j=new Set;return e.filter(D=>{const te=D.linkedinUrl||D.linkedin_url;return j.has(te)?!1:(j.add(te),!0)})},[e]),$=P.useMemo(()=>{let j=I;return d&&(j=j.filter(D=>`${D.fullName||""} ${D.headline||""} ${D.addressWithCountry||""} ${D.companyName||""}`.toLowerCase().includes(d.toLowerCase()))),j=j.filter(D=>{var te;return!(N.hasEmail&&!D.email||N.hasPhone&&!D.mobileNumber||N.hasWebsite&&!((te=D.creatorWebsite)!=null&&te.link)||N.hasSkills&&(!D.skills||D.skills.length===0)||N.hasExperience&&(!D.experiences||D.experiences.length===0)||N.hasEducation&&(!D.educations||D.educations.length===0)||N.hasCertifications&&(!D.licenseAndCertificates||D.licenseAndCertificates.length===0)||N.hasAbout&&!D.about||N.hasLocation&&!D.addressWithCountry&&!D.addressCountryOnly&&!D.addressWithoutCountry||N.hasCurrentJob&&!D.jobTitle&&!D.companyName)}),j},[I,d,N]),T=j=>{const D=new Set(c);D.has(j)?D.delete(j):D.add(j),u(D)},W=j=>{E(D=>({...D,[j]:!D[j]}))},se=()=>{E({hasEmail:!1,hasPhone:!1,hasWebsite:!1,hasSkills:!1,hasExperience:!1,hasEducation:!1,hasCertifications:!1,hasAbout:!1,hasLocation:!1,hasCurrentJob:!1})},X=()=>Object.values(N).filter(Boolean).length,ue=j=>{const D=new Set(m);D.has(j)?D.delete(j):D.add(j),y(D)},A=()=>{m.size===$.length?y(new Set):y(new Set($.map(j=>j.linkedinUrl)))},F=()=>{f.trim()&&!b.includes(f.trim())&&(g(j=>[...j,f.trim()]),p(""))},k=j=>{g(D=>D.filter(te=>te!==j))},O=async()=>{if(m.size!==0){_(!0);try{const j=$.filter(D=>m.has(D.linkedinUrl));s&&await s(j,b),w(!1),y(new Set),g([])}catch(j){console.error("Error storing profiles:",j)}finally{_(!1)}}},S=(j,D)=>{var te,ge,K,fr,Ut;switch(D){case"select":return a.jsx("button",{onClick:()=>ue(j.linkedinUrl),className:"text-blue-600 hover:text-blue-800",children:m.has(j.linkedinUrl)?a.jsx(gn,{className:"w-5 h-5"}):a.jsx(xn,{className:"w-5 h-5"})});case"picture":return a.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:j.profilePic?a.jsx("img",{src:j.profilePic,alt:j.fullName,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(ht,{className:"w-6 h-6 text-gray-400"})})});case"name":return a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900 truncate",children:j.fullName||`${j.firstName||""} ${j.lastName||""}`.trim()}),a.jsx("div",{className:"text-sm text-blue-600 hover:underline",children:a.jsxs("a",{href:j.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1",children:[a.jsx(ln,{className:"w-3 h-3"}),"LinkedIn Profile"]})})]});case"headline":return a.jsx("div",{className:"max-w-xs",children:a.jsx("div",{className:"text-sm text-gray-900 line-clamp-2",title:j.headline,children:j.headline||"No headline"})});case"location":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(ws,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:j.addressWithCountry||j.addressCountryOnly||"Not specified"})]});case"connections":return a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(Me,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"font-medium",children:((te=j.connections)==null?void 0:te.toLocaleString())||"0"})]});case"followers":return a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(Me,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"font-medium",children:((ge=j.followers)==null?void 0:ge.toLocaleString())||"0"})]});case"company":return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xo,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:j.companyName||"Not specified"}),j.companySize&&a.jsxs("div",{className:"text-xs text-gray-500",children:[j.companySize," employees"]})]})]});case"jobTitle":return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ir,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-gray-900 truncate",children:j.jobTitle||"Not specified"})]});case"industry":return a.jsx("span",{className:"text-sm text-gray-600",children:j.companyIndustry||"Not specified"});case"experience":return a.jsxs("div",{className:"text-sm text-gray-600",children:[((K=j.experiences)==null?void 0:K.length)||0," positions"]});case"education":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(xs,{className:"w-4 h-4"}),a.jsxs("span",{children:[((fr=j.educations)==null?void 0:fr.length)||0," schools"]})]});case"skills":return a.jsx("div",{className:"max-w-xs",children:j.skills&&j.skills.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[j.skills.slice(0,3).map((it,Or)=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:it.title},Or)),j.skills.length>3&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",j.skills.length-3," more"]})]}):a.jsx("span",{className:"text-sm text-gray-500",children:"No skills listed"})});case"email":return j.email?a.jsxs("a",{href:`mailto:${j.email}`,className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(Rt,{className:"w-4 h-4"}),j.email]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"phone":return j.mobileNumber?a.jsxs("a",{href:`tel:${j.mobileNumber}`,className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(yn,{className:"w-4 h-4"}),j.mobileNumber]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"duration":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(Zo,{className:"w-4 h-4"}),a.jsx("span",{children:j.currentJobDuration||"Not specified"})]});case"website":return(Ut=j.creatorWebsite)!=null&&Ut.link?a.jsxs("a",{href:j.creatorWebsite.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(ln,{className:"w-4 h-4"}),j.creatorWebsite.name||"Website"]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"actions":return a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>t(j),className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[a.jsx(pt,{className:"w-4 h-4"}),"Details"]}),l&&r&&a.jsxs("button",{onClick:()=>r(j.linkedinUrl),disabled:i,className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-gray-600 text-white rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx(Nf,{className:`w-4 h-4 ${i?"animate-spin":""}`}),"Update"]})]});default:return null}};return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Profile Results (",$.length,")",m.size>0&&a.jsxs("span",{className:"ml-2 text-sm font-normal text-blue-600",children:["(",m.size," selected)"]}),X()>0&&a.jsxs("span",{className:"ml-2 text-sm font-normal text-green-600",children:["(",X()," filters active)"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Filter profiles...",value:d,onChange:j=>h(j.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>Y(!L),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${X()>0?"border-green-500 bg-green-50 text-green-700":"border-gray-300 hover:bg-gray-50"}`,children:[a.jsx(Bi,{className:"w-4 h-4"}),"Data Filters",X()>0&&a.jsx("span",{className:"bg-green-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:X()}),a.jsx(ec,{className:`w-4 h-4 transition-transform ${L?"rotate-180":""}`})]}),L&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Show profiles with:"}),a.jsx("button",{onClick:se,className:"text-xs text-gray-500 hover:text-gray-700",children:"Clear all"})]}),a.jsx("div",{className:"space-y-2",children:[{key:"hasEmail",label:"Email address",icon:Rt},{key:"hasPhone",label:"Phone number",icon:yn},{key:"hasWebsite",label:"Website",icon:ln},{key:"hasLocation",label:"Location",icon:ws},{key:"hasCurrentJob",label:"Current job",icon:ir},{key:"hasAbout",label:"About section",icon:Me},{key:"hasSkills",label:"Skills",icon:Pt},{key:"hasExperience",label:"Experience",icon:ir},{key:"hasEducation",label:"Education",icon:xs},{key:"hasCertifications",label:"Certifications",icon:Pt}].map(({key:j,label:D,icon:te})=>a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[a.jsx("input",{type:"checkbox",checked:N[j],onChange:()=>W(j),className:"text-blue-600 focus:ring-blue-500"}),a.jsx(te,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-700",children:D})]},j))})]})]}),n&&a.jsxs("select",{onChange:j=>n(j.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"",children:[a.jsx("option",{value:"",disabled:!0,children:"Export as..."}),a.jsx("option",{value:"csv",children:"CSV"}),a.jsx("option",{value:"json",children:"JSON"}),a.jsx("option",{value:"xlsx",children:"Excel"})]})]})]}),a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[m.size===$.length&&$.length>0?a.jsx(gn,{className:"w-4 h-4"}):a.jsx(xn,{className:"w-4 h-4"}),m.size===$.length&&$.length>0?"Deselect All":"Select All"]}),a.jsxs("span",{className:"text-sm text-gray-600",children:[m.size," of ",$.length," selected"]})]}),o&&m.size>0&&a.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(Sf,{className:"w-4 h-4"}),"Store Selected Profiles (",m.size,")"]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:B.map(j=>a.jsxs("button",{onClick:()=>T(j.key),className:`inline-flex items-center gap-1 px-3 py-1 text-sm rounded-full transition-colors ${c.has(j.key)?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[c.has(j.key)?a.jsx(pt,{className:"w-3 h-3"}):a.jsx(At,{className:"w-3 h-3"}),j.label,c.has(j.key)&&j.key!=="actions"&&j.key!=="select"&&a.jsx(Vi,{className:"w-3 h-3 ml-1 hover:text-red-500"})]},j.key))})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsx("tr",{children:B.filter(j=>c.has(j.key)).map(j=>a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:j.label},j.key))})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:$.map((j,D)=>a.jsx("tr",{className:`hover:bg-gray-50 ${m.has(j.linkedinUrl)?"bg-blue-50":""}`,children:B.filter(te=>c.has(te.key)).map(te=>a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S(j,te.key)},te.key))},j.linkedinUrl||D))})]})}),$.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ht,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("div",{className:"text-gray-500",children:X()>0?"No profiles match the selected filters":"No profiles found"}),X()>0&&a.jsx("button",{onClick:se,className:"mt-2 text-blue-600 hover:text-blue-800 text-sm",children:"Clear all filters"})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Store ",m.size," Profiles"]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Tags (optional)"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:f,onChange:j=>p(j.target.value),onKeyPress:j=>j.key==="Enter"&&F(),placeholder:"Enter tag name",className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),a.jsx("button",{onClick:F,className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:a.jsx(jf,{className:"w-4 h-4"})})]}),b.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(j=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[a.jsx(Cf,{className:"w-3 h-3"}),j,a.jsx("button",{onClick:()=>k(j),className:"hover:text-red-600",children:a.jsx(Vi,{className:"w-3 h-3"})})]},j))})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>w(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:O,disabled:v,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:v?"Storing...":"Store Profiles"})]})]})})]})},By=({userId:e,selectedKeyId:t,onKeySelect:r})=>{const[n,s]=P.useState([]),[i,l]=P.useState(!1),[o,c]=P.useState(!1),[u,d]=P.useState(null),[h,m]=P.useState({}),[y,x]=P.useState({key_name:"",api_key:""}),[w,b]=P.useState(""),[g,f]=P.useState("");P.useEffect(()=>{e&&p()},[e]);const p=async()=>{try{b("");const{data:I,error:$}=await ae.from("apify_keys").select("*").eq("user_id",e).order("created_at",{ascending:!1});if($){console.error("Error loading API keys:",$),b(`Failed to load API keys: ${$.message}`);return}if(s(I||[]),!t&&I&&I.length>0){const T=I.find(W=>W.is_active)||I[0];r(T)}}catch(I){console.error("Error loading API keys:",I),b("Failed to load API keys. Please try again.")}},v=()=>y.key_name.trim()?y.api_key.trim()?y.key_name.trim().length<2?(b("Key name must be at least 2 characters long"),!1):y.api_key.trim().length<10?(b("API key seems too short. Please check your key."),!1):!0:(b("Please enter an API key"),!1):(b("Please enter a key name"),!1),_=async()=>{if(v()){l(!0),b(""),f("");try{if(u){const{data:I,error:$}=await ae.from("apify_keys").update({key_name:y.key_name.trim(),api_key:y.api_key.trim(),updated_at:new Date().toISOString()}).eq("id",u.id).select().single();if($){console.error("Error updating API key:",$),b(`Failed to update API key: ${$.message}`);return}s(T=>T.map(W=>W.id===u.id?I:W)),f("API key updated successfully!")}else{const{data:I,error:$}=await ae.from("apify_keys").insert([{user_id:e,key_name:y.key_name.trim(),api_key:y.api_key.trim()}]).select().single();if($){console.error("Error creating API key:",$),$.code==="23505"?b("A key with this name already exists. Please choose a different name."):b(`Failed to create API key: ${$.message}`);return}s(T=>[I,...T]),f("API key created successfully!"),r(I)}x({key_name:"",api_key:""}),c(!1),d(null),setTimeout(()=>f(""),3e3)}catch(I){console.error("Error saving API key:",I),b("An unexpected error occurred. Please try again.")}finally{l(!1)}}},N=async I=>{if(confirm("Are you sure you want to delete this API key?"))try{b("");const{error:$}=await ae.from("apify_keys").delete().eq("id",I);if($){console.error("Error deleting API key:",$),b(`Failed to delete API key: ${$.message}`);return}if(s(T=>T.filter(W=>W.id!==I)),f("API key deleted successfully!"),t===I&&n.length>1){const T=n.filter(W=>W.id!==I);T.length>0&&r(T[0])}setTimeout(()=>f(""),3e3)}catch($){console.error("Error deleting API key:",$),b("Failed to delete API key. Please try again.")}},E=I=>{m($=>({...$,[I]:!$[I]}))},L=I=>{d(I),x({key_name:I.key_name,api_key:I.api_key}),c(!0),b(""),f("")},Y=()=>{d(null),x({key_name:"",api_key:""}),c(!1),b(""),f("")},B=I=>{I.preventDefault(),_()};return a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Apify API Keys"}),a.jsxs("button",{onClick:()=>{c(!o),b(""),f("")},className:"flex items-center gap-2 px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:[a.jsx(jf,{className:"w-4 h-4"}),"Add Key"]})]}),w&&a.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2",children:[a.jsx(or,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-sm text-red-700",children:w})]}),g&&a.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg flex items-start gap-2",children:[a.jsx(Tr,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-sm text-green-700",children:g})]}),o&&a.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:u?"Edit API Key":"Add New API Key"}),a.jsxs("form",{onSubmit:B,className:"space-y-3",children:[a.jsx("input",{type:"text",placeholder:"Key Name (e.g., 'Main Key', 'Backup Key')",value:y.key_name,onChange:I=>{x($=>({...$,key_name:I.target.value})),b("")},className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:i,required:!0}),a.jsx("input",{type:"password",placeholder:"Apify API Key",value:y.api_key,onChange:I=>{x($=>({...$,api_key:I.target.value})),b("")},className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:i,required:!0}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"submit",disabled:i||!y.key_name.trim()||!y.api_key.trim(),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Saving...":u?"Update Key":"Add Key"}),a.jsx("button",{type:"button",onClick:Y,disabled:i,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]}),a.jsx("div",{className:"space-y-3",children:n.map(I=>a.jsxs("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${t===I.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>r(I),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx($u,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:I.key_name}),a.jsx("div",{className:"text-sm text-gray-500 font-mono",children:h[I.id]?I.api_key:"".repeat(Math.min(I.api_key.length,20))})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:$=>{$.stopPropagation(),E(I.id)},className:"p-1 text-gray-400 hover:text-gray-600",title:h[I.id]?"Hide API key":"Show API key",children:h[I.id]?a.jsx(At,{className:"w-4 h-4"}):a.jsx(pt,{className:"w-4 h-4"})}),a.jsx("button",{onClick:$=>{$.stopPropagation(),L(I)},className:"p-1 text-gray-400 hover:text-blue-600",title:"Edit API key",children:a.jsx(_f,{className:"w-4 h-4"})}),a.jsx("button",{onClick:$=>{$.stopPropagation(),N(I.id)},className:"p-1 text-gray-400 hover:text-red-600",title:"Delete API key",children:a.jsx(Pf,{className:"w-4 h-4"})})]})]}),t===I.id&&a.jsx("div",{className:"mt-2 text-xs text-blue-600 font-medium",children:" Currently selected for scraping"})]},I.id))}),n.length===0&&!o&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx($u,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No API keys found. Add your first Apify API key to get started."})]})]})},Wy=({user:e,onOpenProfile:t})=>{var d;const[r,n]=P.useState(!1),s=P.useRef(null);P.useEffect(()=>{const h=m=>{s.current&&!s.current.contains(m.target)&&n(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]);const i=async()=>{try{await ae.auth.signOut()}catch(h){console.error("Error signing out:",h)}},l=()=>{n(!1),t&&t()},o=()=>{var h,m,y;return(h=e==null?void 0:e.user_metadata)!=null&&h.full_name?e.user_metadata.full_name:(m=e==null?void 0:e.user_metadata)!=null&&m.first_name&&((y=e==null?void 0:e.user_metadata)!=null&&y.last_name)?`${e.user_metadata.first_name} ${e.user_metadata.last_name}`:e!=null&&e.email?e.email.split("@")[0]:"User"},c=()=>{const h=o(),m=h.split(" ");return m.length>=2?`${m[0][0]}${m[1][0]}`.toUpperCase():h.substring(0,2).toUpperCase()},u=()=>{var h;return((h=e==null?void 0:e.user_metadata)==null?void 0:h.avatar_url)||null};return a.jsxs("div",{className:"relative",ref:s,children:[a.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-blue-600 flex items-center justify-center text-white text-sm font-medium",children:u()?a.jsx("img",{src:u(),alt:"Profile",className:"w-full h-full object-cover"}):c()}),a.jsxs("div",{className:"hidden sm:block text-left",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:o()}),a.jsx("div",{className:"text-xs text-gray-500",children:e==null?void 0:e.email})]}),a.jsx(ec,{className:`w-4 h-4 text-gray-400 transition-transform ${r?"rotate-180":""}`})]}),r&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-blue-600 flex items-center justify-center text-white font-medium",children:u()?a.jsx("img",{src:u(),alt:"Profile",className:"w-full h-full object-cover"}):c()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:o()}),a.jsx("div",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.email}),((d=e==null?void 0:e.user_metadata)==null?void 0:d.job_title)&&a.jsx("div",{className:"text-xs text-gray-400 truncate",children:e.user_metadata.job_title})]})]})}),a.jsx("div",{className:"py-2",children:a.jsxs("button",{onClick:l,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[a.jsx(ht,{className:"w-4 h-4"}),"View Profile"]})}),a.jsx("div",{className:"border-t border-gray-100 pt-2",children:a.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[a.jsx(Ay,{className:"w-4 h-4"}),"Sign Out"]})})]})]})},Vy=({user:e,onBack:t})=>{const[r,n]=P.useState("profile"),[s,i]=P.useState(!1),[l,o]=P.useState(!1),[c,u]=P.useState(!1),[d,h]=P.useState(!1),[m,y]=P.useState(null),[x,w]=P.useState({current:!1,new:!1,confirm:!1}),[b,g]=P.useState({firstName:"",lastName:"",email:"",profileImage:"",bio:"",company:"",jobTitle:"",location:"",website:"",phone:""}),[f,p]=P.useState({currentPassword:"",newPassword:"",confirmPassword:""});P.useEffect(()=>{v()},[e]);const v=async()=>{var T,W,se,X,ue,A,F,k,O;o(!0);try{const S={firstName:((T=e==null?void 0:e.user_metadata)==null?void 0:T.first_name)||"",lastName:((W=e==null?void 0:e.user_metadata)==null?void 0:W.last_name)||"",email:(e==null?void 0:e.email)||"",profileImage:((se=e==null?void 0:e.user_metadata)==null?void 0:se.avatar_url)||"",bio:((X=e==null?void 0:e.user_metadata)==null?void 0:X.bio)||"",company:((ue=e==null?void 0:e.user_metadata)==null?void 0:ue.company)||"",jobTitle:((A=e==null?void 0:e.user_metadata)==null?void 0:A.job_title)||"",location:((F=e==null?void 0:e.user_metadata)==null?void 0:F.location)||"",website:((k=e==null?void 0:e.user_metadata)==null?void 0:k.website)||"",phone:((O=e==null?void 0:e.user_metadata)==null?void 0:O.phone)||""};g(S)}catch(S){console.error("Error loading profile:",S),y({type:"error",text:"Failed to load profile data"})}finally{o(!1)}},_=(T,W)=>{g(se=>({...se,[T]:W}))},N=(T,W)=>{p(se=>({...se,[T]:W}))},E=async T=>{var se;const W=(se=T.target.files)==null?void 0:se[0];if(W){if(!W.type.startsWith("image/")){y({type:"error",text:"Please select a valid image file"});return}if(W.size>5*1024*1024){y({type:"error",text:"Image size must be less than 5MB"});return}h(!0);try{const X=new FileReader;X.onloadend=()=>{const ue=X.result;g(A=>({...A,profileImage:ue})),h(!1)},X.onerror=()=>{y({type:"error",text:"Failed to process image"}),h(!1)},X.readAsDataURL(W)}catch(X){console.error("Error uploading image:",X),y({type:"error",text:"Failed to upload image"}),h(!1)}}},L=async()=>{u(!0),y(null);try{const{error:T}=await ae.auth.updateUser({email:b.email,data:{first_name:b.firstName,last_name:b.lastName,full_name:`${b.firstName} ${b.lastName}`,avatar_url:b.profileImage,bio:b.bio,company:b.company,job_title:b.jobTitle,location:b.location,website:b.website,phone:b.phone}});if(T)throw T;y({type:"success",text:"Profile updated successfully!"}),i(!1)}catch(T){console.error("Error updating profile:",T),y({type:"error",text:T instanceof Error?T.message:"Failed to update profile"})}finally{u(!1)}},Y=T=>{const W=T.length>=8,se=/[A-Z]/.test(T),X=/[a-z]/.test(T),ue=/\d/.test(T),A=/[!@#$%^&*(),.?":{}|<>]/.test(T);return{minLength:W,hasUpperCase:se,hasLowerCase:X,hasNumbers:ue,hasSpecialChar:A,isValid:W&&se&&X&&ue&&A}},B=async()=>{if(u(!0),y(null),!f.currentPassword){y({type:"error",text:"Please enter your current password"}),u(!1);return}if(!Y(f.newPassword).isValid){y({type:"error",text:"New password does not meet security requirements"}),u(!1);return}if(f.newPassword!==f.confirmPassword){y({type:"error",text:"New passwords do not match"}),u(!1);return}try{const{error:W}=await ae.auth.updateUser({password:f.newPassword});if(W)throw W;y({type:"success",text:"Password changed successfully!"}),p({currentPassword:"",newPassword:"",confirmPassword:""})}catch(W){console.error("Error changing password:",W),y({type:"error",text:W instanceof Error?W.message:"Failed to change password"})}finally{u(!1)}},I=()=>{var X,ue;const T=b.firstName||((X=e==null?void 0:e.user_metadata)==null?void 0:X.first_name)||"",W=b.lastName||((ue=e==null?void 0:e.user_metadata)==null?void 0:ue.last_name)||"";return T&&W?`${T[0]}${W[0]}`.toUpperCase():(b.email||(e==null?void 0:e.email)||"").substring(0,2).toUpperCase()},$=Y(f.newPassword);return l?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(et,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),a.jsx("div",{className:"text-gray-600",children:"Loading profile..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(ma,{className:"w-5 h-5 text-gray-600"})}),a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Profile Settings"})]}),r==="profile"&&a.jsx("div",{className:"flex gap-3",children:s?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{i(!1),v()},className:"px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:L,disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c?a.jsx(et,{className:"w-4 h-4 animate-spin"}):a.jsx(Sf,{className:"w-4 h-4"}),c?"Saving...":"Save Changes"]})]}):a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(_f,{className:"w-4 h-4"}),"Edit Profile"]})})]})})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m&&a.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center gap-3 ${m.type==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[m.type==="success"?a.jsx(Tr,{className:"w-5 h-5"}):a.jsx(or,{className:"w-5 h-5"}),a.jsx("span",{children:m.text}),a.jsx("button",{onClick:()=>y(null),className:"ml-auto hover:opacity-70",children:a.jsx(Vi,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"flex",children:[a.jsxs("button",{onClick:()=>n("profile"),className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors ${r==="profile"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[a.jsx(ht,{className:"w-5 h-5"}),"Profile Information"]}),a.jsxs("button",{onClick:()=>n("security"),className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors ${r==="security"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[a.jsx(Ef,{className:"w-5 h-5"}),"Security"]})]})}),a.jsxs("div",{className:"p-8",children:[r==="profile"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center",children:b.profileImage?a.jsx("img",{src:b.profileImage,alt:"Profile",className:"w-full h-full object-cover"}):a.jsx("div",{className:"text-2xl font-bold text-gray-600",children:I()})}),s&&a.jsxs("label",{className:"absolute bottom-0 right-0 p-2 bg-blue-600 text-white rounded-full cursor-pointer hover:bg-blue-700 transition-colors",children:[d?a.jsx(et,{className:"w-4 h-4 animate-spin"}):a.jsx(Ty,{className:"w-4 h-4"}),a.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"hidden",disabled:d})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[b.firstName," ",b.lastName]}),a.jsx("p",{className:"text-gray-600",children:b.email}),b.jobTitle&&a.jsx("p",{className:"text-sm text-gray-500",children:b.jobTitle})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),a.jsx("input",{type:"text",value:b.firstName,onChange:T=>_("firstName",T.target.value),disabled:!s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),a.jsx("input",{type:"text",value:b.lastName,onChange:T=>_("lastName",T.target.value),disabled:!s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:b.email,onChange:T=>_("email",T.target.value),disabled:!s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Title"}),a.jsx("input",{type:"text",value:b.jobTitle,onChange:T=>_("jobTitle",T.target.value),disabled:!s,placeholder:"e.g. Software Engineer",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),a.jsx("input",{type:"text",value:b.company,onChange:T=>_("company",T.target.value),disabled:!s,placeholder:"e.g. Acme Corp",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),a.jsx("input",{type:"text",value:b.location,onChange:T=>_("location",T.target.value),disabled:!s,placeholder:"e.g. San Francisco, CA",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:b.phone,onChange:T=>_("phone",T.target.value),disabled:!s,placeholder:"e.g. +1 (555) 123-4567",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),a.jsx("input",{type:"url",value:b.website,onChange:T=>_("website",T.target.value),disabled:!s,placeholder:"e.g. https://yourwebsite.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),a.jsx("textarea",{value:b.bio,onChange:T=>_("bio",T.target.value),disabled:!s,rows:4,placeholder:"Tell us about yourself...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors resize-none"})]})]})]}),r==="security"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),a.jsxs("div",{className:"space-y-6 max-w-md",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:x.current?"text":"password",value:f.currentPassword,onChange:T=>N("currentPassword",T.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter current password"}),a.jsx("button",{type:"button",onClick:()=>w(T=>({...T,current:!T.current})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x.current?a.jsx(At,{className:"w-5 h-5"}):a.jsx(pt,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:x.new?"text":"password",value:f.newPassword,onChange:T=>N("newPassword",T.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter new password"}),a.jsx("button",{type:"button",onClick:()=>w(T=>({...T,new:!T.new})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x.new?a.jsx(At,{className:"w-5 h-5"}):a.jsx(pt,{className:"w-5 h-5"})})]}),f.newPassword&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx("div",{className:"text-xs text-gray-600",children:"Password must contain:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:`flex items-center gap-1 ${$.minLength?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${$.minLength?"bg-green-600":"bg-gray-300"}`}),"8+ characters"]}),a.jsxs("div",{className:`flex items-center gap-1 ${$.hasUpperCase?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${$.hasUpperCase?"bg-green-600":"bg-gray-300"}`}),"Uppercase letter"]}),a.jsxs("div",{className:`flex items-center gap-1 ${$.hasLowerCase?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${$.hasLowerCase?"bg-green-600":"bg-gray-300"}`}),"Lowercase letter"]}),a.jsxs("div",{className:`flex items-center gap-1 ${$.hasNumbers?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${$.hasNumbers?"bg-green-600":"bg-gray-300"}`}),"Number"]}),a.jsxs("div",{className:`flex items-center gap-1 ${$.hasSpecialChar?"text-green-600":"text-gray-400"} col-span-2`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${$.hasSpecialChar?"bg-green-600":"bg-gray-300"}`}),"Special character (!@#$%^&*)"]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:x.confirm?"text":"password",value:f.confirmPassword,onChange:T=>N("confirmPassword",T.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Confirm new password"}),a.jsx("button",{type:"button",onClick:()=>w(T=>({...T,confirm:!T.confirm})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x.confirm?a.jsx(At,{className:"w-5 h-5"}):a.jsx(pt,{className:"w-5 h-5"})})]}),f.confirmPassword&&f.newPassword!==f.confirmPassword&&a.jsx("div",{className:"mt-2 text-xs text-red-600",children:"Passwords do not match"})]}),a.jsxs("button",{onClick:B,disabled:c||!f.currentPassword||!$.isValid||f.newPassword!==f.confirmPassword,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c?a.jsx(et,{className:"w-4 h-4 animate-spin"}):a.jsx(vs,{className:"w-4 h-4"}),c?"Changing Password...":"Change Password"]})]})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Information"}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Account Created"}),a.jsx("div",{className:"text-sm text-gray-600",children:e!=null&&e.created_at?new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown"})]})}),a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Last Sign In"}),a.jsx("div",{className:"text-sm text-gray-600",children:e!=null&&e.last_sign_in_at?new Date(e.last_sign_in_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown"})]})}),a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Email Verified"}),a.jsx("div",{className:"text-sm text-gray-600",children:e!=null&&e.email_confirmed_at?a.jsx("span",{className:"text-green-600",children:" Verified"}):a.jsx("span",{className:"text-amber-600",children:" Not verified"})})]})})]})]})]})]})]})]})]})},Hy=({jobs:e})=>{const t=s=>{switch(s){case"completed":return a.jsx(Tr,{className:"w-5 h-5 text-green-500"});case"failed":return a.jsx($y,{className:"w-5 h-5 text-red-500"});case"running":return a.jsx(et,{className:"w-5 h-5 text-blue-500 animate-spin"});default:return a.jsx(kf,{className:"w-5 h-5 text-yellow-500"})}},r=s=>{const i="inline-flex px-2 py-1 text-xs font-medium rounded-full";switch(s){case"completed":return`${i} bg-green-100 text-green-800`;case"failed":return`${i} bg-red-100 text-red-800`;case"running":return`${i} bg-blue-100 text-blue-800`;default:return`${i} bg-yellow-100 text-yellow-800`}},n=s=>{switch(s){case"post_comments":return"Post Comments";case"profile_details":return"Profile Details";case"mixed":return"Mixed (Post + Profiles)";default:return s}};return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Scraping Jobs (",e.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"URL"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Results"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(s=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[t(s.status),a.jsx("span",{className:r(s.status),children:s.status||"pending"})]}),s.error_message&&a.jsxs("div",{className:"text-xs text-red-600 mt-1",title:s.error_message,children:["Error: ",s.error_message.substring(0,50),"..."]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm font-medium text-gray-900",children:n(s.job_type)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"max-w-xs",children:a.jsx("a",{href:s.input_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline truncate block",title:s.input_url,children:s.input_url})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900",children:s.results_count!==null?s.results_count.toLocaleString():"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-500",children:s.created_at?new Date(s.created_at).toLocaleString():"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-500",children:s.completed_at?new Date(s.completed_at).toLocaleString():"-"})})]},s.id))})]})}),e.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"text-gray-500",children:"No scraping jobs yet"})})]})};async function ri(e,t={},r=3){for(let n=0;n<r;n++)try{const s=new AbortController,i=setTimeout(()=>s.abort(),6e4),l=await fetch(e,{...t,signal:s.signal});if(clearTimeout(i),l.ok)return l;if(l.status>=400&&l.status<500)throw new Error(`Apify API error ${l.status}: ${l.statusText}`);if(n===r-1)throw new Error(`Apify API error ${l.status}: ${l.statusText}`)}catch(s){if(s instanceof Error)if(s.name==="AbortError"){if(n===r-1)throw new Error("Apify API request timeout. The service may be slow to respond. Please try again.")}else if(s.message.includes("Failed to fetch")){if(n===r-1)throw new Error("Cannot reach Apify API. Please check your internet connection and try again.")}else throw s;n<r-1&&await new Promise(i=>setTimeout(i,Math.pow(2,n)*1e3))}throw new Error("Max retries exceeded for Apify API call")}const ni=e=>({async scrapePostComments(t){try{const n=await(await ri("https://api.apify.com/v2/acts/ZI6ykbLlGS3APaPE8/runs",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({posts:[t]})})).json();return await this.waitForRunCompletion(n.data.id),n.data.defaultDatasetId}catch(r){throw console.error("Error scraping post comments:",r),r instanceof Error?new Error(`Failed to scrape post comments: ${r.message}`):new Error("Failed to scrape post comments: Unknown error")}},async scrapeProfiles(t){try{const n=await(await ri("https://api.apify.com/v2/acts/2SyF0bVxmgGr8IVCZ/runs",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({profileUrls:t})})).json();return await this.waitForRunCompletion(n.data.id),n.data.defaultDatasetId}catch(r){throw console.error("Error scraping profiles:",r),r instanceof Error?new Error(`Failed to scrape profiles: ${r.message}`):new Error("Failed to scrape profiles: Unknown error")}},async waitForRunCompletion(t){const s=Date.now();for(;Date.now()-s<6e5;)try{const i=await this.checkRunStatus(t);if(i==="SUCCEEDED")return;if(i==="FAILED"||i==="ABORTED")throw new Error(`Apify run ${i.toLowerCase()}`);await new Promise(l=>setTimeout(l,5e3))}catch(i){if(console.error("Error checking run status:",i),Date.now()-s>=595e3)throw i;await new Promise(l=>setTimeout(l,5e3))}throw new Error("Apify run timed out after 10 minutes")},async getDatasetItems(t){try{return await(await ri(`https://api.apify.com/v2/datasets/${t}/items`,{headers:{Authorization:`Bearer ${e}`}})).json()}catch(r){throw console.error("Error fetching dataset items:",r),r instanceof Error?new Error(`Failed to fetch dataset items: ${r.message}`):new Error("Failed to fetch dataset items: Unknown error")}},async checkRunStatus(t){try{return(await(await ri(`https://api.apify.com/v2/actor-runs/${t}`,{headers:{Authorization:`Bearer ${e}`}})).json()).data.status}catch(r){throw console.error("Error checking run status:",r),r instanceof Error?new Error(`Failed to check run status: ${r.message}`):new Error("Failed to check run status: Unknown error")}}}),Ru=(e,t,r="linkedin_data",n)=>{let s=e;switch(t){case"csv":Du(s,r);break;case"json":qy(s,r);break;case"xlsx":Du(s,r);break;default:console.error("Unsupported export format:",t)}},Du=(e,t)=>{if(e.length===0)return;const r=e.map(i=>{var o,c,u,d,h,m,y,x,w,b,g,f,p,v,_,N,E,L,Y,B,I,$,T,W,se,X,ue,A,F,k;const l=i.profile_data||{};return{id:i.id,linkedin_url:i.linkedin_url||l.linkedinUrl,public_identifier:l.publicIdentifier||"",first_name:l.firstName||"",last_name:l.lastName||"",full_name:l.fullName||`${l.firstName||""} ${l.lastName||""}`.trim(),headline:l.headline||"",about:l.about||"",address_with_country:l.addressWithCountry||"",address_country_only:l.addressCountryOnly||"",address_without_country:l.addressWithoutCountry||"",connections:l.connections||0,followers:l.followers||0,job_title:l.jobTitle||"",company_name:l.companyName||"",company_industry:l.companyIndustry||"",company_website:l.companyWebsite||"",company_linkedin:l.companyLinkedin||"",company_founded_in:l.companyFoundedIn||"",company_size:l.companySize||"",current_job_duration:l.currentJobDuration||"",current_job_duration_years:l.currentJobDurationInYrs||0,email:l.email||"",mobile_number:l.mobileNumber||"",profile_pic:l.profilePic||"",profile_pic_high_quality:l.profilePicHighQuality||"",creator_website_name:((o=l.creatorWebsite)==null?void 0:o.name)||"",creator_website_link:((c=l.creatorWebsite)==null?void 0:c.link)||"",experience_count:((u=l.experiences)==null?void 0:u.length)||0,education_count:((d=l.educations)==null?void 0:d.length)||0,skills_count:((h=l.skills)==null?void 0:h.length)||0,certifications_count:((m=l.licenseAndCertificates)==null?void 0:m.length)||0,publications_count:((y=l.publications)==null?void 0:y.length)||0,volunteer_count:((x=l.volunteerAndAwards)==null?void 0:x.length)||0,top_skills:((w=l.skills)==null?void 0:w.slice(0,10).map(O=>O.title).join("; "))||"",latest_experience_title:((g=(b=l.experiences)==null?void 0:b[0])==null?void 0:g.title)||"",latest_experience_company:((v=(p=(f=l.experiences)==null?void 0:f[0])==null?void 0:p.subtitle)==null?void 0:v.split("  ")[0])||"",latest_experience_duration:((N=(_=l.experiences)==null?void 0:_[0])==null?void 0:N.caption)||"",latest_experience_location:((L=(E=l.experiences)==null?void 0:E[0])==null?void 0:L.metadata)||"",latest_education_school:((B=(Y=l.educations)==null?void 0:Y[0])==null?void 0:B.title)||"",latest_education_degree:(($=(I=l.educations)==null?void 0:I[0])==null?void 0:$.subtitle)||"",latest_education_period:((W=(T=l.educations)==null?void 0:T[0])==null?void 0:W.caption)||"",latest_certification:((X=(se=l.licenseAndCertificates)==null?void 0:se[0])==null?void 0:X.title)||"",latest_certification_issuer:((A=(ue=l.licenseAndCertificates)==null?void 0:ue[0])==null?void 0:A.subtitle)||"",latest_certification_date:((k=(F=l.licenseAndCertificates)==null?void 0:F[0])==null?void 0:k.caption)||"",open_connection:l.openConnection||!1,urn:l.urn||"",top_skills_by_endorsements:l.topSkillsByEndorsements||"",last_updated:i.last_updated||"",created_at:i.created_at||""}}),n=Object.keys(r[0]),s=[n.join(","),...r.map(i=>n.map(l=>{const o=i[l];return typeof o=="string"&&(o.includes(",")||o.includes('"')||o.includes(`
`))?`"${o.replace(/"/g,'""')}"`:o}).join(","))].join(`
`);Af(s,`${t}.csv`,"text/csv")},qy=(e,t)=>{const r=JSON.stringify(e,null,2);Af(r,`${t}.json`,"application/json")},Af=(e,t,r)=>{const n=new Blob([e],{type:r}),s=URL.createObjectURL(n),i=document.createElement("a");i.href=s,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)};function Ky(){const[e,t]=P.useState(null),[r,n]=P.useState(null),[s,i]=P.useState(!0),[l,o]=P.useState(""),[c,u]=P.useState([]),[d,h]=P.useState([]),[m,y]=P.useState([]),[x,w]=P.useState(null),[b,g]=P.useState([]),[f,p]=P.useState("scraper"),[v,_]=P.useState("form"),[N,E]=P.useState("form"),[L,Y]=P.useState(!1),[B,I]=P.useState(!1),[$,T]=P.useState(""),[W,se]=P.useState("starting"),[X,ue]=P.useState(0),[A,F]=P.useState(""),[k,O]=P.useState(""),[S,j]=P.useState("post_comments"),D=async(M=3)=>{for(let U=1;U<=M;U++)try{console.log(`Checking Supabase connection (attempt ${U}/${M})...`);const z=15e3,J=ae.auth.getSession(),H=new Promise((ee,re)=>setTimeout(()=>re(new Error(`Connection timeout (attempt ${U})`)),z));return await Promise.race([J,H]),console.log("Supabase connection successful"),!0}catch(z){if(console.warn(`Connection attempt ${U} failed:`,z),U===M)throw z;const J=Math.min(1e3*Math.pow(2,U-1),5e3);console.log(`Retrying in ${J}ms...`),await new Promise(H=>setTimeout(H,J))}return!1};P.useEffect(()=>{(async()=>{try{console.log("Initializing authentication..."),o("");const z="https://gemidmleolewepelgrln.supabase.co",J="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdlbWlkbWxlb2xld2VwZWxncmxuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA0OTIzODIsImV4cCI6MjA2NjA2ODM4Mn0.66_oBrCVSLHsUxtGQbY3aZW_fyKZmOFZt3M34Y3-UrI";if(!z.startsWith("https://")||!z.includes(".supabase.co"))throw new Error("Invalid Supabase URL format. Please check your VITE_SUPABASE_URL in the .env file.");if(J.length<100)throw new Error("Invalid Supabase anonymous key format. Please check your VITE_SUPABASE_ANON_KEY in the .env file.");console.log("Environment variables validated, checking connection..."),await D(3),console.log("Getting current session...");const{data:{session:H},error:ee}=await ae.auth.getSession();if(ee)throw console.error("Session error:",ee),new Error(`Authentication error: ${ee.message}`);if(H!=null&&H.user){console.log("User session found, loading profile..."),t(H.user);try{const re=await Pu(H.user.id);re?(n(re),await te(re.id)):(console.warn("No user profile found, but user is authenticated"),o("User profile not found. Please try signing out and back in."))}catch(re){console.error("Error loading user profile:",re),o("Failed to load user profile. Please try refreshing the page.")}}else console.log("No active session found")}catch(z){console.error("Auth initialization error:",z),z instanceof Error?z.message.includes("Failed to fetch")||z.message.includes("network")?o("Network connection failed. Please check your internet connection and try again."):z.message.includes("timeout")||z.message.includes("Connection timeout")?o("Connection to Supabase timed out. This may be due to network issues or your Supabase project being paused. Please check your Supabase dashboard and try again."):z.message.includes("environment variables")||z.message.includes("Invalid Supabase")?o("Application configuration error. Please ensure your .env file contains valid Supabase credentials."):z.message.includes("CORS")?o("Cross-origin request blocked. Please check your Supabase project settings."):o(`Authentication failed: ${z.message}`):o("An unexpected error occurred during initialization.")}finally{i(!1)}})();const{data:{subscription:U}}=ae.auth.onAuthStateChange(async(z,J)=>{try{if(console.log("Auth state changed:",z),o(""),z==="SIGNED_IN"&&(J!=null&&J.user)){t(J.user);const H=await Pu(J.user.id);n(H),H&&await te(H.id)}else z==="SIGNED_OUT"?(t(null),n(null),u([]),g([])):z==="TOKEN_REFRESHED"&&console.log("Token refreshed successfully")}catch(H){console.error("Auth state change error:",H),o("Authentication state change failed. Please refresh the page.")}});return()=>U.unsubscribe()},[]);const te=async M=>{try{console.log("Loading user data for:",M);const[U,z]=await Promise.all([Ft(M),ge(M)]);u(U),g(z),console.log(`Loaded ${U.length} profiles and ${z.length} jobs`)}catch(U){console.error("Error loading user data:",U),o("Failed to load user data. Some features may not work properly.")}},ge=async M=>{try{const{data:U,error:z}=await ae.from("scraping_jobs").select("*").eq("user_id",M).order("created_at",{ascending:!1}).limit(50);return z?(console.error("Error loading scraping jobs:",z),[]):U||[]}catch(U){return console.error("Error loading scraping jobs:",U),[]}},K=(M,U=0,z="")=>{se(M),ue(U),F(z)},fr=M=>{T(M.id)},Ut=async(M,U)=>{if(!r)throw new Error("User not authenticated");const{data:z,error:J}=await ae.from("scraping_jobs").insert({user_id:r.id,apify_key_id:$||null,job_type:M,input_url:U,status:"running"}).select().single();if(J)throw J;const H=await ge(r.id);return g(H),z.id},it=async(M,U,z,J)=>{if(!r)return;const H={status:U,...z!==void 0&&{results_count:z},...J&&{error_message:J},...U==="completed"&&{completed_at:new Date().toISOString()}};await ae.from("scraping_jobs").update(H).eq("id",M);const ee=await ge(r.id);g(ee)},Or=async(M,U)=>{if(!r){alert("Please sign in to start scraping");return}if(!$){alert("Please select an Apify API key first");return}const{data:z,error:J}=await ae.from("apify_keys").select("api_key").eq("id",$).single();if(J||!z){alert("Invalid API key selected");return}I(!0),j(M),O(""),K("starting",0,"Initializing scraping process...");let H=null;try{H=await Ut(M,U);const ee=ni(z.api_key);if(M==="post_comments"){K("scraping_comments",25,"Extracting comments from LinkedIn post...");const re=await ee.scrapePostComments(U);K("saving_data",75,"Processing comment data...");const Qe=await ee.getDatasetItems(re);h(Qe),_("comments"),K("completed",100,"Comments extracted successfully!"),await it(H,"completed",Qe.length)}else if(M==="profile_details"){K("scraping_profiles",25,"Checking existing profiles in database...");const re=Array.isArray(U)?U:[U],Qe=await zt(re,ee,r.id);K("saving_data",75,"Saving profile data..."),y(Qe),E("form"),_("profile-table"),K("completed",100,"Profile details scraped successfully!"),await it(H,"completed",Qe.length)}else if(M==="mixed"){K("scraping_comments",20,"Extracting comments from LinkedIn post...");const re=await ee.scrapePostComments(U),Qe=await ee.getDatasetItems(re);K("extracting_profiles",40,"Extracting profile URLs from comments...");const kt=Qe.map(ga=>{var nc;return(nc=ga.actor)==null?void 0:nc.linkedinUrl}).filter(Boolean).slice(0,50);if(kt.length>0){K("scraping_profiles",60,`Checking and scraping ${kt.length} profiles...`);const ga=await zt(kt,ee,r.id);K("saving_data",85,"Saving all data..."),y(ga),E("form"),_("profile-table")}K("completed",100,"Mixed scraping completed successfully!"),await it(H,"completed",kt.length)}if(f!=="profiles"){const re=await Ft(r.id);u(re)}else{const re=await pr();u(re)}}catch(ee){console.error("Scraping error:",ee);let re="Unknown error occurred";ee instanceof Error&&(re=ee.message),O(re),K("error",0,"Scraping failed"),H&&await it(H,"failed",void 0,re)}finally{I(!1)}},zt=async(M,U,z)=>{const J=[],H=[];let ee=0;K("scraping_profiles",30,"Checking database for existing profiles...");for(const re of M){const Qe=await Sy(re);Qe?(J.push(Qe.profile_data),ee++):H.push(re)}if(H.length>0){K("scraping_profiles",50,`Scraping ${H.length} new profiles (saved ${ee} API calls)...`);const re=await U.scrapeProfiles(H),Qe=await U.getDatasetItems(re);K("scraping_profiles",70,"Saving new profiles to database...");for(const kt of Qe)kt.linkedinUrl&&(await Tu(z,kt.linkedinUrl,kt),J.push(kt))}return K("scraping_profiles",90,`Completed! Saved ${ee} API calls by using cached profiles.`),J},Ps=async M=>{if(!r||!$){alert("Please ensure you are signed in and have selected an API key");return}const{data:U,error:z}=await ae.from("apify_keys").select("api_key").eq("id",$).single();if(z||!U){alert("Invalid API key selected");return}I(!0),j("profile_details"),O(""),K("scraping_profiles",25,`Checking and scraping ${M.length} selected profiles...`);let J=null;try{J=await Ut("profile_details",M.join(","));const H=ni(U.api_key),ee=await zt(M,H,r.id);if(K("saving_data",75,"Processing profile data..."),y(ee),E("comments"),_("profile-table"),K("completed",100,"Selected profiles scraped successfully!"),await it(J,"completed",ee.length),f==="profiles"){const re=await pr();u(re)}else{const re=await Ft(r.id);u(re)}}catch(H){console.error("Error scraping selected profiles:",H);let ee="Unknown error occurred";H instanceof Error&&(ee=H.message),O(ee),K("error",0,"Failed to scrape selected profiles"),J&&await it(J,"failed",void 0,ee)}finally{I(!1)}},Ts=async(M,U)=>{if(r)try{for(const z of M)z.linkedinUrl&&await Tu(r.id,z.linkedinUrl,z,U);if(f==="profiles"){const z=await pr();u(z)}else{const z=await Ft(r.id);u(z)}alert(`Successfully stored ${M.length} profiles${U.length>0?` with tags: ${U.join(", ")}`:""}`)}catch(z){console.error("Error storing profiles:",z),alert("Error storing profiles. Please try again.")}},As=async M=>{if(!r||!$){alert("Please ensure you are signed in and have selected an API key");return}const{data:U,error:z}=await ae.from("apify_keys").select("api_key").eq("id",$).single();if(z||!U){alert("Invalid API key selected");return}try{const J=ni(U.api_key);if((await zt([M],J,r.id)).length>0){if(f==="profiles"){const ee=await pr();u(ee)}else{const ee=await Ft(r.id);u(ee)}alert("Profile updated successfully!")}}catch(J){console.error("Error updating profile:",J),alert("Error updating profile. Please try again.")}},Is=async M=>{if(!r||!$){alert("Please ensure you are signed in and have selected an API key");return}const{data:U,error:z}=await ae.from("apify_keys").select("api_key").eq("id",$).single();if(z||!U){alert("Invalid API key selected");return}try{const J=ni(U.api_key);if(await zt(M,J,r.id),f==="profiles"){const H=await pr();u(H)}else{const H=await Ft(r.id);u(H)}alert(`Successfully updated ${M.length} profiles!`)}catch(J){console.error("Error updating profiles:",J),alert("Error updating profiles. Please try again.")}},$s=async M=>{if(r)try{const{error:U}=await ae.from("linkedin_profiles").delete().in("id",M);if(U)throw U;if(f==="profiles"){const z=await pr();u(z)}else{const z=await Ft(r.id);u(z)}alert(`Successfully deleted ${M.length} profiles`)}catch(U){console.error("Error deleting profiles:",U),alert("Error deleting profiles. Please try again.")}},jn=(M,U=!1)=>{Ru(c,M,"linkedin_profiles")},Nn=M=>{Ru(m.map(U=>({profile_data:U})),M,"profile_results")},Sn=()=>{_("form"),h([]),y([]),w(null),E("form"),se("starting"),ue(0),F(""),O("")},tc=()=>{N==="comments"?_("comments"):N==="profiles-list"?(_("profiles-list"),p("profiles")):_(N==="profile-table"?"profile-table":"form")},rc=M=>{f==="profiles"?(E("profiles-list"),w(M),_("single-profile-details")):(E(v),y([M]),_("profile-details"))},If=()=>{_("profiles-list"),w(null)},pa=async M=>{if(p(M),M==="profiles"){_("profiles-list"),Y(!0);try{const U=await pr();u(U)}catch(U){console.error("Error loading all profiles:",U)}finally{Y(!1)}}else if(M==="scraper"){if(_("form"),r)try{const U=await Ft(r.id);u(U)}catch(U){console.error("Error loading user profiles:",U)}}else M==="jobs"&&_("form")},$f=()=>{_("user-profile")},Of=()=>{};return l&&!e?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg border border-gray-100 p-8 text-center",children:[a.jsx("div",{className:"p-3 bg-red-100 rounded-full w-16 h-16 mx-auto mb-6 flex items-center justify-center",children:a.jsx(or,{className:"w-8 h-8 text-red-600"})}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Connection Error"}),a.jsx("p",{className:"text-gray-600 mb-6",children:l}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Page"}),a.jsx("button",{onClick:()=>{o(""),i(!0),window.location.reload()},className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Try Again"})]}),a.jsx("div",{className:"mt-6 text-xs text-gray-500",children:"If this problem persists, please check your internet connection or contact support."}),a.jsxs("details",{className:"mt-4 text-left",children:[a.jsx("summary",{className:"text-sm text-gray-600 cursor-pointer hover:text-gray-800",children:"Troubleshooting Steps"}),a.jsxs("div",{className:"mt-2 text-xs text-gray-600 space-y-2",children:[a.jsx("p",{children:"1. Check your .env file contains valid Supabase credentials"}),a.jsx("p",{children:"2. Verify your Supabase project is active (not paused)"}),a.jsx("p",{children:"3. Ensure stable internet connection"}),a.jsx("p",{children:"4. Try disabling browser extensions or VPN"}),a.jsx("p",{children:"5. Check browser console for additional error details"})]})]})]})}):s?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("div",{className:"text-gray-600",children:"Loading..."}),l&&a.jsx("div",{className:"mt-4 text-sm text-amber-600 max-w-md",children:l})]})}):!e||!r?a.jsx(Dy,{onAuthSuccess:Of}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Zn,{className:"w-6 h-6 text-blue-600"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"LinkedIn Scraper"})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("nav",{className:"flex space-x-1",children:[a.jsxs("button",{onClick:()=>pa("scraper"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f==="scraper"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[a.jsx(Au,{className:"w-4 h-4 inline mr-2"}),"Scraper"]}),a.jsxs("button",{onClick:()=>pa("profiles"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f==="profiles"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[a.jsx(Iu,{className:"w-4 h-4 inline mr-2"}),"Profiles (",c.length,")"]}),a.jsxs("button",{onClick:()=>pa("jobs"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f==="jobs"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[a.jsx(kf,{className:"w-4 h-4 inline mr-2"}),"Jobs (",b.length,")"]})]}),a.jsx(Wy,{user:e,onOpenProfile:$f})]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:v==="user-profile"?a.jsx(Vy,{user:e,onBack:()=>_("form")}):a.jsxs(a.Fragment,{children:[f==="scraper"&&v==="form"&&a.jsx("div",{className:"mb-8",children:a.jsx(By,{userId:r.id,selectedKeyId:$,onKeySelect:fr})}),f==="scraper"&&a.jsxs("div",{className:"space-y-8",children:[v==="form"&&a.jsxs(a.Fragment,{children:[a.jsx(Uy,{onScrape:Or,isLoading:B,disabled:!$}),B&&a.jsx(Tf,{type:S,stage:W,progress:X,message:A,error:k}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Iu,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:c.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Your Profiles"})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Au,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b.filter(M=>M.status==="completed").length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Completed Jobs"})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(Zn,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:d.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Last Comments"})]})]})})]})]}),v==="comments"&&a.jsx(My,{comments:d,onScrapeSelectedProfiles:Ps,isLoading:B,onBack:Sn,loadingStage:W,loadingProgress:X,loadingMessage:A,loadingError:k}),v==="profile-table"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(Fy,{profiles:m,onViewDetails:rc,onExport:Nn,onStoreSelectedProfiles:Ts,showActions:!1,showStoreOption:!0}),a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{onClick:tc,className:"px-6 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:N==="comments"?"Back to Comments":"Back to Scraper"})})]}),v==="profile-details"&&a.jsx(Lu,{profiles:m,onBack:tc})]}),f==="profiles"&&a.jsx(a.Fragment,{children:v==="single-profile-details"?a.jsx(Lu,{profiles:x?[x.profile_data]:[],onBack:If}):L?a.jsx("div",{className:"min-h-[400px] flex items-center justify-center bg-white rounded-xl shadow-lg border border-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx(et,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),a.jsx("div",{className:"text-gray-600 text-lg font-medium",children:"Loading all profiles..."}),a.jsx("div",{className:"text-gray-500 text-sm mt-2",children:"This may take a moment"})]})}):a.jsx(zy,{profiles:c,onUpdateProfile:As,onUpdateSelectedProfiles:Is,onDeleteSelectedProfiles:$s,onExport:jn,onViewDetails:M=>rc(M),isUpdating:!1})}),f==="jobs"&&a.jsx(Hy,{jobs:b})]})})]})}Qh(document.getElementById("root")).render(a.jsx(P.StrictMode,{children:a.jsx(Ky,{})}));
