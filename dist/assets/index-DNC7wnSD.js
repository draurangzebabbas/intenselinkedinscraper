(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Au={exports:{}},Ri={},Lu={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hs=Symbol.for("react.element"),$f=Symbol.for("react.portal"),Of=Symbol.for("react.fragment"),If=Symbol.for("react.strict_mode"),Af=Symbol.for("react.profiler"),Lf=Symbol.for("react.provider"),Rf=Symbol.for("react.context"),Df=Symbol.for("react.forward_ref"),Uf=Symbol.for("react.suspense"),zf=Symbol.for("react.memo"),Mf=Symbol.for("react.lazy"),sc=Symbol.iterator;function Ff(e){return e===null||typeof e!="object"?null:(e=sc&&e[sc]||e["@@iterator"],typeof e=="function"?e:null)}var Ru={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Du=Object.assign,Uu={};function dn(e,t,r){this.props=e,this.context=t,this.refs=Uu,this.updater=r||Ru}dn.prototype.isReactComponent={};dn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};dn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zu(){}zu.prototype=dn.prototype;function Jl(e,t,r){this.props=e,this.context=t,this.refs=Uu,this.updater=r||Ru}var Ql=Jl.prototype=new zu;Ql.constructor=Jl;Du(Ql,dn.prototype);Ql.isPureReactComponent=!0;var ic=Array.isArray,Mu=Object.prototype.hasOwnProperty,Gl={current:null},Fu={key:!0,ref:!0,__self:!0,__source:!0};function Bu(e,t,r){var n,s={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Mu.call(t,n)&&!Fu.hasOwnProperty(n)&&(s[n]=t[n]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var o=Array(c),u=0;u<c;u++)o[u]=arguments[u+2];s.children=o}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:hs,type:e,key:i,ref:l,props:s,_owner:Gl.current}}function Bf(e,t){return{$$typeof:hs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yl(e){return typeof e=="object"&&e!==null&&e.$$typeof===hs}function Wf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ac=/\/+/g;function ca(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wf(""+e.key):t.toString(36)}function Ks(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case hs:case $f:l=!0}}if(l)return l=e,s=s(l),e=n===""?"."+ca(l,0):n,ic(s)?(r="",e!=null&&(r=e.replace(ac,"$&/")+"/"),Ks(s,t,r,"",function(u){return u})):s!=null&&(Yl(s)&&(s=Bf(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(ac,"$&/")+"/")+e)),t.push(s)),1;if(l=0,n=n===""?".":n+":",ic(e))for(var c=0;c<e.length;c++){i=e[c];var o=n+ca(i,c);l+=Ks(i,t,r,o,s)}else if(o=Ff(e),typeof o=="function")for(e=o.call(e),c=0;!(i=e.next()).done;)i=i.value,o=n+ca(i,c++),l+=Ks(i,t,r,o,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function _s(e,t,r){if(e==null)return e;var n=[],s=0;return Ks(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Vf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Te={current:null},Js={transition:null},Hf={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:Js,ReactCurrentOwner:Gl};function Wu(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:_s,forEach:function(e,t,r){_s(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return _s(e,function(){t++}),t},toArray:function(e){return _s(e,function(t){return t})||[]},only:function(e){if(!Yl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=dn;B.Fragment=Of;B.Profiler=Af;B.PureComponent=Jl;B.StrictMode=If;B.Suspense=Uf;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hf;B.act=Wu;B.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Du({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Gl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)Mu.call(t,o)&&!Fu.hasOwnProperty(o)&&(n[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){c=Array(o);for(var u=0;u<o;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:hs,type:e.type,key:s,ref:i,props:n,_owner:l}};B.createContext=function(e){return e={$$typeof:Rf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Lf,_context:e},e.Consumer=e};B.createElement=Bu;B.createFactory=function(e){var t=Bu.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:Df,render:e}};B.isValidElement=Yl;B.lazy=function(e){return{$$typeof:Mf,_payload:{_status:-1,_result:e},_init:Vf}};B.memo=function(e,t){return{$$typeof:zf,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=Js.transition;Js.transition={};try{e()}finally{Js.transition=t}};B.unstable_act=Wu;B.useCallback=function(e,t){return Te.current.useCallback(e,t)};B.useContext=function(e){return Te.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Te.current.useDeferredValue(e)};B.useEffect=function(e,t){return Te.current.useEffect(e,t)};B.useId=function(){return Te.current.useId()};B.useImperativeHandle=function(e,t,r){return Te.current.useImperativeHandle(e,t,r)};B.useInsertionEffect=function(e,t){return Te.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Te.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Te.current.useMemo(e,t)};B.useReducer=function(e,t,r){return Te.current.useReducer(e,t,r)};B.useRef=function(e){return Te.current.useRef(e)};B.useState=function(e){return Te.current.useState(e)};B.useSyncExternalStore=function(e,t,r){return Te.current.useSyncExternalStore(e,t,r)};B.useTransition=function(){return Te.current.useTransition()};B.version="18.3.1";Lu.exports=B;var $=Lu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf=$,Kf=Symbol.for("react.element"),Jf=Symbol.for("react.fragment"),Qf=Object.prototype.hasOwnProperty,Gf=qf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yf={key:!0,ref:!0,__self:!0,__source:!0};function Vu(e,t,r){var n,s={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)Qf.call(t,n)&&!Yf.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Kf,type:e,key:i,ref:l,props:s,_owner:Gf.current}}Ri.Fragment=Jf;Ri.jsx=Vu;Ri.jsxs=Vu;Au.exports=Ri;var a=Au.exports,Hu={exports:{}},Ve={},qu={exports:{}},Ku={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,A){var R=P.length;P.push(A);e:for(;0<R;){var W=R-1>>>1,Q=P[W];if(0<s(Q,A))P[W]=A,P[R]=Q,R=W;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var A=P[0],R=P.pop();if(R!==A){P[0]=R;e:for(var W=0,Q=P.length,pt=Q>>>1;W<pt;){var qe=2*(W+1)-1,gt=P[qe],fe=qe+1,G=P[fe];if(0>s(gt,R))fe<Q&&0>s(G,gt)?(P[W]=G,P[fe]=R,W=fe):(P[W]=gt,P[qe]=R,W=qe);else if(fe<Q&&0>s(G,R))P[W]=G,P[fe]=R,W=fe;else break e}}return A}function s(P,A){var R=P.sortIndex-A.sortIndex;return R!==0?R:P.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var o=[],u=[],d=1,h=null,m=3,v=!1,g=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(P){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=P)n(u),A.sortIndex=A.expirationTime,t(o,A);else break;A=r(u)}}function w(P){if(x=!1,p(P),!g)if(r(o)!==null)g=!0,q(b);else{var A=r(u);A!==null&&Z(w,A.startTime-P)}}function b(P,A){g=!1,x&&(x=!1,y(O),O=-1),v=!0;var R=m;try{for(p(A),h=r(o);h!==null&&(!(h.expirationTime>A)||P&&!ue());){var W=h.callback;if(typeof W=="function"){h.callback=null,m=h.priorityLevel;var Q=W(h.expirationTime<=A);A=e.unstable_now(),typeof Q=="function"?h.callback=Q:h===r(o)&&n(o),p(A)}else n(o);h=r(o)}if(h!==null)var pt=!0;else{var qe=r(u);qe!==null&&Z(w,qe.startTime-A),pt=!1}return pt}finally{h=null,m=R,v=!1}}var N=!1,C=null,O=-1,M=5,D=-1;function ue(){return!(e.unstable_now()-D<M)}function j(){if(C!==null){var P=e.unstable_now();D=P;var A=!0;try{A=C(!0,P)}finally{A?k():(N=!1,C=null)}}else N=!1}var k;if(typeof f=="function")k=function(){f(j)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,H=E.port2;E.port1.onmessage=j,k=function(){H.postMessage(null)}}else k=function(){_(j,0)};function q(P){C=P,N||(N=!0,k())}function Z(P,A){O=_(function(){P(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){g||v||(g=!0,q(b))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(o)},e.unstable_next=function(P){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var R=m;m=A;try{return P()}finally{m=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,A){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var R=m;m=P;try{return A()}finally{m=R}},e.unstable_scheduleCallback=function(P,A,R){var W=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?W+R:W):R=W,P){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=R+Q,P={id:d++,callback:A,priorityLevel:P,startTime:R,expirationTime:Q,sortIndex:-1},R>W?(P.sortIndex=R,t(u,P),r(o)===null&&P===r(u)&&(x?(y(O),O=-1):x=!0,Z(w,R-W))):(P.sortIndex=Q,t(o,P),g||v||(g=!0,q(b))),P},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function(P){var A=m;return function(){var R=m;m=A;try{return P.apply(this,arguments)}finally{m=R}}}})(Ku);qu.exports=Ku;var Xf=qu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=$,We=Xf;function S(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ju=new Set,qn={};function Sr(e,t){tn(e,t),tn(e+"Capture",t)}function tn(e,t){for(qn[e]=t,e=0;e<t.length;e++)Ju.add(t[e])}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ha=Object.prototype.hasOwnProperty,em=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lc={},oc={};function tm(e){return Ha.call(oc,e)?!0:Ha.call(lc,e)?!1:em.test(e)?oc[e]=!0:(lc[e]=!0,!1)}function rm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nm(e,t,r,n){if(t===null||typeof t>"u"||rm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,r,n,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){be[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];be[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){be[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){be[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){be[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){be[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){be[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){be[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){be[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xl=/[\-:]([a-z])/g;function Zl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xl,Zl);be[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xl,Zl);be[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xl,Zl);be[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){be[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});be.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){be[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function eo(e,t,r,n){var s=be.hasOwnProperty(t)?be[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nm(t,r,s,n)&&(r=null),n||s===null?tm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Lt=Zf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bs=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),Dr=Symbol.for("react.fragment"),to=Symbol.for("react.strict_mode"),qa=Symbol.for("react.profiler"),Qu=Symbol.for("react.provider"),Gu=Symbol.for("react.context"),ro=Symbol.for("react.forward_ref"),Ka=Symbol.for("react.suspense"),Ja=Symbol.for("react.suspense_list"),no=Symbol.for("react.memo"),zt=Symbol.for("react.lazy"),Yu=Symbol.for("react.offscreen"),cc=Symbol.iterator;function yn(e){return e===null||typeof e!="object"?null:(e=cc&&e[cc]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,ua;function En(e){if(ua===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ua=t&&t[1]||""}return`
`+ua+e}var da=!1;function ha(e,t){if(!e||da)return"";da=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),l=s.length-1,c=i.length-1;1<=l&&0<=c&&s[l]!==i[c];)c--;for(;1<=l&&0<=c;l--,c--)if(s[l]!==i[c]){if(l!==1||c!==1)do if(l--,c--,0>c||s[l]!==i[c]){var o=`
`+s[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=l&&0<=c);break}}}finally{da=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?En(e):""}function sm(e){switch(e.tag){case 5:return En(e.type);case 16:return En("Lazy");case 13:return En("Suspense");case 19:return En("SuspenseList");case 0:case 2:case 15:return e=ha(e.type,!1),e;case 11:return e=ha(e.type.render,!1),e;case 1:return e=ha(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dr:return"Fragment";case Rr:return"Portal";case qa:return"Profiler";case to:return"StrictMode";case Ka:return"Suspense";case Ja:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gu:return(e.displayName||"Context")+".Consumer";case Qu:return(e._context.displayName||"Context")+".Provider";case ro:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case no:return t=e.displayName||null,t!==null?t:Qa(e.type)||"Memo";case zt:t=e._payload,e=e._init;try{return Qa(e(t))}catch{}}return null}function im(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(t);case 8:return t===to?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function am(e){var t=Xu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ks(e){e._valueTracker||(e._valueTracker=am(e))}function Zu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Xu(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ga(e,t){var r=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function uc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=rr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ed(e,t){t=t.checked,t!=null&&eo(e,"checked",t,!1)}function Ya(e,t){ed(e,t);var r=rr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xa(e,t.type,r):t.hasOwnProperty("defaultValue")&&Xa(e,t.type,rr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Xa(e,t,r){(t!=="number"||ii(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Cn=Array.isArray;function Jr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+rr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Za(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(S(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(S(92));if(Cn(r)){if(1<r.length)throw Error(S(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:rr(r)}}function td(e,t){var r=rr(t.value),n=rr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function fc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function el(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var js,nd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(js=js||document.createElement("div"),js.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=js.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var In={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lm=["Webkit","ms","Moz","O"];Object.keys(In).forEach(function(e){lm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),In[t]=In[e]})});function sd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||In.hasOwnProperty(e)&&In[e]?(""+t).trim():t+"px"}function id(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=sd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var om=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tl(e,t){if(t){if(om[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(S(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(S(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(S(61))}if(t.style!=null&&typeof t.style!="object")throw Error(S(62))}}function rl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nl=null;function so(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sl=null,Qr=null,Gr=null;function mc(e){if(e=ps(e)){if(typeof sl!="function")throw Error(S(280));var t=e.stateNode;t&&(t=Fi(t),sl(e.stateNode,e.type,t))}}function ad(e){Qr?Gr?Gr.push(e):Gr=[e]:Qr=e}function ld(){if(Qr){var e=Qr,t=Gr;if(Gr=Qr=null,mc(e),t)for(e=0;e<t.length;e++)mc(t[e])}}function od(e,t){return e(t)}function cd(){}var fa=!1;function ud(e,t,r){if(fa)return e(t,r);fa=!0;try{return od(e,t,r)}finally{fa=!1,(Qr!==null||Gr!==null)&&(cd(),ld())}}function Jn(e,t){var r=e.stateNode;if(r===null)return null;var n=Fi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(S(231,t,typeof r));return r}var il=!1;if($t)try{var vn={};Object.defineProperty(vn,"passive",{get:function(){il=!0}}),window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{il=!1}function cm(e,t,r,n,s,i,l,c,o){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var An=!1,ai=null,li=!1,al=null,um={onError:function(e){An=!0,ai=e}};function dm(e,t,r,n,s,i,l,c,o){An=!1,ai=null,cm.apply(um,arguments)}function hm(e,t,r,n,s,i,l,c,o){if(dm.apply(this,arguments),An){if(An){var u=ai;An=!1,ai=null}else throw Error(S(198));li||(li=!0,al=u)}}function Er(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function dd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pc(e){if(Er(e)!==e)throw Error(S(188))}function fm(e){var t=e.alternate;if(!t){if(t=Er(e),t===null)throw Error(S(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return pc(s),e;if(i===n)return pc(s),t;i=i.sibling}throw Error(S(188))}if(r.return!==n.return)r=s,n=i;else{for(var l=!1,c=s.child;c;){if(c===r){l=!0,r=s,n=i;break}if(c===n){l=!0,n=s,r=i;break}c=c.sibling}if(!l){for(c=i.child;c;){if(c===r){l=!0,r=i,n=s;break}if(c===n){l=!0,n=i,r=s;break}c=c.sibling}if(!l)throw Error(S(189))}}if(r.alternate!==n)throw Error(S(190))}if(r.tag!==3)throw Error(S(188));return r.stateNode.current===r?e:t}function hd(e){return e=fm(e),e!==null?fd(e):null}function fd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fd(e);if(t!==null)return t;e=e.sibling}return null}var md=We.unstable_scheduleCallback,gc=We.unstable_cancelCallback,mm=We.unstable_shouldYield,pm=We.unstable_requestPaint,he=We.unstable_now,gm=We.unstable_getCurrentPriorityLevel,io=We.unstable_ImmediatePriority,pd=We.unstable_UserBlockingPriority,oi=We.unstable_NormalPriority,ym=We.unstable_LowPriority,gd=We.unstable_IdlePriority,Di=null,_t=null;function vm(e){if(_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Di,e,void 0,(e.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:_m,xm=Math.log,wm=Math.LN2;function _m(e){return e>>>=0,e===0?32:31-(xm(e)/wm|0)|0}var Ns=64,Ss=4194304;function Pn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ci(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var c=l&~s;c!==0?n=Pn(c):(i&=l,i!==0&&(n=Pn(i)))}else l=r&~s,l!==0?n=Pn(l):i!==0&&(n=Pn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ht(t),s=1<<r,n|=e[r],t&=~s;return n}function bm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function km(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-ht(i),c=1<<l,o=s[l];o===-1?(!(c&r)||c&n)&&(s[l]=bm(c,t)):o<=t&&(e.expiredLanes|=c),i&=~c}}function ll(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yd(){var e=Ns;return Ns<<=1,!(Ns&4194240)&&(Ns=64),e}function ma(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function fs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ht(t),e[t]=r}function jm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ht(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function ao(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ht(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var J=0;function vd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xd,lo,wd,_d,bd,ol=!1,Es=[],Kt=null,Jt=null,Qt=null,Qn=new Map,Gn=new Map,Bt=[],Nm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yc(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":Qn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gn.delete(t.pointerId)}}function xn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ps(t),t!==null&&lo(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Sm(e,t,r,n,s){switch(t){case"focusin":return Kt=xn(Kt,e,t,r,n,s),!0;case"dragenter":return Jt=xn(Jt,e,t,r,n,s),!0;case"mouseover":return Qt=xn(Qt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Qn.set(i,xn(Qn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Gn.set(i,xn(Gn.get(i)||null,e,t,r,n,s)),!0}return!1}function kd(e){var t=mr(e.target);if(t!==null){var r=Er(t);if(r!==null){if(t=r.tag,t===13){if(t=dd(r),t!==null){e.blockedOn=t,bd(e.priority,function(){wd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=cl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);nl=n,r.target.dispatchEvent(n),nl=null}else return t=ps(r),t!==null&&lo(t),e.blockedOn=r,!1;t.shift()}return!0}function vc(e,t,r){Qs(e)&&r.delete(t)}function Em(){ol=!1,Kt!==null&&Qs(Kt)&&(Kt=null),Jt!==null&&Qs(Jt)&&(Jt=null),Qt!==null&&Qs(Qt)&&(Qt=null),Qn.forEach(vc),Gn.forEach(vc)}function wn(e,t){e.blockedOn===t&&(e.blockedOn=null,ol||(ol=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,Em)))}function Yn(e){function t(s){return wn(s,e)}if(0<Es.length){wn(Es[0],e);for(var r=1;r<Es.length;r++){var n=Es[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Kt!==null&&wn(Kt,e),Jt!==null&&wn(Jt,e),Qt!==null&&wn(Qt,e),Qn.forEach(t),Gn.forEach(t),r=0;r<Bt.length;r++)n=Bt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Bt.length&&(r=Bt[0],r.blockedOn===null);)kd(r),r.blockedOn===null&&Bt.shift()}var Yr=Lt.ReactCurrentBatchConfig,ui=!0;function Cm(e,t,r,n){var s=J,i=Yr.transition;Yr.transition=null;try{J=1,oo(e,t,r,n)}finally{J=s,Yr.transition=i}}function Pm(e,t,r,n){var s=J,i=Yr.transition;Yr.transition=null;try{J=4,oo(e,t,r,n)}finally{J=s,Yr.transition=i}}function oo(e,t,r,n){if(ui){var s=cl(e,t,r,n);if(s===null)ja(e,t,n,di,r),yc(e,n);else if(Sm(s,e,t,r,n))n.stopPropagation();else if(yc(e,n),t&4&&-1<Nm.indexOf(e)){for(;s!==null;){var i=ps(s);if(i!==null&&xd(i),i=cl(e,t,r,n),i===null&&ja(e,t,n,di,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ja(e,t,n,null,r)}}var di=null;function cl(e,t,r,n){if(di=null,e=so(n),e=mr(e),e!==null)if(t=Er(e),t===null)e=null;else if(r=t.tag,r===13){if(e=dd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return di=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gm()){case io:return 1;case pd:return 4;case oi:case ym:return 16;case gd:return 536870912;default:return 16}default:return 16}}var Ht=null,co=null,Gs=null;function Nd(){if(Gs)return Gs;var e,t=co,r=t.length,n,s="value"in Ht?Ht.value:Ht.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===s[i-n];n++);return Gs=s.slice(e,1<n?1-n:void 0)}function Ys(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cs(){return!0}function xc(){return!1}function He(e){function t(r,n,s,i,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cs:xc,this.isPropagationStopped=xc,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),t}var hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=He(hn),ms=oe({},hn,{view:0,detail:0}),Tm=He(ms),pa,ga,_n,Ui=oe({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ho,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_n&&(_n&&e.type==="mousemove"?(pa=e.screenX-_n.screenX,ga=e.screenY-_n.screenY):ga=pa=0,_n=e),pa)},movementY:function(e){return"movementY"in e?e.movementY:ga}}),wc=He(Ui),$m=oe({},Ui,{dataTransfer:0}),Om=He($m),Im=oe({},ms,{relatedTarget:0}),ya=He(Im),Am=oe({},hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Lm=He(Am),Rm=oe({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dm=He(Rm),Um=oe({},hn,{data:0}),_c=He(Um),zm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fm[e])?!!t[e]:!1}function ho(){return Bm}var Wm=oe({},ms,{key:function(e){if(e.key){var t=zm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ho,charCode:function(e){return e.type==="keypress"?Ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vm=He(Wm),Hm=oe({},Ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bc=He(Hm),qm=oe({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ho}),Km=He(qm),Jm=oe({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qm=He(Jm),Gm=oe({},Ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ym=He(Gm),Xm=[9,13,27,32],fo=$t&&"CompositionEvent"in window,Ln=null;$t&&"documentMode"in document&&(Ln=document.documentMode);var Zm=$t&&"TextEvent"in window&&!Ln,Sd=$t&&(!fo||Ln&&8<Ln&&11>=Ln),kc=" ",jc=!1;function Ed(e,t){switch(e){case"keyup":return Xm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ur=!1;function ep(e,t){switch(e){case"compositionend":return Cd(t);case"keypress":return t.which!==32?null:(jc=!0,kc);case"textInput":return e=t.data,e===kc&&jc?null:e;default:return null}}function tp(e,t){if(Ur)return e==="compositionend"||!fo&&Ed(e,t)?(e=Nd(),Gs=co=Ht=null,Ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sd&&t.locale!=="ko"?null:t.data;default:return null}}var rp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rp[e.type]:t==="textarea"}function Pd(e,t,r,n){ad(n),t=hi(t,"onChange"),0<t.length&&(r=new uo("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Rn=null,Xn=null;function np(e){Md(e,0)}function zi(e){var t=Fr(e);if(Zu(t))return e}function sp(e,t){if(e==="change")return t}var Td=!1;if($t){var va;if($t){var xa="oninput"in document;if(!xa){var Sc=document.createElement("div");Sc.setAttribute("oninput","return;"),xa=typeof Sc.oninput=="function"}va=xa}else va=!1;Td=va&&(!document.documentMode||9<document.documentMode)}function Ec(){Rn&&(Rn.detachEvent("onpropertychange",$d),Xn=Rn=null)}function $d(e){if(e.propertyName==="value"&&zi(Xn)){var t=[];Pd(t,Xn,e,so(e)),ud(np,t)}}function ip(e,t,r){e==="focusin"?(Ec(),Rn=t,Xn=r,Rn.attachEvent("onpropertychange",$d)):e==="focusout"&&Ec()}function ap(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zi(Xn)}function lp(e,t){if(e==="click")return zi(t)}function op(e,t){if(e==="input"||e==="change")return zi(t)}function cp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mt=typeof Object.is=="function"?Object.is:cp;function Zn(e,t){if(mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ha.call(t,s)||!mt(e[s],t[s]))return!1}return!0}function Cc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pc(e,t){var r=Cc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cc(r)}}function Od(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Od(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Id(){for(var e=window,t=ii();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ii(e.document)}return t}function mo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function up(e){var t=Id(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Od(r.ownerDocument.documentElement,r)){if(n!==null&&mo(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Pc(r,i);var l=Pc(r,n);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dp=$t&&"documentMode"in document&&11>=document.documentMode,zr=null,ul=null,Dn=null,dl=!1;function Tc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dl||zr==null||zr!==ii(n)||(n=zr,"selectionStart"in n&&mo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Dn&&Zn(Dn,n)||(Dn=n,n=hi(ul,"onSelect"),0<n.length&&(t=new uo("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=zr)))}function Ps(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Mr={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionend:Ps("Transition","TransitionEnd")},wa={},Ad={};$t&&(Ad=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Mi(e){if(wa[e])return wa[e];if(!Mr[e])return e;var t=Mr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ad)return wa[e]=t[r];return e}var Ld=Mi("animationend"),Rd=Mi("animationiteration"),Dd=Mi("animationstart"),Ud=Mi("transitionend"),zd=new Map,$c="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sr(e,t){zd.set(e,t),Sr(t,[e])}for(var _a=0;_a<$c.length;_a++){var ba=$c[_a],hp=ba.toLowerCase(),fp=ba[0].toUpperCase()+ba.slice(1);sr(hp,"on"+fp)}sr(Ld,"onAnimationEnd");sr(Rd,"onAnimationIteration");sr(Dd,"onAnimationStart");sr("dblclick","onDoubleClick");sr("focusin","onFocus");sr("focusout","onBlur");sr(Ud,"onTransitionEnd");tn("onMouseEnter",["mouseout","mouseover"]);tn("onMouseLeave",["mouseout","mouseover"]);tn("onPointerEnter",["pointerout","pointerover"]);tn("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tn));function Oc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,hm(n,t,void 0,e),e.currentTarget=null}function Md(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var c=n[l],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==i&&s.isPropagationStopped())break e;Oc(s,c,u),i=o}else for(l=0;l<n.length;l++){if(c=n[l],o=c.instance,u=c.currentTarget,c=c.listener,o!==i&&s.isPropagationStopped())break e;Oc(s,c,u),i=o}}}if(li)throw e=al,li=!1,al=null,e}function te(e,t){var r=t[gl];r===void 0&&(r=t[gl]=new Set);var n=e+"__bubble";r.has(n)||(Fd(t,e,2,!1),r.add(n))}function ka(e,t,r){var n=0;t&&(n|=4),Fd(r,e,n,t)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function es(e){if(!e[Ts]){e[Ts]=!0,Ju.forEach(function(r){r!=="selectionchange"&&(mp.has(r)||ka(r,!1,e),ka(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ts]||(t[Ts]=!0,ka("selectionchange",!1,t))}}function Fd(e,t,r,n){switch(jd(t)){case 1:var s=Cm;break;case 4:s=Pm;break;default:s=oo}r=s.bind(null,t,r,e),s=void 0,!il||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ja(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var c=n.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var o=l.tag;if((o===3||o===4)&&(o=l.stateNode.containerInfo,o===s||o.nodeType===8&&o.parentNode===s))return;l=l.return}for(;c!==null;){if(l=mr(c),l===null)return;if(o=l.tag,o===5||o===6){n=i=l;continue e}c=c.parentNode}}n=n.return}ud(function(){var u=i,d=so(r),h=[];e:{var m=zd.get(e);if(m!==void 0){var v=uo,g=e;switch(e){case"keypress":if(Ys(r)===0)break e;case"keydown":case"keyup":v=Vm;break;case"focusin":g="focus",v=ya;break;case"focusout":g="blur",v=ya;break;case"beforeblur":case"afterblur":v=ya;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Om;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Km;break;case Ld:case Rd:case Dd:v=Lm;break;case Ud:v=Qm;break;case"scroll":v=Tm;break;case"wheel":v=Ym;break;case"copy":case"cut":case"paste":v=Dm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=bc}var x=(t&4)!==0,_=!x&&e==="scroll",y=x?m!==null?m+"Capture":null:m;x=[];for(var f=u,p;f!==null;){p=f;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,y!==null&&(w=Jn(f,y),w!=null&&x.push(ts(f,w,p)))),_)break;f=f.return}0<x.length&&(m=new v(m,g,null,r,d),h.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&r!==nl&&(g=r.relatedTarget||r.fromElement)&&(mr(g)||g[Ot]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(g=r.relatedTarget||r.toElement,v=u,g=g?mr(g):null,g!==null&&(_=Er(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=u),v!==g)){if(x=wc,w="onMouseLeave",y="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(x=bc,w="onPointerLeave",y="onPointerEnter",f="pointer"),_=v==null?m:Fr(v),p=g==null?m:Fr(g),m=new x(w,f+"leave",v,r,d),m.target=_,m.relatedTarget=p,w=null,mr(d)===u&&(x=new x(y,f+"enter",g,r,d),x.target=p,x.relatedTarget=_,w=x),_=w,v&&g)t:{for(x=v,y=g,f=0,p=x;p;p=Tr(p))f++;for(p=0,w=y;w;w=Tr(w))p++;for(;0<f-p;)x=Tr(x),f--;for(;0<p-f;)y=Tr(y),p--;for(;f--;){if(x===y||y!==null&&x===y.alternate)break t;x=Tr(x),y=Tr(y)}x=null}else x=null;v!==null&&Ic(h,m,v,x,!1),g!==null&&_!==null&&Ic(h,_,g,x,!0)}}e:{if(m=u?Fr(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var b=sp;else if(Nc(m))if(Td)b=op;else{b=ap;var N=ip}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(b=lp);if(b&&(b=b(e,u))){Pd(h,b,r,d);break e}N&&N(e,m,u),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Xa(m,"number",m.value)}switch(N=u?Fr(u):window,e){case"focusin":(Nc(N)||N.contentEditable==="true")&&(zr=N,ul=u,Dn=null);break;case"focusout":Dn=ul=zr=null;break;case"mousedown":dl=!0;break;case"contextmenu":case"mouseup":case"dragend":dl=!1,Tc(h,r,d);break;case"selectionchange":if(dp)break;case"keydown":case"keyup":Tc(h,r,d)}var C;if(fo)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Ur?Ed(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(Sd&&r.locale!=="ko"&&(Ur||O!=="onCompositionStart"?O==="onCompositionEnd"&&Ur&&(C=Nd()):(Ht=d,co="value"in Ht?Ht.value:Ht.textContent,Ur=!0)),N=hi(u,O),0<N.length&&(O=new _c(O,e,null,r,d),h.push({event:O,listeners:N}),C?O.data=C:(C=Cd(r),C!==null&&(O.data=C)))),(C=Zm?ep(e,r):tp(e,r))&&(u=hi(u,"onBeforeInput"),0<u.length&&(d=new _c("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=C))}Md(h,t)})}function ts(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Jn(e,r),i!=null&&n.unshift(ts(e,i,s)),i=Jn(e,t),i!=null&&n.push(ts(e,i,s))),e=e.return}return n}function Tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ic(e,t,r,n,s){for(var i=t._reactName,l=[];r!==null&&r!==n;){var c=r,o=c.alternate,u=c.stateNode;if(o!==null&&o===n)break;c.tag===5&&u!==null&&(c=u,s?(o=Jn(r,i),o!=null&&l.unshift(ts(r,o,c))):s||(o=Jn(r,i),o!=null&&l.push(ts(r,o,c)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var pp=/\r\n?/g,gp=/\u0000|\uFFFD/g;function Ac(e){return(typeof e=="string"?e:""+e).replace(pp,`
`).replace(gp,"")}function $s(e,t,r){if(t=Ac(t),Ac(e)!==t&&r)throw Error(S(425))}function fi(){}var hl=null,fl=null;function ml(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pl=typeof setTimeout=="function"?setTimeout:void 0,yp=typeof clearTimeout=="function"?clearTimeout:void 0,Lc=typeof Promise=="function"?Promise:void 0,vp=typeof queueMicrotask=="function"?queueMicrotask:typeof Lc<"u"?function(e){return Lc.resolve(null).then(e).catch(xp)}:pl;function xp(e){setTimeout(function(){throw e})}function Na(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Yn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Yn(t)}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Rc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fn=Math.random().toString(36).slice(2),wt="__reactFiber$"+fn,rs="__reactProps$"+fn,Ot="__reactContainer$"+fn,gl="__reactEvents$"+fn,wp="__reactListeners$"+fn,_p="__reactHandles$"+fn;function mr(e){var t=e[wt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ot]||r[wt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Rc(e);e!==null;){if(r=e[wt])return r;e=Rc(e)}return t}e=r,r=e.parentNode}return null}function ps(e){return e=e[wt]||e[Ot],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(S(33))}function Fi(e){return e[rs]||null}var yl=[],Br=-1;function ir(e){return{current:e}}function re(e){0>Br||(e.current=yl[Br],yl[Br]=null,Br--)}function X(e,t){Br++,yl[Br]=e.current,e.current=t}var nr={},Se=ir(nr),Re=ir(!1),xr=nr;function rn(e,t){var r=e.type.contextTypes;if(!r)return nr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function De(e){return e=e.childContextTypes,e!=null}function mi(){re(Re),re(Se)}function Dc(e,t,r){if(Se.current!==nr)throw Error(S(168));X(Se,t),X(Re,r)}function Bd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(S(108,im(e)||"Unknown",s));return oe({},r,n)}function pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nr,xr=Se.current,X(Se,e),X(Re,Re.current),!0}function Uc(e,t,r){var n=e.stateNode;if(!n)throw Error(S(169));r?(e=Bd(e,t,xr),n.__reactInternalMemoizedMergedChildContext=e,re(Re),re(Se),X(Se,e)):re(Re),X(Re,r)}var Et=null,Bi=!1,Sa=!1;function Wd(e){Et===null?Et=[e]:Et.push(e)}function bp(e){Bi=!0,Wd(e)}function ar(){if(!Sa&&Et!==null){Sa=!0;var e=0,t=J;try{var r=Et;for(J=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Et=null,Bi=!1}catch(s){throw Et!==null&&(Et=Et.slice(e+1)),md(io,ar),s}finally{J=t,Sa=!1}}return null}var Wr=[],Vr=0,gi=null,yi=0,Ge=[],Ye=0,wr=null,Ct=1,Pt="";function ur(e,t){Wr[Vr++]=yi,Wr[Vr++]=gi,gi=e,yi=t}function Vd(e,t,r){Ge[Ye++]=Ct,Ge[Ye++]=Pt,Ge[Ye++]=wr,wr=e;var n=Ct;e=Pt;var s=32-ht(n)-1;n&=~(1<<s),r+=1;var i=32-ht(t)+s;if(30<i){var l=s-s%5;i=(n&(1<<l)-1).toString(32),n>>=l,s-=l,Ct=1<<32-ht(t)+s|r<<s|n,Pt=i+e}else Ct=1<<i|r<<s|n,Pt=e}function po(e){e.return!==null&&(ur(e,1),Vd(e,1,0))}function go(e){for(;e===gi;)gi=Wr[--Vr],Wr[Vr]=null,yi=Wr[--Vr],Wr[Vr]=null;for(;e===wr;)wr=Ge[--Ye],Ge[Ye]=null,Pt=Ge[--Ye],Ge[Ye]=null,Ct=Ge[--Ye],Ge[Ye]=null}var Be=null,Fe=null,ne=!1,ct=null;function Hd(e,t){var r=Xe(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function zc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Be=e,Fe=Gt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Be=e,Fe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=wr!==null?{id:Ct,overflow:Pt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Xe(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Be=e,Fe=null,!0):!1;default:return!1}}function vl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xl(e){if(ne){var t=Fe;if(t){var r=t;if(!zc(e,t)){if(vl(e))throw Error(S(418));t=Gt(r.nextSibling);var n=Be;t&&zc(e,t)?Hd(n,r):(e.flags=e.flags&-4097|2,ne=!1,Be=e)}}else{if(vl(e))throw Error(S(418));e.flags=e.flags&-4097|2,ne=!1,Be=e}}}function Mc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Be=e}function Os(e){if(e!==Be)return!1;if(!ne)return Mc(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ml(e.type,e.memoizedProps)),t&&(t=Fe)){if(vl(e))throw qd(),Error(S(418));for(;t;)Hd(e,t),t=Gt(t.nextSibling)}if(Mc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Fe=Gt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Fe=null}}else Fe=Be?Gt(e.stateNode.nextSibling):null;return!0}function qd(){for(var e=Fe;e;)e=Gt(e.nextSibling)}function nn(){Fe=Be=null,ne=!1}function yo(e){ct===null?ct=[e]:ct.push(e)}var kp=Lt.ReactCurrentBatchConfig;function bn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(S(309));var n=r.stateNode}if(!n)throw Error(S(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var c=s.refs;l===null?delete c[i]:c[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(S(284));if(!r._owner)throw Error(S(290,e))}return e}function Is(e,t){throw e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fc(e){var t=e._init;return t(e._payload)}function Kd(e){function t(y,f){if(e){var p=y.deletions;p===null?(y.deletions=[f],y.flags|=16):p.push(f)}}function r(y,f){if(!e)return null;for(;f!==null;)t(y,f),f=f.sibling;return null}function n(y,f){for(y=new Map;f!==null;)f.key!==null?y.set(f.key,f):y.set(f.index,f),f=f.sibling;return y}function s(y,f){return y=er(y,f),y.index=0,y.sibling=null,y}function i(y,f,p){return y.index=p,e?(p=y.alternate,p!==null?(p=p.index,p<f?(y.flags|=2,f):p):(y.flags|=2,f)):(y.flags|=1048576,f)}function l(y){return e&&y.alternate===null&&(y.flags|=2),y}function c(y,f,p,w){return f===null||f.tag!==6?(f=Ia(p,y.mode,w),f.return=y,f):(f=s(f,p),f.return=y,f)}function o(y,f,p,w){var b=p.type;return b===Dr?d(y,f,p.props.children,w,p.key):f!==null&&(f.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===zt&&Fc(b)===f.type)?(w=s(f,p.props),w.ref=bn(y,f,p),w.return=y,w):(w=si(p.type,p.key,p.props,null,y.mode,w),w.ref=bn(y,f,p),w.return=y,w)}function u(y,f,p,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=Aa(p,y.mode,w),f.return=y,f):(f=s(f,p.children||[]),f.return=y,f)}function d(y,f,p,w,b){return f===null||f.tag!==7?(f=vr(p,y.mode,w,b),f.return=y,f):(f=s(f,p),f.return=y,f)}function h(y,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ia(""+f,y.mode,p),f.return=y,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case bs:return p=si(f.type,f.key,f.props,null,y.mode,p),p.ref=bn(y,null,f),p.return=y,p;case Rr:return f=Aa(f,y.mode,p),f.return=y,f;case zt:var w=f._init;return h(y,w(f._payload),p)}if(Cn(f)||yn(f))return f=vr(f,y.mode,p,null),f.return=y,f;Is(y,f)}return null}function m(y,f,p,w){var b=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return b!==null?null:c(y,f,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case bs:return p.key===b?o(y,f,p,w):null;case Rr:return p.key===b?u(y,f,p,w):null;case zt:return b=p._init,m(y,f,b(p._payload),w)}if(Cn(p)||yn(p))return b!==null?null:d(y,f,p,w,null);Is(y,p)}return null}function v(y,f,p,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(p)||null,c(f,y,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bs:return y=y.get(w.key===null?p:w.key)||null,o(f,y,w,b);case Rr:return y=y.get(w.key===null?p:w.key)||null,u(f,y,w,b);case zt:var N=w._init;return v(y,f,p,N(w._payload),b)}if(Cn(w)||yn(w))return y=y.get(p)||null,d(f,y,w,b,null);Is(f,w)}return null}function g(y,f,p,w){for(var b=null,N=null,C=f,O=f=0,M=null;C!==null&&O<p.length;O++){C.index>O?(M=C,C=null):M=C.sibling;var D=m(y,C,p[O],w);if(D===null){C===null&&(C=M);break}e&&C&&D.alternate===null&&t(y,C),f=i(D,f,O),N===null?b=D:N.sibling=D,N=D,C=M}if(O===p.length)return r(y,C),ne&&ur(y,O),b;if(C===null){for(;O<p.length;O++)C=h(y,p[O],w),C!==null&&(f=i(C,f,O),N===null?b=C:N.sibling=C,N=C);return ne&&ur(y,O),b}for(C=n(y,C);O<p.length;O++)M=v(C,y,O,p[O],w),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?O:M.key),f=i(M,f,O),N===null?b=M:N.sibling=M,N=M);return e&&C.forEach(function(ue){return t(y,ue)}),ne&&ur(y,O),b}function x(y,f,p,w){var b=yn(p);if(typeof b!="function")throw Error(S(150));if(p=b.call(p),p==null)throw Error(S(151));for(var N=b=null,C=f,O=f=0,M=null,D=p.next();C!==null&&!D.done;O++,D=p.next()){C.index>O?(M=C,C=null):M=C.sibling;var ue=m(y,C,D.value,w);if(ue===null){C===null&&(C=M);break}e&&C&&ue.alternate===null&&t(y,C),f=i(ue,f,O),N===null?b=ue:N.sibling=ue,N=ue,C=M}if(D.done)return r(y,C),ne&&ur(y,O),b;if(C===null){for(;!D.done;O++,D=p.next())D=h(y,D.value,w),D!==null&&(f=i(D,f,O),N===null?b=D:N.sibling=D,N=D);return ne&&ur(y,O),b}for(C=n(y,C);!D.done;O++,D=p.next())D=v(C,y,O,D.value,w),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?O:D.key),f=i(D,f,O),N===null?b=D:N.sibling=D,N=D);return e&&C.forEach(function(j){return t(y,j)}),ne&&ur(y,O),b}function _(y,f,p,w){if(typeof p=="object"&&p!==null&&p.type===Dr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case bs:e:{for(var b=p.key,N=f;N!==null;){if(N.key===b){if(b=p.type,b===Dr){if(N.tag===7){r(y,N.sibling),f=s(N,p.props.children),f.return=y,y=f;break e}}else if(N.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===zt&&Fc(b)===N.type){r(y,N.sibling),f=s(N,p.props),f.ref=bn(y,N,p),f.return=y,y=f;break e}r(y,N);break}else t(y,N);N=N.sibling}p.type===Dr?(f=vr(p.props.children,y.mode,w,p.key),f.return=y,y=f):(w=si(p.type,p.key,p.props,null,y.mode,w),w.ref=bn(y,f,p),w.return=y,y=w)}return l(y);case Rr:e:{for(N=p.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){r(y,f.sibling),f=s(f,p.children||[]),f.return=y,y=f;break e}else{r(y,f);break}else t(y,f);f=f.sibling}f=Aa(p,y.mode,w),f.return=y,y=f}return l(y);case zt:return N=p._init,_(y,f,N(p._payload),w)}if(Cn(p))return g(y,f,p,w);if(yn(p))return x(y,f,p,w);Is(y,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(r(y,f.sibling),f=s(f,p),f.return=y,y=f):(r(y,f),f=Ia(p,y.mode,w),f.return=y,y=f),l(y)):r(y,f)}return _}var sn=Kd(!0),Jd=Kd(!1),vi=ir(null),xi=null,Hr=null,vo=null;function xo(){vo=Hr=xi=null}function wo(e){var t=vi.current;re(vi),e._currentValue=t}function wl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Xr(e,t){xi=e,vo=Hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Le=!0),e.firstContext=null)}function rt(e){var t=e._currentValue;if(vo!==e)if(e={context:e,memoizedValue:t,next:null},Hr===null){if(xi===null)throw Error(S(308));Hr=e,xi.dependencies={lanes:0,firstContext:e}}else Hr=Hr.next=e;return t}var pr=null;function _o(e){pr===null?pr=[e]:pr.push(e)}function Qd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,_o(t)):(r.next=s.next,s.next=r),t.interleaved=r,It(e,n)}function It(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Mt=!1;function bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,V&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,It(e,r)}return s=n.interleaved,s===null?(t.next=t,_o(n)):(t.next=s.next,s.next=t),n.interleaved=t,It(e,r)}function Xs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ao(e,r)}}function Bc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function wi(e,t,r,n){var s=e.updateQueue;Mt=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var o=c,u=o.next;o.next=null,l===null?i=u:l.next=u,l=o;var d=e.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==l&&(c===null?d.firstBaseUpdate=u:c.next=u,d.lastBaseUpdate=o))}if(i!==null){var h=s.baseState;l=0,d=u=o=null,c=i;do{var m=c.lane,v=c.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var g=e,x=c;switch(m=t,v=r,x.tag){case 1:if(g=x.payload,typeof g=="function"){h=g.call(v,h,m);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,m=typeof g=="function"?g.call(v,h,m):g,m==null)break e;h=oe({},h,m);break e;case 2:Mt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[c]:m.push(c))}else v={eventTime:v,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(u=d=v,o=h):d=d.next=v,l|=m;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;m=c,c=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(o=h),s.baseState=o,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);br|=l,e.lanes=l,e.memoizedState=h}}function Wc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(S(191,s));s.call(n)}}}var gs={},bt=ir(gs),ns=ir(gs),ss=ir(gs);function gr(e){if(e===gs)throw Error(S(174));return e}function ko(e,t){switch(X(ss,t),X(ns,e),X(bt,gs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:el(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=el(t,e)}re(bt),X(bt,t)}function an(){re(bt),re(ns),re(ss)}function Yd(e){gr(ss.current);var t=gr(bt.current),r=el(t,e.type);t!==r&&(X(ns,e),X(bt,r))}function jo(e){ns.current===e&&(re(bt),re(ns))}var ae=ir(0);function _i(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ea=[];function No(){for(var e=0;e<Ea.length;e++)Ea[e]._workInProgressVersionPrimary=null;Ea.length=0}var Zs=Lt.ReactCurrentDispatcher,Ca=Lt.ReactCurrentBatchConfig,_r=0,le=null,pe=null,ve=null,bi=!1,Un=!1,is=0,jp=0;function ke(){throw Error(S(321))}function So(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!mt(e[r],t[r]))return!1;return!0}function Eo(e,t,r,n,s,i){if(_r=i,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zs.current=e===null||e.memoizedState===null?Cp:Pp,e=r(n,s),Un){i=0;do{if(Un=!1,is=0,25<=i)throw Error(S(301));i+=1,ve=pe=null,t.updateQueue=null,Zs.current=Tp,e=r(n,s)}while(Un)}if(Zs.current=ki,t=pe!==null&&pe.next!==null,_r=0,ve=pe=le=null,bi=!1,t)throw Error(S(300));return e}function Co(){var e=is!==0;return is=0,e}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?le.memoizedState=ve=e:ve=ve.next=e,ve}function nt(){if(pe===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=ve===null?le.memoizedState:ve.next;if(t!==null)ve=t,pe=e;else{if(e===null)throw Error(S(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ve===null?le.memoizedState=ve=e:ve=ve.next=e}return ve}function as(e,t){return typeof t=="function"?t(e):t}function Pa(e){var t=nt(),r=t.queue;if(r===null)throw Error(S(311));r.lastRenderedReducer=e;var n=pe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var c=l=null,o=null,u=i;do{var d=u.lane;if((_r&d)===d)o!==null&&(o=o.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};o===null?(c=o=h,l=n):o=o.next=h,le.lanes|=d,br|=d}u=u.next}while(u!==null&&u!==i);o===null?l=n:o.next=c,mt(n,t.memoizedState)||(Le=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=o,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,le.lanes|=i,br|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ta(e){var t=nt(),r=t.queue;if(r===null)throw Error(S(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);mt(i,t.memoizedState)||(Le=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Xd(){}function Zd(e,t){var r=le,n=nt(),s=t(),i=!mt(n.memoizedState,s);if(i&&(n.memoizedState=s,Le=!0),n=n.queue,Po(rh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ve!==null&&ve.memoizedState.tag&1){if(r.flags|=2048,ls(9,th.bind(null,r,n,s,t),void 0,null),xe===null)throw Error(S(349));_r&30||eh(r,t,s)}return s}function eh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function th(e,t,r,n){t.value=r,t.getSnapshot=n,nh(t)&&sh(e)}function rh(e,t,r){return r(function(){nh(t)&&sh(e)})}function nh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!mt(e,r)}catch{return!0}}function sh(e){var t=It(e,1);t!==null&&ft(t,e,1,-1)}function Vc(e){var t=xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:e},t.queue=e,e=e.dispatch=Ep.bind(null,le,e),[t.memoizedState,e]}function ls(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ih(){return nt().memoizedState}function ei(e,t,r,n){var s=xt();le.flags|=e,s.memoizedState=ls(1|t,r,void 0,n===void 0?null:n)}function Wi(e,t,r,n){var s=nt();n=n===void 0?null:n;var i=void 0;if(pe!==null){var l=pe.memoizedState;if(i=l.destroy,n!==null&&So(n,l.deps)){s.memoizedState=ls(t,r,i,n);return}}le.flags|=e,s.memoizedState=ls(1|t,r,i,n)}function Hc(e,t){return ei(8390656,8,e,t)}function Po(e,t){return Wi(2048,8,e,t)}function ah(e,t){return Wi(4,2,e,t)}function lh(e,t){return Wi(4,4,e,t)}function oh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ch(e,t,r){return r=r!=null?r.concat([e]):null,Wi(4,4,oh.bind(null,t,e),r)}function To(){}function uh(e,t){var r=nt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&So(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function dh(e,t){var r=nt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&So(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function hh(e,t,r){return _r&21?(mt(r,t)||(r=yd(),le.lanes|=r,br|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Le=!0),e.memoizedState=r)}function Np(e,t){var r=J;J=r!==0&&4>r?r:4,e(!0);var n=Ca.transition;Ca.transition={};try{e(!1),t()}finally{J=r,Ca.transition=n}}function fh(){return nt().memoizedState}function Sp(e,t,r){var n=Zt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},mh(e))ph(t,r);else if(r=Qd(e,t,r,n),r!==null){var s=Pe();ft(r,e,n,s),gh(r,t,n)}}function Ep(e,t,r){var n=Zt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(mh(e))ph(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,c=i(l,r);if(s.hasEagerState=!0,s.eagerState=c,mt(c,l)){var o=t.interleaved;o===null?(s.next=s,_o(t)):(s.next=o.next,o.next=s),t.interleaved=s;return}}catch{}finally{}r=Qd(e,t,s,n),r!==null&&(s=Pe(),ft(r,e,n,s),gh(r,t,n))}}function mh(e){var t=e.alternate;return e===le||t!==null&&t===le}function ph(e,t){Un=bi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function gh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ao(e,r)}}var ki={readContext:rt,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},Cp={readContext:rt,useCallback:function(e,t){return xt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Hc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ei(4194308,4,oh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return ei(4,2,e,t)},useMemo:function(e,t){var r=xt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Sp.bind(null,le,e),[n.memoizedState,e]},useRef:function(e){var t=xt();return e={current:e},t.memoizedState=e},useState:Vc,useDebugValue:To,useDeferredValue:function(e){return xt().memoizedState=e},useTransition:function(){var e=Vc(!1),t=e[0];return e=Np.bind(null,e[1]),xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=le,s=xt();if(ne){if(r===void 0)throw Error(S(407));r=r()}else{if(r=t(),xe===null)throw Error(S(349));_r&30||eh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Hc(rh.bind(null,n,i,e),[e]),n.flags|=2048,ls(9,th.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=xt(),t=xe.identifierPrefix;if(ne){var r=Pt,n=Ct;r=(n&~(1<<32-ht(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=is++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=jp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pp={readContext:rt,useCallback:uh,useContext:rt,useEffect:Po,useImperativeHandle:ch,useInsertionEffect:ah,useLayoutEffect:lh,useMemo:dh,useReducer:Pa,useRef:ih,useState:function(){return Pa(as)},useDebugValue:To,useDeferredValue:function(e){var t=nt();return hh(t,pe.memoizedState,e)},useTransition:function(){var e=Pa(as)[0],t=nt().memoizedState;return[e,t]},useMutableSource:Xd,useSyncExternalStore:Zd,useId:fh,unstable_isNewReconciler:!1},Tp={readContext:rt,useCallback:uh,useContext:rt,useEffect:Po,useImperativeHandle:ch,useInsertionEffect:ah,useLayoutEffect:lh,useMemo:dh,useReducer:Ta,useRef:ih,useState:function(){return Ta(as)},useDebugValue:To,useDeferredValue:function(e){var t=nt();return pe===null?t.memoizedState=e:hh(t,pe.memoizedState,e)},useTransition:function(){var e=Ta(as)[0],t=nt().memoizedState;return[e,t]},useMutableSource:Xd,useSyncExternalStore:Zd,useId:fh,unstable_isNewReconciler:!1};function at(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function _l(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:oe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Vi={isMounted:function(e){return(e=e._reactInternals)?Er(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Pe(),s=Zt(e),i=Tt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Yt(e,i,s),t!==null&&(ft(t,e,s,n),Xs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Pe(),s=Zt(e),i=Tt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Yt(e,i,s),t!==null&&(ft(t,e,s,n),Xs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Pe(),n=Zt(e),s=Tt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Yt(e,s,n),t!==null&&(ft(t,e,n,r),Xs(t,e,n))}};function qc(e,t,r,n,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!Zn(r,n)||!Zn(s,i):!0}function yh(e,t,r){var n=!1,s=nr,i=t.contextType;return typeof i=="object"&&i!==null?i=rt(i):(s=De(t)?xr:Se.current,n=t.contextTypes,i=(n=n!=null)?rn(e,s):nr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Kc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Vi.enqueueReplaceState(t,t.state,null)}function bl(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},bo(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=rt(i):(i=De(t)?xr:Se.current,s.context=rn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(_l(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Vi.enqueueReplaceState(s,s.state,null),wi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ln(e,t){try{var r="",n=t;do r+=sm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function $a(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function kl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var $p=typeof WeakMap=="function"?WeakMap:Map;function vh(e,t,r){r=Tt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ni||(Ni=!0,Il=n),kl(e,t)},r}function xh(e,t,r){r=Tt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){kl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){kl(e,t),typeof n!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Jc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new $p;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Hp.bind(null,e,t,r),t.then(e,e))}function Qc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Tt(-1,1),t.tag=2,Yt(r,t,1))),r.lanes|=1),e)}var Op=Lt.ReactCurrentOwner,Le=!1;function Ce(e,t,r,n){t.child=e===null?Jd(t,null,r,n):sn(t,e.child,r,n)}function Yc(e,t,r,n,s){r=r.render;var i=t.ref;return Xr(t,s),n=Eo(e,t,r,n,i,s),r=Co(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(ne&&r&&po(t),t.flags|=1,Ce(e,t,n,s),t.child)}function Xc(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Uo(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,wh(e,t,i,n,s)):(e=si(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:Zn,r(l,n)&&e.ref===t.ref)return At(e,t,s)}return t.flags|=1,e=er(i,n),e.ref=t.ref,e.return=t,t.child=e}function wh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Zn(i,n)&&e.ref===t.ref)if(Le=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Le=!0);else return t.lanes=e.lanes,At(e,t,s)}return jl(e,t,r,n,s)}function _h(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Kr,Me),Me|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(Kr,Me),Me|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,X(Kr,Me),Me|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,X(Kr,Me),Me|=n;return Ce(e,t,s,r),t.child}function bh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function jl(e,t,r,n,s){var i=De(r)?xr:Se.current;return i=rn(t,i),Xr(t,s),r=Eo(e,t,r,n,i,s),n=Co(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(ne&&n&&po(t),t.flags|=1,Ce(e,t,r,s),t.child)}function Zc(e,t,r,n,s){if(De(r)){var i=!0;pi(t)}else i=!1;if(Xr(t,s),t.stateNode===null)ti(e,t),yh(t,r,n),bl(t,r,n,s),n=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var o=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=rt(u):(u=De(r)?xr:Se.current,u=rn(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==n||o!==u)&&Kc(t,l,n,u),Mt=!1;var m=t.memoizedState;l.state=m,wi(t,n,l,s),o=t.memoizedState,c!==n||m!==o||Re.current||Mt?(typeof d=="function"&&(_l(t,r,d,n),o=t.memoizedState),(c=Mt||qc(t,r,c,n,m,o,u))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),l.props=n,l.state=o,l.context=u,n=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Gd(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:at(t.type,c),l.props=u,h=t.pendingProps,m=l.context,o=r.contextType,typeof o=="object"&&o!==null?o=rt(o):(o=De(r)?xr:Se.current,o=rn(t,o));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==h||m!==o)&&Kc(t,l,n,o),Mt=!1,m=t.memoizedState,l.state=m,wi(t,n,l,s);var g=t.memoizedState;c!==h||m!==g||Re.current||Mt?(typeof v=="function"&&(_l(t,r,v,n),g=t.memoizedState),(u=Mt||qc(t,r,u,n,m,g,o)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,g,o),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,g,o)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),l.props=n,l.state=g,l.context=o,n=u):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Nl(e,t,r,n,i,s)}function Nl(e,t,r,n,s,i){bh(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return s&&Uc(t,r,!1),At(e,t,i);n=t.stateNode,Op.current=t;var c=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=sn(t,e.child,null,i),t.child=sn(t,null,c,i)):Ce(e,t,c,i),t.memoizedState=n.state,s&&Uc(t,r,!0),t.child}function kh(e){var t=e.stateNode;t.pendingContext?Dc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Dc(e,t.context,!1),ko(e,t.containerInfo)}function eu(e,t,r,n,s){return nn(),yo(s),t.flags|=256,Ce(e,t,r,n),t.child}var Sl={dehydrated:null,treeContext:null,retryLane:0};function El(e){return{baseLanes:e,cachePool:null,transitions:null}}function jh(e,t,r){var n=t.pendingProps,s=ae.current,i=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),X(ae,s&1),e===null)return xl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ki(l,n,0,null),e=vr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=El(r),t.memoizedState=Sl,e):$o(t,l));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return Ip(e,t,l,n,c,s,r);if(i){i=n.fallback,l=t.mode,s=e.child,c=s.sibling;var o={mode:"hidden",children:n.children};return!(l&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=o,t.deletions=null):(n=er(s,o),n.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=er(c,i):(i=vr(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?El(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Sl,n}return i=e.child,e=i.sibling,n=er(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function $o(e,t){return t=Ki({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function As(e,t,r,n){return n!==null&&yo(n),sn(t,e.child,null,r),e=$o(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ip(e,t,r,n,s,i,l){if(r)return t.flags&256?(t.flags&=-257,n=$a(Error(S(422))),As(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ki({mode:"visible",children:n.children},s,0,null),i=vr(i,s,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&sn(t,e.child,null,l),t.child.memoizedState=El(l),t.memoizedState=Sl,i);if(!(t.mode&1))return As(e,t,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var c=n.dgst;return n=c,i=Error(S(419)),n=$a(i,n,void 0),As(e,t,l,n)}if(c=(l&e.childLanes)!==0,Le||c){if(n=xe,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,It(e,s),ft(n,e,s,-1))}return Do(),n=$a(Error(S(421))),As(e,t,l,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=qp.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Fe=Gt(s.nextSibling),Be=t,ne=!0,ct=null,e!==null&&(Ge[Ye++]=Ct,Ge[Ye++]=Pt,Ge[Ye++]=wr,Ct=e.id,Pt=e.overflow,wr=t),t=$o(t,n.children),t.flags|=4096,t)}function tu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),wl(e.return,t,r)}function Oa(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Nh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ce(e,t,n.children,r),n=ae.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tu(e,r,t);else if(e.tag===19)tu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(X(ae,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&_i(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Oa(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&_i(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Oa(t,!0,r,null,i);break;case"together":Oa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ti(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function At(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),br|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,r=er(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=er(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ap(e,t,r){switch(t.tag){case 3:kh(t),nn();break;case 5:Yd(t);break;case 1:De(t.type)&&pi(t);break;case 4:ko(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;X(vi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(X(ae,ae.current&1),t.flags|=128,null):r&t.child.childLanes?jh(e,t,r):(X(ae,ae.current&1),e=At(e,t,r),e!==null?e.sibling:null);X(ae,ae.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Nh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(ae,ae.current),n)break;return null;case 22:case 23:return t.lanes=0,_h(e,t,r)}return At(e,t,r)}var Sh,Cl,Eh,Ch;Sh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Cl=function(){};Eh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,gr(bt.current);var i=null;switch(r){case"input":s=Ga(e,s),n=Ga(e,n),i=[];break;case"select":s=oe({},s,{value:void 0}),n=oe({},n,{value:void 0}),i=[];break;case"textarea":s=Za(e,s),n=Za(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=fi)}tl(r,n);var l;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var c=s[u];for(l in c)c.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var o=n[u];if(c=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&o!==c&&(o!=null||c!=null))if(u==="style")if(c){for(l in c)!c.hasOwnProperty(l)||o&&o.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in o)o.hasOwnProperty(l)&&c[l]!==o[l]&&(r||(r={}),r[l]=o[l])}else r||(i||(i=[]),i.push(u,r)),r=o;else u==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(i=i||[]).push(u,o)):u==="children"?typeof o!="string"&&typeof o!="number"||(i=i||[]).push(u,""+o):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qn.hasOwnProperty(u)?(o!=null&&u==="onScroll"&&te("scroll",e),i||c===o||(i=[])):(i=i||[]).push(u,o))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Ch=function(e,t,r,n){r!==n&&(t.flags|=4)};function kn(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Lp(e,t,r){var n=t.pendingProps;switch(go(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return De(t.type)&&mi(),je(t),null;case 3:return n=t.stateNode,an(),re(Re),re(Se),No(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Os(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ct!==null&&(Rl(ct),ct=null))),Cl(e,t),je(t),null;case 5:jo(t);var s=gr(ss.current);if(r=t.type,e!==null&&t.stateNode!=null)Eh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(S(166));return je(t),null}if(e=gr(bt.current),Os(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[wt]=t,n[rs]=i,e=(t.mode&1)!==0,r){case"dialog":te("cancel",n),te("close",n);break;case"iframe":case"object":case"embed":te("load",n);break;case"video":case"audio":for(s=0;s<Tn.length;s++)te(Tn[s],n);break;case"source":te("error",n);break;case"img":case"image":case"link":te("error",n),te("load",n);break;case"details":te("toggle",n);break;case"input":uc(n,i),te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},te("invalid",n);break;case"textarea":hc(n,i),te("invalid",n)}tl(r,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="children"?typeof c=="string"?n.textContent!==c&&(i.suppressHydrationWarning!==!0&&$s(n.textContent,c,e),s=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&$s(n.textContent,c,e),s=["children",""+c]):qn.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&te("scroll",n)}switch(r){case"input":ks(n),dc(n,i,!0);break;case"textarea":ks(n),fc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=fi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[wt]=t,e[rs]=n,Sh(e,t,!1,!1),t.stateNode=e;e:{switch(l=rl(r,n),r){case"dialog":te("cancel",e),te("close",e),s=n;break;case"iframe":case"object":case"embed":te("load",e),s=n;break;case"video":case"audio":for(s=0;s<Tn.length;s++)te(Tn[s],e);s=n;break;case"source":te("error",e),s=n;break;case"img":case"image":case"link":te("error",e),te("load",e),s=n;break;case"details":te("toggle",e),s=n;break;case"input":uc(e,n),s=Ga(e,n),te("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=oe({},n,{value:void 0}),te("invalid",e);break;case"textarea":hc(e,n),s=Za(e,n),te("invalid",e);break;default:s=n}tl(r,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var o=c[i];i==="style"?id(e,o):i==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&nd(e,o)):i==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&Kn(e,o):typeof o=="number"&&Kn(e,""+o):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qn.hasOwnProperty(i)?o!=null&&i==="onScroll"&&te("scroll",e):o!=null&&eo(e,i,o,l))}switch(r){case"input":ks(e),dc(e,n,!1);break;case"textarea":ks(e),fc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+rr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Jr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Jr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=fi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)Ch(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(S(166));if(r=gr(ss.current),gr(bt.current),Os(t)){if(n=t.stateNode,r=t.memoizedProps,n[wt]=t,(i=n.nodeValue!==r)&&(e=Be,e!==null))switch(e.tag){case 3:$s(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$s(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wt]=t,t.stateNode=n}return je(t),null;case 13:if(re(ae),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&Fe!==null&&t.mode&1&&!(t.flags&128))qd(),nn(),t.flags|=98560,i=!1;else if(i=Os(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(S(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(S(317));i[wt]=t}else nn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;je(t),i=!1}else ct!==null&&(Rl(ct),ct=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?ge===0&&(ge=3):Do())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return an(),Cl(e,t),e===null&&es(t.stateNode.containerInfo),je(t),null;case 10:return wo(t.type._context),je(t),null;case 17:return De(t.type)&&mi(),je(t),null;case 19:if(re(ae),i=t.memoizedState,i===null)return je(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)kn(i,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=_i(e),l!==null){for(t.flags|=128,kn(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return X(ae,ae.current&1|2),t.child}e=e.sibling}i.tail!==null&&he()>on&&(t.flags|=128,n=!0,kn(i,!1),t.lanes=4194304)}else{if(!n)if(e=_i(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),kn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ne)return je(t),null}else 2*he()-i.renderingStartTime>on&&r!==1073741824&&(t.flags|=128,n=!0,kn(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=he(),t.sibling=null,r=ae.current,X(ae,n?r&1|2:r&1),t):(je(t),null);case 22:case 23:return Ro(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Me&1073741824&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(S(156,t.tag))}function Rp(e,t){switch(go(t),t.tag){case 1:return De(t.type)&&mi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return an(),re(Re),re(Se),No(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jo(t),null;case 13:if(re(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));nn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(ae),null;case 4:return an(),null;case 10:return wo(t.type._context),null;case 22:case 23:return Ro(),null;case 24:return null;default:return null}}var Ls=!1,Ne=!1,Dp=typeof WeakSet=="function"?WeakSet:Set,I=null;function qr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ce(e,t,n)}else r.current=null}function Pl(e,t,r){try{r()}catch(n){ce(e,t,n)}}var ru=!1;function Up(e,t){if(hl=ui,e=Id(),mo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,c=-1,o=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(c=l+s),h!==i||n!==0&&h.nodeType!==3||(o=l+n),h.nodeType===3&&(l+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===e)break t;if(m===r&&++u===s&&(c=l),m===i&&++d===n&&(o=l),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}r=c===-1||o===-1?null:{start:c,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(fl={focusedElem:e,selectionRange:r},ui=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,_=g.memoizedState,y=t.stateNode,f=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:at(t.type,x),_);y.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(w){ce(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return g=ru,ru=!1,g}function zn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Pl(t,r,i)}s=s.next}while(s!==n)}}function Hi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Tl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ph(e){var t=e.alternate;t!==null&&(e.alternate=null,Ph(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wt],delete t[rs],delete t[gl],delete t[wp],delete t[_p])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Th(e){return e.tag===5||e.tag===3||e.tag===4}function nu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Th(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $l(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=fi));else if(n!==4&&(e=e.child,e!==null))for($l(e,t,r),e=e.sibling;e!==null;)$l(e,t,r),e=e.sibling}function Ol(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ol(e,t,r),e=e.sibling;e!==null;)Ol(e,t,r),e=e.sibling}var we=null,lt=!1;function Rt(e,t,r){for(r=r.child;r!==null;)$h(e,t,r),r=r.sibling}function $h(e,t,r){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Di,r)}catch{}switch(r.tag){case 5:Ne||qr(r,t);case 6:var n=we,s=lt;we=null,Rt(e,t,r),we=n,lt=s,we!==null&&(lt?(e=we,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):we.removeChild(r.stateNode));break;case 18:we!==null&&(lt?(e=we,r=r.stateNode,e.nodeType===8?Na(e.parentNode,r):e.nodeType===1&&Na(e,r),Yn(e)):Na(we,r.stateNode));break;case 4:n=we,s=lt,we=r.stateNode.containerInfo,lt=!0,Rt(e,t,r),we=n,lt=s;break;case 0:case 11:case 14:case 15:if(!Ne&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Pl(r,t,l),s=s.next}while(s!==n)}Rt(e,t,r);break;case 1:if(!Ne&&(qr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){ce(r,t,c)}Rt(e,t,r);break;case 21:Rt(e,t,r);break;case 22:r.mode&1?(Ne=(n=Ne)||r.memoizedState!==null,Rt(e,t,r),Ne=n):Rt(e,t,r);break;default:Rt(e,t,r)}}function su(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Dp),t.forEach(function(n){var s=Kp.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function st(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:we=c.stateNode,lt=!1;break e;case 3:we=c.stateNode.containerInfo,lt=!0;break e;case 4:we=c.stateNode.containerInfo,lt=!0;break e}c=c.return}if(we===null)throw Error(S(160));$h(i,l,s),we=null,lt=!1;var o=s.alternate;o!==null&&(o.return=null),s.return=null}catch(u){ce(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Oh(t,e),t=t.sibling}function Oh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(st(t,e),yt(e),n&4){try{zn(3,e,e.return),Hi(3,e)}catch(x){ce(e,e.return,x)}try{zn(5,e,e.return)}catch(x){ce(e,e.return,x)}}break;case 1:st(t,e),yt(e),n&512&&r!==null&&qr(r,r.return);break;case 5:if(st(t,e),yt(e),n&512&&r!==null&&qr(r,r.return),e.flags&32){var s=e.stateNode;try{Kn(s,"")}catch(x){ce(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&ed(s,i),rl(c,l);var u=rl(c,i);for(l=0;l<o.length;l+=2){var d=o[l],h=o[l+1];d==="style"?id(s,h):d==="dangerouslySetInnerHTML"?nd(s,h):d==="children"?Kn(s,h):eo(s,d,h,u)}switch(c){case"input":Ya(s,i);break;case"textarea":td(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Jr(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?Jr(s,!!i.multiple,i.defaultValue,!0):Jr(s,!!i.multiple,i.multiple?[]:"",!1))}s[rs]=i}catch(x){ce(e,e.return,x)}}break;case 6:if(st(t,e),yt(e),n&4){if(e.stateNode===null)throw Error(S(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){ce(e,e.return,x)}}break;case 3:if(st(t,e),yt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Yn(t.containerInfo)}catch(x){ce(e,e.return,x)}break;case 4:st(t,e),yt(e);break;case 13:st(t,e),yt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ao=he())),n&4&&su(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ne=(u=Ne)||d,st(t,e),Ne=u):st(t,e),yt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(I=e,d=e.child;d!==null;){for(h=I=d;I!==null;){switch(m=I,v=m.child,m.tag){case 0:case 11:case 14:case 15:zn(4,m,m.return);break;case 1:qr(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){ce(n,r,x)}}break;case 5:qr(m,m.return);break;case 22:if(m.memoizedState!==null){au(h);continue}}v!==null?(v.return=m,I=v):au(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=h.stateNode,o=h.memoizedProps.style,l=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=sd("display",l))}catch(x){ce(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){ce(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:st(t,e),yt(e),n&4&&su(e);break;case 21:break;default:st(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Th(r)){var n=r;break e}r=r.return}throw Error(S(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Kn(s,""),n.flags&=-33);var i=nu(e);Ol(e,i,s);break;case 3:case 4:var l=n.stateNode.containerInfo,c=nu(e);$l(e,c,l);break;default:throw Error(S(161))}}catch(o){ce(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zp(e,t,r){I=e,Ih(e)}function Ih(e,t,r){for(var n=(e.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||Ls;if(!l){var c=s.alternate,o=c!==null&&c.memoizedState!==null||Ne;c=Ls;var u=Ne;if(Ls=l,(Ne=o)&&!u)for(I=s;I!==null;)l=I,o=l.child,l.tag===22&&l.memoizedState!==null?lu(s):o!==null?(o.return=l,I=o):lu(s);for(;i!==null;)I=i,Ih(i),i=i.sibling;I=s,Ls=c,Ne=u}iu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):iu(e)}}function iu(e){for(;I!==null;){var t=I;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||Hi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ne)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:at(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Wc(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Wc(t,l,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Yn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}Ne||t.flags&512&&Tl(t)}catch(m){ce(t,t.return,m)}}if(t===e){I=null;break}if(r=t.sibling,r!==null){r.return=t.return,I=r;break}I=t.return}}function au(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var r=t.sibling;if(r!==null){r.return=t.return,I=r;break}I=t.return}}function lu(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Hi(4,t)}catch(o){ce(t,r,o)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(o){ce(t,s,o)}}var i=t.return;try{Tl(t)}catch(o){ce(t,i,o)}break;case 5:var l=t.return;try{Tl(t)}catch(o){ce(t,l,o)}}}catch(o){ce(t,t.return,o)}if(t===e){I=null;break}var c=t.sibling;if(c!==null){c.return=t.return,I=c;break}I=t.return}}var Mp=Math.ceil,ji=Lt.ReactCurrentDispatcher,Oo=Lt.ReactCurrentOwner,Ze=Lt.ReactCurrentBatchConfig,V=0,xe=null,me=null,_e=0,Me=0,Kr=ir(0),ge=0,os=null,br=0,qi=0,Io=0,Mn=null,Ie=null,Ao=0,on=1/0,Nt=null,Ni=!1,Il=null,Xt=null,Rs=!1,qt=null,Si=0,Fn=0,Al=null,ri=-1,ni=0;function Pe(){return V&6?he():ri!==-1?ri:ri=he()}function Zt(e){return e.mode&1?V&2&&_e!==0?_e&-_e:kp.transition!==null?(ni===0&&(ni=yd()),ni):(e=J,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function ft(e,t,r,n){if(50<Fn)throw Fn=0,Al=null,Error(S(185));fs(e,r,n),(!(V&2)||e!==xe)&&(e===xe&&(!(V&2)&&(qi|=r),ge===4&&Wt(e,_e)),Ue(e,n),r===1&&V===0&&!(t.mode&1)&&(on=he()+500,Bi&&ar()))}function Ue(e,t){var r=e.callbackNode;km(e,t);var n=ci(e,e===xe?_e:0);if(n===0)r!==null&&gc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&gc(r),t===1)e.tag===0?bp(ou.bind(null,e)):Wd(ou.bind(null,e)),vp(function(){!(V&6)&&ar()}),r=null;else{switch(vd(n)){case 1:r=io;break;case 4:r=pd;break;case 16:r=oi;break;case 536870912:r=gd;break;default:r=oi}r=Fh(r,Ah.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ah(e,t){if(ri=-1,ni=0,V&6)throw Error(S(327));var r=e.callbackNode;if(Zr()&&e.callbackNode!==r)return null;var n=ci(e,e===xe?_e:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ei(e,n);else{t=n;var s=V;V|=2;var i=Rh();(xe!==e||_e!==t)&&(Nt=null,on=he()+500,yr(e,t));do try{Wp();break}catch(c){Lh(e,c)}while(!0);xo(),ji.current=i,V=s,me!==null?t=0:(xe=null,_e=0,t=ge)}if(t!==0){if(t===2&&(s=ll(e),s!==0&&(n=s,t=Ll(e,s))),t===1)throw r=os,yr(e,0),Wt(e,n),Ue(e,he()),r;if(t===6)Wt(e,n);else{if(s=e.current.alternate,!(n&30)&&!Fp(s)&&(t=Ei(e,n),t===2&&(i=ll(e),i!==0&&(n=i,t=Ll(e,i))),t===1))throw r=os,yr(e,0),Wt(e,n),Ue(e,he()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(S(345));case 2:dr(e,Ie,Nt);break;case 3:if(Wt(e,n),(n&130023424)===n&&(t=Ao+500-he(),10<t)){if(ci(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Pe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=pl(dr.bind(null,e,Ie,Nt),t);break}dr(e,Ie,Nt);break;case 4:if(Wt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var l=31-ht(n);i=1<<l,l=t[l],l>s&&(s=l),n&=~i}if(n=s,n=he()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Mp(n/1960))-n,10<n){e.timeoutHandle=pl(dr.bind(null,e,Ie,Nt),n);break}dr(e,Ie,Nt);break;case 5:dr(e,Ie,Nt);break;default:throw Error(S(329))}}}return Ue(e,he()),e.callbackNode===r?Ah.bind(null,e):null}function Ll(e,t){var r=Mn;return e.current.memoizedState.isDehydrated&&(yr(e,t).flags|=256),e=Ei(e,t),e!==2&&(t=Ie,Ie=r,t!==null&&Rl(t)),e}function Rl(e){Ie===null?Ie=e:Ie.push.apply(Ie,e)}function Fp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!mt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wt(e,t){for(t&=~Io,t&=~qi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ht(t),n=1<<r;e[r]=-1,t&=~n}}function ou(e){if(V&6)throw Error(S(327));Zr();var t=ci(e,0);if(!(t&1))return Ue(e,he()),null;var r=Ei(e,t);if(e.tag!==0&&r===2){var n=ll(e);n!==0&&(t=n,r=Ll(e,n))}if(r===1)throw r=os,yr(e,0),Wt(e,t),Ue(e,he()),r;if(r===6)throw Error(S(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dr(e,Ie,Nt),Ue(e,he()),null}function Lo(e,t){var r=V;V|=1;try{return e(t)}finally{V=r,V===0&&(on=he()+500,Bi&&ar())}}function kr(e){qt!==null&&qt.tag===0&&!(V&6)&&Zr();var t=V;V|=1;var r=Ze.transition,n=J;try{if(Ze.transition=null,J=1,e)return e()}finally{J=n,Ze.transition=r,V=t,!(V&6)&&ar()}}function Ro(){Me=Kr.current,re(Kr)}function yr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,yp(r)),me!==null)for(r=me.return;r!==null;){var n=r;switch(go(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&mi();break;case 3:an(),re(Re),re(Se),No();break;case 5:jo(n);break;case 4:an();break;case 13:re(ae);break;case 19:re(ae);break;case 10:wo(n.type._context);break;case 22:case 23:Ro()}r=r.return}if(xe=e,me=e=er(e.current,null),_e=Me=t,ge=0,os=null,Io=qi=br=0,Ie=Mn=null,pr!==null){for(t=0;t<pr.length;t++)if(r=pr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=s,n.next=l}r.pending=n}pr=null}return e}function Lh(e,t){do{var r=me;try{if(xo(),Zs.current=ki,bi){for(var n=le.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}bi=!1}if(_r=0,ve=pe=le=null,Un=!1,is=0,Oo.current=null,r===null||r.return===null){ge=1,os=t,me=null;break}e:{var i=e,l=r.return,c=r,o=t;if(t=_e,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=o,d=c,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Qc(l);if(v!==null){v.flags&=-257,Gc(v,l,c,i,t),v.mode&1&&Jc(i,u,t),t=v,o=u;var g=t.updateQueue;if(g===null){var x=new Set;x.add(o),t.updateQueue=x}else g.add(o);break e}else{if(!(t&1)){Jc(i,u,t),Do();break e}o=Error(S(426))}}else if(ne&&c.mode&1){var _=Qc(l);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Gc(_,l,c,i,t),yo(ln(o,c));break e}}i=o=ln(o,c),ge!==4&&(ge=2),Mn===null?Mn=[i]:Mn.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=vh(i,o,t);Bc(i,y);break e;case 1:c=o;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Xt===null||!Xt.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=xh(i,c,t);Bc(i,w);break e}}i=i.return}while(i!==null)}Uh(r)}catch(b){t=b,me===r&&r!==null&&(me=r=r.return);continue}break}while(!0)}function Rh(){var e=ji.current;return ji.current=ki,e===null?ki:e}function Do(){(ge===0||ge===3||ge===2)&&(ge=4),xe===null||!(br&268435455)&&!(qi&268435455)||Wt(xe,_e)}function Ei(e,t){var r=V;V|=2;var n=Rh();(xe!==e||_e!==t)&&(Nt=null,yr(e,t));do try{Bp();break}catch(s){Lh(e,s)}while(!0);if(xo(),V=r,ji.current=n,me!==null)throw Error(S(261));return xe=null,_e=0,ge}function Bp(){for(;me!==null;)Dh(me)}function Wp(){for(;me!==null&&!mm();)Dh(me)}function Dh(e){var t=Mh(e.alternate,e,Me);e.memoizedProps=e.pendingProps,t===null?Uh(e):me=t,Oo.current=null}function Uh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Rp(r,t),r!==null){r.flags&=32767,me=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ge=6,me=null;return}}else if(r=Lp(r,t,Me),r!==null){me=r;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);ge===0&&(ge=5)}function dr(e,t,r){var n=J,s=Ze.transition;try{Ze.transition=null,J=1,Vp(e,t,r,n)}finally{Ze.transition=s,J=n}return null}function Vp(e,t,r,n){do Zr();while(qt!==null);if(V&6)throw Error(S(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(S(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(jm(e,i),e===xe&&(me=xe=null,_e=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Rs||(Rs=!0,Fh(oi,function(){return Zr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ze.transition,Ze.transition=null;var l=J;J=1;var c=V;V|=4,Oo.current=null,Up(e,r),Oh(r,e),up(fl),ui=!!hl,fl=hl=null,e.current=r,zp(r),pm(),V=c,J=l,Ze.transition=i}else e.current=r;if(Rs&&(Rs=!1,qt=e,Si=s),i=e.pendingLanes,i===0&&(Xt=null),vm(r.stateNode),Ue(e,he()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ni)throw Ni=!1,e=Il,Il=null,e;return Si&1&&e.tag!==0&&Zr(),i=e.pendingLanes,i&1?e===Al?Fn++:(Fn=0,Al=e):Fn=0,ar(),null}function Zr(){if(qt!==null){var e=vd(Si),t=Ze.transition,r=J;try{if(Ze.transition=null,J=16>e?16:e,qt===null)var n=!1;else{if(e=qt,qt=null,Si=0,V&6)throw Error(S(331));var s=V;for(V|=4,I=e.current;I!==null;){var i=I,l=i.child;if(I.flags&16){var c=i.deletions;if(c!==null){for(var o=0;o<c.length;o++){var u=c[o];for(I=u;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:zn(8,d,i)}var h=d.child;if(h!==null)h.return=d,I=h;else for(;I!==null;){d=I;var m=d.sibling,v=d.return;if(Ph(d),d===u){I=null;break}if(m!==null){m.return=v,I=m;break}I=v}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}I=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,I=l;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zn(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,I=y;break e}I=i.return}}var f=e.current;for(I=f;I!==null;){l=I;var p=l.child;if(l.subtreeFlags&2064&&p!==null)p.return=l,I=p;else e:for(l=f;I!==null;){if(c=I,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Hi(9,c)}}catch(b){ce(c,c.return,b)}if(c===l){I=null;break e}var w=c.sibling;if(w!==null){w.return=c.return,I=w;break e}I=c.return}}if(V=s,ar(),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Di,e)}catch{}n=!0}return n}finally{J=r,Ze.transition=t}}return!1}function cu(e,t,r){t=ln(r,t),t=vh(e,t,1),e=Yt(e,t,1),t=Pe(),e!==null&&(fs(e,1,t),Ue(e,t))}function ce(e,t,r){if(e.tag===3)cu(e,e,r);else for(;t!==null;){if(t.tag===3){cu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xt===null||!Xt.has(n))){e=ln(r,e),e=xh(t,e,1),t=Yt(t,e,1),e=Pe(),t!==null&&(fs(t,1,e),Ue(t,e));break}}t=t.return}}function Hp(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Pe(),e.pingedLanes|=e.suspendedLanes&r,xe===e&&(_e&r)===r&&(ge===4||ge===3&&(_e&130023424)===_e&&500>he()-Ao?yr(e,0):Io|=r),Ue(e,t)}function zh(e,t){t===0&&(e.mode&1?(t=Ss,Ss<<=1,!(Ss&130023424)&&(Ss=4194304)):t=1);var r=Pe();e=It(e,t),e!==null&&(fs(e,t,r),Ue(e,r))}function qp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),zh(e,r)}function Kp(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(S(314))}n!==null&&n.delete(t),zh(e,r)}var Mh;Mh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Re.current)Le=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Le=!1,Ap(e,t,r);Le=!!(e.flags&131072)}else Le=!1,ne&&t.flags&1048576&&Vd(t,yi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ti(e,t),e=t.pendingProps;var s=rn(t,Se.current);Xr(t,r),s=Eo(null,t,n,e,s,r);var i=Co();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,De(n)?(i=!0,pi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,bo(t),s.updater=Vi,t.stateNode=s,s._reactInternals=t,bl(t,n,e,r),t=Nl(null,t,n,!0,i,r)):(t.tag=0,ne&&i&&po(t),Ce(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ti(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Qp(n),e=at(n,e),s){case 0:t=jl(null,t,n,e,r);break e;case 1:t=Zc(null,t,n,e,r);break e;case 11:t=Yc(null,t,n,e,r);break e;case 14:t=Xc(null,t,n,at(n.type,e),r);break e}throw Error(S(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),jl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),Zc(e,t,n,s,r);case 3:e:{if(kh(t),e===null)throw Error(S(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Gd(e,t),wi(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ln(Error(S(423)),t),t=eu(e,t,n,r,s);break e}else if(n!==s){s=ln(Error(S(424)),t),t=eu(e,t,n,r,s);break e}else for(Fe=Gt(t.stateNode.containerInfo.firstChild),Be=t,ne=!0,ct=null,r=Jd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(nn(),n===s){t=At(e,t,r);break e}Ce(e,t,n,r)}t=t.child}return t;case 5:return Yd(t),e===null&&xl(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,ml(n,s)?l=null:i!==null&&ml(n,i)&&(t.flags|=32),bh(e,t),Ce(e,t,l,r),t.child;case 6:return e===null&&xl(t),null;case 13:return jh(e,t,r);case 4:return ko(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=sn(t,null,n,r):Ce(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),Yc(e,t,n,s,r);case 7:return Ce(e,t,t.pendingProps,r),t.child;case 8:return Ce(e,t,t.pendingProps.children,r),t.child;case 12:return Ce(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,X(vi,n._currentValue),n._currentValue=l,i!==null)if(mt(i.value,l)){if(i.children===s.children&&!Re.current){t=At(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){l=i.child;for(var o=c.firstContext;o!==null;){if(o.context===n){if(i.tag===1){o=Tt(-1,r&-r),o.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?o.next=o:(o.next=d.next,d.next=o),u.pending=o}}i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),wl(i.return,r,t),c.lanes|=r;break}o=o.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(S(341));l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),wl(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ce(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Xr(t,r),s=rt(s),n=n(s),t.flags|=1,Ce(e,t,n,r),t.child;case 14:return n=t.type,s=at(n,t.pendingProps),s=at(n.type,s),Xc(e,t,n,s,r);case 15:return wh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),ti(e,t),t.tag=1,De(n)?(e=!0,pi(t)):e=!1,Xr(t,r),yh(t,n,s),bl(t,n,s,r),Nl(null,t,n,!0,e,r);case 19:return Nh(e,t,r);case 22:return _h(e,t,r)}throw Error(S(156,t.tag))};function Fh(e,t){return md(e,t)}function Jp(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(e,t,r,n){return new Jp(e,t,r,n)}function Uo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qp(e){if(typeof e=="function")return Uo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ro)return 11;if(e===no)return 14}return 2}function er(e,t){var r=e.alternate;return r===null?(r=Xe(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function si(e,t,r,n,s,i){var l=2;if(n=e,typeof e=="function")Uo(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Dr:return vr(r.children,s,i,t);case to:l=8,s|=8;break;case qa:return e=Xe(12,r,t,s|2),e.elementType=qa,e.lanes=i,e;case Ka:return e=Xe(13,r,t,s),e.elementType=Ka,e.lanes=i,e;case Ja:return e=Xe(19,r,t,s),e.elementType=Ja,e.lanes=i,e;case Yu:return Ki(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qu:l=10;break e;case Gu:l=9;break e;case ro:l=11;break e;case no:l=14;break e;case zt:l=16,n=null;break e}throw Error(S(130,e==null?e:typeof e,""))}return t=Xe(l,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function vr(e,t,r,n){return e=Xe(7,e,n,t),e.lanes=r,e}function Ki(e,t,r,n){return e=Xe(22,e,n,t),e.elementType=Yu,e.lanes=r,e.stateNode={isHidden:!1},e}function Ia(e,t,r){return e=Xe(6,e,null,t),e.lanes=r,e}function Aa(e,t,r){return t=Xe(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gp(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ma(0),this.expirationTimes=ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ma(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zo(e,t,r,n,s,i,l,c,o){return e=new Gp(e,t,r,c,o),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Xe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},bo(i),e}function Yp(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Bh(e){if(!e)return nr;e=e._reactInternals;e:{if(Er(e)!==e||e.tag!==1)throw Error(S(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(De(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(S(171))}if(e.tag===1){var r=e.type;if(De(r))return Bd(e,r,t)}return t}function Wh(e,t,r,n,s,i,l,c,o){return e=zo(r,n,!0,e,s,i,l,c,o),e.context=Bh(null),r=e.current,n=Pe(),s=Zt(r),i=Tt(n,s),i.callback=t??null,Yt(r,i,s),e.current.lanes=s,fs(e,s,n),Ue(e,n),e}function Ji(e,t,r,n){var s=t.current,i=Pe(),l=Zt(s);return r=Bh(r),t.context===null?t.context=r:t.pendingContext=r,t=Tt(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Yt(s,t,l),e!==null&&(ft(e,s,l,i),Xs(e,s,l)),l}function Ci(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Mo(e,t){uu(e,t),(e=e.alternate)&&uu(e,t)}function Xp(){return null}var Vh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fo(e){this._internalRoot=e}Qi.prototype.render=Fo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));Ji(e,t,null,null)};Qi.prototype.unmount=Fo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kr(function(){Ji(null,e,null,null)}),t[Ot]=null}};function Qi(e){this._internalRoot=e}Qi.prototype.unstable_scheduleHydration=function(e){if(e){var t=_d();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Bt.length&&t!==0&&t<Bt[r].priority;r++);Bt.splice(r,0,e),r===0&&kd(e)}};function Bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function du(){}function Zp(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ci(l);i.call(u)}}var l=Wh(t,n,e,0,null,!1,!1,"",du);return e._reactRootContainer=l,e[Ot]=l.current,es(e.nodeType===8?e.parentNode:e),kr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var c=n;n=function(){var u=Ci(o);c.call(u)}}var o=zo(e,0,!1,null,null,!1,!1,"",du);return e._reactRootContainer=o,e[Ot]=o.current,es(e.nodeType===8?e.parentNode:e),kr(function(){Ji(t,o,r,n)}),o}function Yi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var c=s;s=function(){var o=Ci(l);c.call(o)}}Ji(t,l,e,s)}else l=Zp(r,t,e,s,n);return Ci(l)}xd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Pn(t.pendingLanes);r!==0&&(ao(t,r|1),Ue(t,he()),!(V&6)&&(on=he()+500,ar()))}break;case 13:kr(function(){var n=It(e,1);if(n!==null){var s=Pe();ft(n,e,1,s)}}),Mo(e,1)}};lo=function(e){if(e.tag===13){var t=It(e,134217728);if(t!==null){var r=Pe();ft(t,e,134217728,r)}Mo(e,134217728)}};wd=function(e){if(e.tag===13){var t=Zt(e),r=It(e,t);if(r!==null){var n=Pe();ft(r,e,t,n)}Mo(e,t)}};_d=function(){return J};bd=function(e,t){var r=J;try{return J=e,t()}finally{J=r}};sl=function(e,t,r){switch(t){case"input":if(Ya(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Fi(n);if(!s)throw Error(S(90));Zu(n),Ya(n,s)}}}break;case"textarea":td(e,r);break;case"select":t=r.value,t!=null&&Jr(e,!!r.multiple,t,!1)}};od=Lo;cd=kr;var eg={usingClientEntryPoint:!1,Events:[ps,Fr,Fi,ad,ld,Lo]},jn={findFiberByHostInstance:mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tg={bundleType:jn.bundleType,version:jn.version,rendererPackageName:jn.rendererPackageName,rendererConfig:jn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hd(e),e===null?null:e.stateNode},findFiberByHostInstance:jn.findFiberByHostInstance||Xp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{Di=Ds.inject(tg),_t=Ds}catch{}}Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eg;Ve.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bo(t))throw Error(S(200));return Yp(e,t,null,r)};Ve.createRoot=function(e,t){if(!Bo(e))throw Error(S(299));var r=!1,n="",s=Vh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=zo(e,1,!1,null,null,r,!1,n,s),e[Ot]=t.current,es(e.nodeType===8?e.parentNode:e),new Fo(t)};Ve.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=hd(t),e=e===null?null:e.stateNode,e};Ve.flushSync=function(e){return kr(e)};Ve.hydrate=function(e,t,r){if(!Gi(t))throw Error(S(200));return Yi(null,e,t,!0,r)};Ve.hydrateRoot=function(e,t,r){if(!Bo(e))throw Error(S(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",l=Vh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Wh(t,null,e,1,r??null,s,!1,i,l),e[Ot]=t.current,es(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Qi(t)};Ve.render=function(e,t,r){if(!Gi(t))throw Error(S(200));return Yi(null,e,t,!1,r)};Ve.unmountComponentAtNode=function(e){if(!Gi(e))throw Error(S(40));return e._reactRootContainer?(kr(function(){Yi(null,null,e,!1,function(){e._reactRootContainer=null,e[Ot]=null})}),!0):!1};Ve.unstable_batchedUpdates=Lo;Ve.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gi(r))throw Error(S(200));if(e==null||e._reactInternals===void 0)throw Error(S(38));return Yi(e,t,r,!1,n)};Ve.version="18.3.1-next-f1338f8080-20240426";function Hh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hh)}catch(e){console.error(e)}}Hh(),Hu.exports=Ve;var rg=Hu.exports,qh,hu=rg;qh=hu.createRoot,hu.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ng={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),z=(e,t)=>{const r=$.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:o,...u},d)=>$.createElement("svg",{ref:d,...ng,width:s,height:s,stroke:n,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${sg(e)}`,c].join(" "),...u},[...t.map(([h,m])=>$.createElement(h,m)),...Array.isArray(o)?o:[o]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=z("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=z("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=z("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=z("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=z("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=z("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=z("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=z("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=z("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=z("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=z("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=z("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=z("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=z("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=z("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mg=({onScrape:e,isLoading:t})=>{const[r,n]=$.useState("post_comments"),[s,i]=$.useState(""),l=async u=>{u.preventDefault(),s.trim()&&(await e(r,s.trim()),i(""))},c=()=>{switch(r){case"post_comments":return"https://www.linkedin.com/posts/...";case"profile_details":return"https://www.linkedin.com/in/username";case"mixed":return"https://www.linkedin.com/posts/... (will scrape post + profiles)";default:return""}},o=()=>{switch(r){case"post_comments":return a.jsx(La,{className:"w-5 h-5"});case"profile_details":return a.jsx(mu,{className:"w-5 h-5"});case"mixed":return a.jsx(et,{className:"w-5 h-5"});default:return a.jsx(La,{className:"w-5 h-5"})}};return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:o()}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"LinkedIn Scraper"})]}),a.jsxs("form",{onSubmit:l,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Scraping Type"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("button",{type:"button",onClick:()=>n("post_comments"),className:`p-4 rounded-lg border-2 transition-all ${r==="post_comments"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx(La,{className:"w-6 h-6 mx-auto mb-2"}),a.jsx("div",{className:"font-medium",children:"Post Comments"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Scrape post engagers"})]}),a.jsxs("button",{type:"button",onClick:()=>n("profile_details"),className:`p-4 rounded-lg border-2 transition-all ${r==="profile_details"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx(mu,{className:"w-6 h-6 mx-auto mb-2"}),a.jsx("div",{className:"font-medium",children:"Profile Details"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Scrape profile info"})]}),a.jsxs("button",{type:"button",onClick:()=>n("mixed"),className:`p-4 rounded-lg border-2 transition-all ${r==="mixed"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx(et,{className:"w-6 h-6 mx-auto mb-2"}),a.jsx("div",{className:"font-medium",children:"Mixed"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Post + Profiles"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn URL"}),a.jsx("input",{type:"url",id:"url",value:s,onChange:u=>i(u.target.value),placeholder:c(),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),a.jsx("button",{type:"submit",disabled:t||!s.trim(),className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:t?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"w-5 h-5 animate-spin"}),"Scraping..."]}):a.jsxs(a.Fragment,{children:[o(),"Start Scraping"]})})]})]})},pg=({profiles:e,onUpdateProfile:t,onUpdateSelectedProfiles:r,onDeleteSelectedProfiles:n,onExport:s,onViewDetails:i,isUpdating:l})=>{const[c,o]=$.useState(new Set(["select","picture","name","headline","location","connections","company","updated","actions"])),[u,d]=$.useState(""),[h,m]=$.useState(new Set),[v,g]=$.useState(!1),[x,_]=$.useState(new Set),y=[{key:"select",label:"Select"},{key:"picture",label:"Picture"},{key:"name",label:"Name"},{key:"headline",label:"Headline"},{key:"location",label:"Location"},{key:"connections",label:"Connections"},{key:"followers",label:"Followers"},{key:"company",label:"Current Company"},{key:"jobTitle",label:"Job Title"},{key:"duration",label:"Current Role Duration"},{key:"experience",label:"Experience"},{key:"education",label:"Education"},{key:"skills",label:"Top Skills"},{key:"certifications",label:"Certifications"},{key:"email",label:"Email"},{key:"phone",label:"Phone"},{key:"website",label:"Website"},{key:"updated",label:"Last Updated"},{key:"actions",label:"Actions"}],f=$.useMemo(()=>u?e.filter(j=>{const k=j.profile_data||{};return`${k.fullName||k.firstName||""} ${k.lastName||""} ${k.headline||""} ${k.addressWithCountry||""} ${k.companyName||""}`.toLowerCase().includes(u.toLowerCase())}):e,[e,u]),p=j=>{if(j==="select"||j==="actions")return;const k=new Set(c);k.has(j)?k.delete(j):k.add(j),o(k)},w=j=>{const k=new Set(h);k.has(j)?k.delete(j):k.add(j),m(k),g(k.size>0)},b=()=>{h.size===f.length?(m(new Set),g(!1)):(m(new Set(f.map(j=>j.id))),g(!0))},N=async(j,k)=>{_(E=>new Set(E).add(k));try{await t(j)}catch(E){console.error("Error updating profile:",E)}finally{_(E=>{const H=new Set(E);return H.delete(k),H})}},C=async()=>{if(r&&h.size>0){const j=f.filter(k=>h.has(k.id)).map(k=>k.linkedin_url);await r(j),m(new Set),g(!1)}},O=async()=>{n&&h.size>0&&window.confirm(`Are you sure you want to delete ${h.size} selected profiles? This action cannot be undone.`)&&(await n(Array.from(h)),m(new Set),g(!1))},M=j=>{s(j,!0)},D=j=>{if(!j)return{text:"Never",color:"text-gray-600 bg-gray-100 border-gray-200",exact:"Never"};const k=new Date(j),E=new Date,H=new Date(E.getFullYear(),E.getMonth(),E.getDate()),q=new Date(k.getFullYear(),k.getMonth(),k.getDate()),Z=H.getTime()-q.getTime(),P=Math.floor(Z/(1e3*60*60*24)),A=k.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"});return P===0?{text:"Today",color:"text-green-700 bg-green-100 border-green-200",exact:A}:P<=7?{text:"This week",color:"text-green-600 bg-green-50 border-green-200",exact:A}:P<=30?{text:"This month",color:"text-blue-600 bg-blue-50 border-blue-200",exact:A}:{text:A,color:"text-amber-700 bg-amber-100 border-amber-200",exact:A}},ue=(j,k)=>{var q,Z,P,A,R,W,Q,pt,qe,gt,fe,G,ws,Pr;const E=j.profile_data||{},H=x.has(j.id);switch(k){case"select":return a.jsx("button",{onClick:()=>w(j.id),className:"text-blue-600 hover:text-blue-800",children:h.has(j.id)?a.jsx(Ti,{className:"w-5 h-5"}):a.jsx(Ii,{className:"w-5 h-5"})});case"picture":return a.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:E.profilePic||E.profilePicHighQuality?a.jsx("img",{src:E.profilePicHighQuality||E.profilePic,alt:E.fullName||`${E.firstName} ${E.lastName}`,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:"No Photo"})});case"name":return a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900 truncate",children:E.fullName||`${E.firstName||""} ${E.lastName||""}`.trim()}),a.jsx("div",{className:"text-sm text-blue-600 hover:underline",children:a.jsxs("a",{href:j.linkedin_url||E.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1",children:[a.jsx(cs,{className:"w-3 h-3"}),"View Profile"]})})]});case"headline":return a.jsx("div",{className:"max-w-xs",children:a.jsx("div",{className:"text-sm text-gray-900 line-clamp-2",title:E.headline,children:E.headline||"No headline"})});case"location":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(qo,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:E.addressWithCountry||E.addressCountryOnly||E.addressWithoutCountry||"Not specified"})]});case"connections":return a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(et,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"font-medium",children:((q=E.connections)==null?void 0:q.toLocaleString())||"0"})]});case"followers":return a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(et,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"font-medium",children:((Z=E.followers)==null?void 0:Z.toLocaleString())||"0"})]});case"company":return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wo,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:E.companyName||((R=(A=(P=E.experiences)==null?void 0:P[0])==null?void 0:A.subtitle)==null?void 0:R.split("  ")[0])||"Not specified"}),E.companyIndustry&&a.jsx("div",{className:"text-xs text-gray-500 truncate",children:E.companyIndustry})]})]});case"jobTitle":return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pi,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-gray-900 truncate",children:E.jobTitle||((Q=(W=E.experiences)==null?void 0:W[0])==null?void 0:Q.title)||"Not specified"})]});case"duration":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(Vo,{className:"w-4 h-4"}),a.jsx("span",{children:E.currentJobDuration||((gt=(qe=(pt=E.experiences)==null?void 0:pt[0])==null?void 0:qe.caption)==null?void 0:gt.split("  ")[1])||"Not specified"})]});case"experience":return a.jsxs("div",{className:"text-sm text-gray-600",children:[((fe=E.experiences)==null?void 0:fe.length)||0," positions"]});case"education":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(Ho,{className:"w-4 h-4"}),a.jsxs("span",{children:[((G=E.educations)==null?void 0:G.length)||0," schools"]})]});case"skills":return a.jsx("div",{className:"max-w-xs",children:E.skills&&E.skills.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[E.skills.slice(0,3).map((aa,la)=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:aa.title},la)),E.skills.length>3&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",E.skills.length-3," more"]})]}):a.jsx("span",{className:"text-sm text-gray-500",children:"No skills listed"})});case"certifications":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx($n,{className:"w-4 h-4"}),a.jsxs("span",{children:[((ws=E.licenseAndCertificates)==null?void 0:ws.length)||0," certs"]})]});case"email":return E.email?a.jsxs("a",{href:`mailto:${E.email}`,className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(Nr,{className:"w-4 h-4"}),E.email]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"phone":return E.mobileNumber?a.jsxs("a",{href:`tel:${E.mobileNumber}`,className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx($i,{className:"w-4 h-4"}),E.mobileNumber]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"website":return(Pr=E.creatorWebsite)!=null&&Pr.link?a.jsxs("a",{href:E.creatorWebsite.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(Dl,{className:"w-4 h-4"}),E.creatorWebsite.name||"Website"]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"updated":const gn=D(j.last_updated);return a.jsxs("div",{className:"group relative",children:[a.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full border ${gn.color} ${H?"animate-pulse":""}`,children:H?"Updating...":gn.text}),a.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10 shadow-lg",children:[a.jsx("div",{className:"font-medium",children:"Last Updated"}),a.jsx("div",{children:gn.exact}),a.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]});case"actions":return a.jsxs("div",{className:"flex gap-2",children:[i&&a.jsxs("button",{onClick:()=>i(E),className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[a.jsx(kt,{className:"w-4 h-4"}),"Details"]}),a.jsxs("button",{onClick:()=>N(j.linkedin_url||E.linkedinUrl,j.id),disabled:H,className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-gray-600 text-white rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx(Oi,{className:`w-4 h-4 ${H?"animate-spin":""}`}),H?"Updating...":"Update"]})]});default:return null}};return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Saved Profiles (",f.length,")",h.size>0&&a.jsxs("span",{className:"ml-2 text-sm font-normal text-blue-600",children:["(",h.size," selected)"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Kh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Filter profiles...",value:u,onChange:j=>d(j.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("select",{onChange:j=>s(j.target.value,!1),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"",children:[a.jsx("option",{value:"",disabled:!0,children:"Export All..."}),a.jsx("option",{value:"csv",children:"CSV"}),a.jsx("option",{value:"json",children:"JSON"}),a.jsx("option",{value:"xlsx",children:"Excel"})]})})]})]}),v&&a.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(et,{className:"w-5 h-5 text-blue-600"}),a.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[h.size," profiles selected"]})]}),a.jsxs("div",{className:"flex gap-2",children:[r&&a.jsxs("button",{onClick:C,disabled:l,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx(hg,{className:"w-4 h-4"}),"Update Selected"]}),a.jsxs("select",{onChange:j=>{j.target.value&&(M(j.target.value),j.target.value="")},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"",children:[a.jsx("option",{value:"",disabled:!0,children:"Export Selected..."}),a.jsx("option",{value:"csv",children:"CSV"}),a.jsx("option",{value:"json",children:"JSON"}),a.jsx("option",{value:"xlsx",children:"Excel"})]}),n&&a.jsxs("button",{onClick:O,className:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[a.jsx(dg,{className:"w-4 h-4"}),"Delete Selected"]}),a.jsx("button",{onClick:()=>{m(new Set),g(!1)},className:"px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"})]})]})}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[h.size===f.length&&f.length>0?a.jsx(Ti,{className:"w-4 h-4"}):a.jsx(Ii,{className:"w-4 h-4"}),h.size===f.length&&f.length>0?"Deselect All":"Select All"]}),a.jsxs("span",{className:"text-sm text-gray-600",children:[h.size," of ",f.length," selected"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(j=>a.jsxs("button",{onClick:()=>p(j.key),disabled:j.key==="select"||j.key==="actions",className:`inline-flex items-center gap-1 px-3 py-1 text-sm rounded-full transition-colors ${c.has(j.key)?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${j.key==="select"||j.key==="actions"?"opacity-50 cursor-not-allowed":""}`,children:[c.has(j.key)?a.jsx(kt,{className:"w-3 h-3"}):a.jsx(tr,{className:"w-3 h-3"}),j.label,c.has(j.key)&&j.key!=="actions"&&j.key!=="select"&&a.jsx(Ko,{className:"w-3 h-3 ml-1 hover:text-red-500"})]},j.key))})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsx("tr",{children:y.filter(j=>c.has(j.key)).map(j=>a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:j.label},j.key))})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(j=>a.jsx("tr",{className:`hover:bg-gray-50 ${h.has(j.id)?"bg-blue-50":""} ${x.has(j.id)?"bg-yellow-50":""}`,children:y.filter(k=>c.has(k.key)).map(k=>a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ue(j,k.key)},k.key))},j.id))})]})}),f.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"text-gray-500",children:"No profiles found"})})]})},gg=({jobs:e})=>{const t=s=>{switch(s){case"completed":return a.jsx(cn,{className:"w-5 h-5 text-green-500"});case"failed":return a.jsx(fg,{className:"w-5 h-5 text-red-500"});case"running":return a.jsx(ut,{className:"w-5 h-5 text-blue-500 animate-spin"});default:return a.jsx(lg,{className:"w-5 h-5 text-yellow-500"})}},r=s=>{const i="inline-flex px-2 py-1 text-xs font-medium rounded-full";switch(s){case"completed":return`${i} bg-green-100 text-green-800`;case"failed":return`${i} bg-red-100 text-red-800`;case"running":return`${i} bg-blue-100 text-blue-800`;default:return`${i} bg-yellow-100 text-yellow-800`}},n=s=>{switch(s){case"post_comments":return"Post Comments";case"profile_details":return"Profile Details";case"mixed":return"Mixed (Post + Profiles)";default:return s}};return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Scraping Jobs (",e.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"URL"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Results"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(s=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[t(s.status),a.jsx("span",{className:r(s.status),children:s.status||"pending"})]}),s.error_message&&a.jsxs("div",{className:"text-xs text-red-600 mt-1",title:s.error_message,children:["Error: ",s.error_message.substring(0,50),"..."]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm font-medium text-gray-900",children:n(s.job_type)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"max-w-xs",children:a.jsx("a",{href:s.input_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline truncate block",title:s.input_url,children:s.input_url})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900",children:s.results_count!==null?s.results_count.toLocaleString():"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-500",children:s.created_at?new Date(s.created_at).toLocaleString():"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-500",children:s.completed_at?new Date(s.completed_at).toLocaleString():"-"})})]},s.id))})]})}),e.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"text-gray-500",children:"No scraping jobs yet"})})]})},Qh=({type:e,stage:t,progress:r=0,message:n,error:s})=>{const i=()=>{switch(e){case"post_comments":return a.jsx(Ul,{className:"w-6 h-6 text-blue-600"});case"profile_details":return a.jsx(dt,{className:"w-6 h-6 text-green-600"});case"mixed":return a.jsx(et,{className:"w-6 h-6 text-purple-600"})}},l=()=>{switch(e){case"post_comments":return"Scraping Post Comments";case"profile_details":return"Scraping Profile Details";case"mixed":return"Mixed Scraping (Comments + Profiles)"}},c=()=>{if(s)return s;if(n)return n;switch(t){case"starting":return"Initializing scraping process...";case"scraping_comments":return"Extracting comments from LinkedIn post...";case"extracting_profiles":return"Extracting profile URLs from comments...";case"scraping_profiles":return"Gathering detailed profile information...";case"saving_data":return"Saving data to database...";case"completed":return"Scraping completed successfully!";case"error":return"An error occurred during scraping";default:return"Processing..."}},o=()=>s||t==="error"?"bg-red-500":t==="completed"?"bg-green-500":"bg-blue-500",u=()=>s||t==="error"?"border-red-200 bg-red-50":t==="completed"?"border-green-200 bg-green-50":"border-blue-200 bg-blue-50",d=[{key:"starting",label:"Initialize"},...e==="post_comments"||e==="mixed"?[{key:"scraping_comments",label:"Extract Comments"}]:[],...e==="mixed"?[{key:"extracting_profiles",label:"Extract Profiles"}]:[],...e==="profile_details"||e==="mixed"?[{key:"scraping_profiles",label:"Scrape Profiles"}]:[],{key:"saving_data",label:"Save Data"},{key:"completed",label:"Complete"}],h=d.findIndex(v=>v.key===t),m=t==="completed"?100:Math.max(r,h/(d.length-1)*100);return a.jsxs("div",{className:`rounded-xl border-2 p-6 ${u()}`,children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:t==="completed"?a.jsx(cn,{className:"w-6 h-6 text-green-600"}):t==="error"||s?a.jsx(jr,{className:"w-6 h-6 text-red-600"}):a.jsxs("div",{className:"relative",children:[i(),a.jsx(ut,{className:"w-4 h-4 absolute -top-1 -right-1 animate-spin text-gray-600"})]})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:l()}),a.jsx("p",{className:"text-gray-600",children:c()})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{children:[Math.round(m),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${o()}`,style:{width:`${m}%`}})})]}),a.jsx("div",{className:"flex justify-between items-center",children:d.map((v,g)=>{const x=g<h||t==="completed",_=g===h&&t!=="completed",y=t==="error"&&g===h;return a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium mb-2 ${y?"bg-red-500 text-white":x?"bg-green-500 text-white":_?"bg-blue-500 text-white":"bg-gray-200 text-gray-500"}`,children:y?a.jsx(jr,{className:"w-4 h-4"}):x?a.jsx(cn,{className:"w-4 h-4"}):_?a.jsx(ut,{className:"w-4 h-4 animate-spin"}):g+1}),a.jsx("span",{className:`text-xs text-center ${y?"text-red-600":x||_?"text-gray-900":"text-gray-500"}`,children:v.label})]},v.key)})})]})},yg=({comments:e,onScrapeSelectedProfiles:t,isLoading:r,onBack:n,loadingStage:s="starting",loadingProgress:i=0,loadingMessage:l="",loadingError:c=""})=>{const[o,u]=$.useState(new Set),d=g=>{const x=new Set(o);x.has(g)?x.delete(g):x.add(g),u(x)},h=()=>{o.size===e.length?u(new Set):u(new Set(e.map(g=>g.id)))},m=async()=>{const g=e.filter(x=>o.has(x.id)).map(x=>x.actor.linkedinUrl).filter(Boolean);g.length>0&&await t(g)},v=g=>{const x=new Date(g),y=Math.abs(new Date().getTime()-x.getTime()),f=Math.ceil(y/(1e3*60*60*24));return f===0?"Today":f<=7?"This week":f<=30?"This month":x.toLocaleDateString("en-GB")};return a.jsxs("div",{className:"space-y-6",children:[r&&a.jsx(Qh,{type:"profile_details",stage:s,progress:i,message:l,error:c}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Ul,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Post Comments (",e.length,")"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Select commenters to scrape their profile details"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx(Xi,{className:"w-4 h-4"}),"Back to Scraper"]}),a.jsxs("button",{onClick:m,disabled:o.size===0||r,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[a.jsx(et,{className:"w-4 h-4"}),r?"Scraping...":`Scrape Selected Profiles (${o.size})`]})]})]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[a.jsxs("button",{onClick:h,disabled:r,className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50",children:[o.size===e.length?a.jsx(Ti,{className:"w-4 h-4"}):a.jsx(Ii,{className:"w-4 h-4"}),o.size===e.length?"Deselect All":"Select All"]}),a.jsxs("span",{className:"text-sm text-gray-600",children:[o.size," of ",e.length," selected"]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Select"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commenter"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Comment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(g=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("button",{onClick:()=>d(g.id),disabled:r,className:"text-blue-600 hover:text-blue-800 disabled:opacity-50",children:o.has(g.id)?a.jsx(Ti,{className:"w-5 h-5"}):a.jsx(Ii,{className:"w-5 h-5"})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-200",children:g.actor.pictureUrl?a.jsx("img",{src:g.actor.pictureUrl,alt:g.actor.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(dt,{className:"w-5 h-5 text-gray-400"})})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:g.actor.name}),a.jsx("div",{className:"text-sm text-blue-600 hover:underline",children:a.jsx("a",{href:g.actor.linkedinUrl,target:"_blank",rel:"noopener noreferrer",children:"View Profile"})})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:g.actor.position||"Not specified"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900 max-w-md",children:a.jsx("div",{className:"line-clamp-3",title:g.commentary,children:g.commentary})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-500",children:v(g.createdAt)})})]},g.id))})]})}),e.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ul,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("div",{className:"text-gray-500",children:"No comments found"})]})]})]})},gu=({profiles:e,onBack:t})=>{const r=(n,s)=>{var i,l,c;return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-8 text-white",children:a.jsxs("div",{className:"flex items-start gap-6",children:[a.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-white/20 flex-shrink-0",children:n.profilePicHighQuality||n.profilePic?a.jsx("img",{src:n.profilePicHighQuality||n.profilePic,alt:n.fullName,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(dt,{className:"w-12 h-12 text-white/60"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:n.fullName||`${n.firstName||""} ${n.lastName||""}`.trim()}),a.jsx("p",{className:"text-blue-100 text-lg mb-3",children:n.headline}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-blue-100",children:[(n.addressWithCountry||n.addressCountryOnly||n.addressWithoutCountry)&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(qo,{className:"w-4 h-4"}),a.jsx("span",{children:n.addressWithCountry||n.addressCountryOnly||n.addressWithoutCountry})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(et,{className:"w-4 h-4"}),a.jsxs("span",{children:[((i=n.connections)==null?void 0:i.toLocaleString())||"0"," connections"]})]}),n.followers&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(et,{className:"w-4 h-4"}),a.jsxs("span",{children:[n.followers.toLocaleString()," followers"]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-4",children:[a.jsxs("a",{href:n.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[a.jsx(cs,{className:"w-4 h-4"}),"View LinkedIn"]}),n.email&&a.jsxs("a",{href:`mailto:${n.email}`,className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[a.jsx(Nr,{className:"w-4 h-4"}),"Email"]}),n.mobileNumber&&a.jsxs("a",{href:`tel:${n.mobileNumber}`,className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[a.jsx($i,{className:"w-4 h-4"}),"Call"]}),((l=n.creatorWebsite)==null?void 0:l.link)&&a.jsxs("a",{href:n.creatorWebsite.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[a.jsx(Dl,{className:"w-4 h-4"}),n.creatorWebsite.name||"Website"]})]})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[n.about&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(dt,{className:"w-5 h-5 text-blue-600"}),"About"]}),a.jsx("div",{className:"text-gray-700 whitespace-pre-line bg-gray-50 p-4 rounded-lg",children:n.about})]}),(n.jobTitle||n.companyName)&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(Pi,{className:"w-5 h-5 text-blue-600"}),"Current Position"]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("div",{className:"font-medium text-gray-900",children:n.jobTitle}),n.companyName&&a.jsxs("div",{className:"text-gray-600 flex items-center gap-2 mt-1",children:[a.jsx(Wo,{className:"w-4 h-4"}),n.companyName]}),n.currentJobDuration&&a.jsxs("div",{className:"text-sm text-gray-500 mt-1 flex items-center gap-2",children:[a.jsx(Vo,{className:"w-4 h-4"}),n.currentJobDuration]}),n.companyIndustry&&a.jsx("div",{className:"text-sm text-gray-500 mt-1",children:n.companyIndustry}),n.companySize&&a.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[n.companySize," employees"]})]})]}),n.experiences&&n.experiences.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(Pi,{className:"w-5 h-5 text-blue-600"}),"Experience (",n.experiences.length,")"]}),a.jsxs("div",{className:"space-y-4",children:[n.experiences.slice(0,5).map((o,u)=>{var d,h;return a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[o.logo&&a.jsx("img",{src:o.logo,alt:"",className:"w-12 h-12 rounded object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900",children:o.title}),a.jsx("div",{className:"text-gray-600",children:o.subtitle}),a.jsx("div",{className:"text-sm text-gray-500",children:o.caption}),o.metadata&&a.jsx("div",{className:"text-sm text-gray-500",children:o.metadata}),o.subComponents&&((d=o.subComponents[0])==null?void 0:d.description)&&a.jsx("div",{className:"mt-2 text-sm text-gray-700",children:(h=o.subComponents[0].description[0])==null?void 0:h.text})]})]})},u)}),n.experiences.length>5&&a.jsxs("div",{className:"text-center text-sm text-gray-500",children:["... and ",n.experiences.length-5," more positions"]})]})]}),n.educations&&n.educations.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(Ho,{className:"w-5 h-5 text-blue-600"}),"Education (",n.educations.length,")"]}),a.jsx("div",{className:"space-y-4",children:n.educations.map((o,u)=>{var d;return a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[o.logo&&a.jsx("img",{src:o.logo,alt:"",className:"w-12 h-12 rounded object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:o.title}),a.jsx("div",{className:"text-gray-600",children:o.subtitle}),o.caption&&a.jsx("div",{className:"text-sm text-gray-500",children:o.caption}),o.subComponents&&((d=o.subComponents[0])==null?void 0:d.description)&&a.jsx("div",{className:"mt-2 text-sm text-gray-700",children:o.subComponents[0].description.map((h,m)=>a.jsx("div",{children:h.text},m))})]})]})},u)})})]}),n.skills&&n.skills.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx($n,{className:"w-5 h-5 text-blue-600"}),"Skills (",n.skills.length,")"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.map((o,u)=>a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:o.title},u))})]}),n.licenseAndCertificates&&n.licenseAndCertificates.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx($n,{className:"w-5 h-5 text-blue-600"}),"Certifications (",n.licenseAndCertificates.length,")"]}),a.jsx("div",{className:"space-y-3",children:n.licenseAndCertificates.map((o,u)=>a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[o.logo&&a.jsx("img",{src:o.logo,alt:"",className:"w-10 h-10 rounded object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:o.title}),a.jsx("div",{className:"text-gray-600",children:o.subtitle}),o.caption&&a.jsx("div",{className:"text-sm text-gray-500",children:o.caption}),o.metadata&&a.jsx("div",{className:"text-sm text-gray-500",children:o.metadata})]})]})},u))})]}),n.publications&&n.publications.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx($n,{className:"w-5 h-5 text-blue-600"}),"Publications (",n.publications.length,")"]}),a.jsx("div",{className:"space-y-3",children:n.publications.map((o,u)=>{var d,h;return a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-gray-900",children:o.title}),a.jsx("div",{className:"text-gray-600",children:o.subtitle}),o.subComponents&&((d=o.subComponents[0])==null?void 0:d.description)&&a.jsx("div",{className:"mt-2 text-sm text-gray-700",children:(h=o.subComponents[0].description[0])==null?void 0:h.text})]},u)})})]}),n.volunteerAndAwards&&n.volunteerAndAwards.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx($n,{className:"w-5 h-5 text-blue-600"}),"Volunteer Experience (",n.volunteerAndAwards.length,")"]}),a.jsx("div",{className:"space-y-3",children:n.volunteerAndAwards.map((o,u)=>a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[o.logo&&a.jsx("img",{src:o.logo,alt:"",className:"w-10 h-10 rounded object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:o.title}),a.jsx("div",{className:"text-gray-600",children:o.subtitle}),a.jsx("div",{className:"text-sm text-gray-500",children:o.caption})]})]})},u))})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Contact Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[n.email&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nr,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-gray-700",children:n.email})]}),n.mobileNumber&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($i,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-gray-700",children:n.mobileNumber})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cs,{className:"w-4 h-4 text-blue-600"}),a.jsx("a",{href:n.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"LinkedIn Profile"})]}),((c=n.creatorWebsite)==null?void 0:c.link)&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dl,{className:"w-4 h-4 text-blue-600"}),a.jsx("a",{href:n.creatorWebsite.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:n.creatorWebsite.name||"Personal Website"})]})]})]})]})]},s)};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(dt,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Profile Details (",e.length,")"]}),a.jsx("p",{className:"text-gray-600",children:"Detailed information for scraped LinkedIn profiles"})]})]}),a.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx(Xi,{className:"w-4 h-4"}),"Back"]})]})}),a.jsx("div",{className:"space-y-8",children:e.map((n,s)=>r(n,s))}),e.length===0&&a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:[a.jsx(dt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No profiles found"}),a.jsx("p",{className:"text-gray-600",children:"No profile details to display"})]})]})},vg=({profiles:e,onViewDetails:t,onUpdateProfile:r,onExport:n,isUpdating:s=!1,showActions:i=!0})=>{const[l,c]=$.useState(new Set(["picture","name","headline","location","connections","company","actions"])),[o,u]=$.useState(""),d=[{key:"picture",label:"Picture"},{key:"name",label:"Name"},{key:"headline",label:"Headline"},{key:"location",label:"Location"},{key:"connections",label:"Connections"},{key:"followers",label:"Followers"},{key:"company",label:"Current Company"},{key:"jobTitle",label:"Job Title"},{key:"industry",label:"Industry"},{key:"experience",label:"Experience"},{key:"education",label:"Education"},{key:"skills",label:"Top Skills"},{key:"email",label:"Email"},{key:"phone",label:"Phone"},{key:"duration",label:"Current Role Duration"},{key:"website",label:"Website"},{key:"actions",label:"Actions"}],h=$.useMemo(()=>o?e.filter(g=>`${g.fullName||""} ${g.headline||""} ${g.addressWithCountry||""} ${g.companyName||""}`.toLowerCase().includes(o.toLowerCase())):e,[e,o]),m=g=>{const x=new Set(l);x.has(g)?x.delete(g):x.add(g),c(x)},v=(g,x)=>{var _,y,f,p,w;switch(x){case"picture":return a.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:g.profilePic?a.jsx("img",{src:g.profilePic,alt:g.fullName,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(dt,{className:"w-6 h-6 text-gray-400"})})});case"name":return a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900 truncate",children:g.fullName||`${g.firstName||""} ${g.lastName||""}`.trim()}),a.jsx("div",{className:"text-sm text-blue-600 hover:underline",children:a.jsxs("a",{href:g.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1",children:[a.jsx(cs,{className:"w-3 h-3"}),"LinkedIn Profile"]})})]});case"headline":return a.jsx("div",{className:"max-w-xs",children:a.jsx("div",{className:"text-sm text-gray-900 line-clamp-2",title:g.headline,children:g.headline||"No headline"})});case"location":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(qo,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:g.addressWithCountry||g.addressCountryOnly||"Not specified"})]});case"connections":return a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(et,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"font-medium",children:((_=g.connections)==null?void 0:_.toLocaleString())||"0"})]});case"followers":return a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(et,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"font-medium",children:((y=g.followers)==null?void 0:y.toLocaleString())||"0"})]});case"company":return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wo,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:g.companyName||"Not specified"}),g.companySize&&a.jsxs("div",{className:"text-xs text-gray-500",children:[g.companySize," employees"]})]})]});case"jobTitle":return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pi,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-gray-900 truncate",children:g.jobTitle||"Not specified"})]});case"industry":return a.jsx("span",{className:"text-sm text-gray-600",children:g.companyIndustry||"Not specified"});case"experience":return a.jsxs("div",{className:"text-sm text-gray-600",children:[((f=g.experiences)==null?void 0:f.length)||0," positions"]});case"education":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(Ho,{className:"w-4 h-4"}),a.jsxs("span",{children:[((p=g.educations)==null?void 0:p.length)||0," schools"]})]});case"skills":return a.jsx("div",{className:"max-w-xs",children:g.skills&&g.skills.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[g.skills.slice(0,3).map((b,N)=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:b.title},N)),g.skills.length>3&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",g.skills.length-3," more"]})]}):a.jsx("span",{className:"text-sm text-gray-500",children:"No skills listed"})});case"email":return g.email?a.jsxs("a",{href:`mailto:${g.email}`,className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(Nr,{className:"w-4 h-4"}),g.email]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"phone":return g.mobileNumber?a.jsxs("a",{href:`tel:${g.mobileNumber}`,className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx($i,{className:"w-4 h-4"}),g.mobileNumber]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"duration":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(Vo,{className:"w-4 h-4"}),a.jsx("span",{children:g.currentJobDuration||"Not specified"})]});case"website":return(w=g.creatorWebsite)!=null&&w.link?a.jsxs("a",{href:g.creatorWebsite.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(cs,{className:"w-4 h-4"}),g.creatorWebsite.name||"Website"]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"actions":return a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>t(g),className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[a.jsx(kt,{className:"w-4 h-4"}),"Details"]}),i&&r&&a.jsxs("button",{onClick:()=>r(g.linkedinUrl),disabled:s,className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-gray-600 text-white rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx(Oi,{className:`w-4 h-4 ${s?"animate-spin":""}`}),"Update"]})]});default:return null}};return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Profile Results (",h.length,")"]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Kh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Filter profiles...",value:o,onChange:g=>u(g.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n&&a.jsxs("select",{onChange:g=>n(g.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"",children:[a.jsx("option",{value:"",disabled:!0,children:"Export as..."}),a.jsx("option",{value:"csv",children:"CSV"}),a.jsx("option",{value:"json",children:"JSON"}),a.jsx("option",{value:"xlsx",children:"Excel"})]})]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(g=>a.jsxs("button",{onClick:()=>m(g.key),className:`inline-flex items-center gap-1 px-3 py-1 text-sm rounded-full transition-colors ${l.has(g.key)?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[l.has(g.key)?a.jsx(kt,{className:"w-3 h-3"}):a.jsx(tr,{className:"w-3 h-3"}),g.label,l.has(g.key)&&g.key!=="actions"&&a.jsx(Ko,{className:"w-3 h-3 ml-1 hover:text-red-500"})]},g.key))})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsx("tr",{children:d.filter(g=>l.has(g.key)).map(g=>a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:g.label},g.key))})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map((g,x)=>a.jsx("tr",{className:"hover:bg-gray-50",children:d.filter(_=>l.has(_.key)).map(_=>a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v(g,_.key)},_.key))},g.linkedinUrl||x))})]})}),h.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(dt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("div",{className:"text-gray-500",children:"No profiles found"})]})]})},xg="modulepreload",wg=function(e){return"/"+e},yu={},ys=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(o=>{if(o=wg(o),o in yu)return;yu[o]=!0;const u=o.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":xg,u||(h.as="script"),h.crossOrigin="",h.href=o,c&&h.setAttribute("nonce",c),document.head.appendChild(h),u)return new Promise((m,v)=>{h.addEventListener("load",m),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${o}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})},_g=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ys(async()=>{const{default:n}=await Promise.resolve().then(()=>mn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Jo extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class bg extends Jo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kg extends Jo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jg extends Jo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var zl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(zl||(zl={}));var Ng=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};class Sg{constructor(t,{headers:r={},customFetch:n,region:s=zl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=_g(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Ng(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:l}=r;let c={},{region:o}=r;o||(o=this.region),o&&o!=="any"&&(c["x-region"]=o);let u;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=l):typeof l=="string"?(c["Content-Type"]="text/plain",u=l):typeof FormData<"u"&&l instanceof FormData?u=l:(c["Content-Type"]="application/json",u=JSON.stringify(l)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:u}).catch(g=>{throw new bg(g)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new kg(d);if(!d.ok)throw new jg(d);let m=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return m==="application/json"?v=yield d.json():m==="application/octet-stream"?v=yield d.blob():m==="text/event-stream"?v=d:m==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var Ae={},Qo={},Zi={},vs={},ea={},ta={},Eg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},un=Eg();const Cg=un.fetch,Gh=un.fetch.bind(un),Yh=un.Headers,Pg=un.Request,Tg=un.Response,mn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Yh,Request:Pg,Response:Tg,default:Gh,fetch:Cg},Symbol.toStringTag,{value:"Module"})),$g=Tf(mn);var ra={};Object.defineProperty(ra,"__esModule",{value:!0});let Og=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ra.default=Og;var Xh=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ta,"__esModule",{value:!0});const Ig=Xh($g),Ag=Xh(ra);let Lg=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Ig.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,c,o;let u=null,d=null,h=null,m=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const x=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),_=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");x&&_&&_.length>1&&(h=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{u=JSON.parse(x),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,v="OK")}catch{i.status===404&&x===""?(m=204,v="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((o=u==null?void 0:u.details)===null||o===void 0)&&o.includes("0 rows"))&&(u=null,m=200,v="OK"),u&&this.shouldThrowOnError)throw new Ag.default(u)}return{error:u,data:d,count:h,status:m,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var l,c,o;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(c=i==null?void 0:i.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(o=i==null?void 0:i.code)!==null&&o!==void 0?o:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};ta.default=Lg;var Rg=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ea,"__esModule",{value:!0});const Dg=Rg(ta);let Ug=class extends Dg.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const l=i?`${i}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:l="text"}={}){var c;const o=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${u}"; options=${o};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ea.default=Ug;var zg=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vs,"__esModule",{value:!0});const Mg=zg(ea);let Fg=class extends Mg.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};vs.default=Fg;var Bg=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zi,"__esModule",{value:!0});const Nn=Bg(vs);let Wg=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new Nn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const l=t.reduce((c,o)=>c.concat(Object.keys(o)),[]);if(l.length>0){const c=[...new Set(l)].map(o=>`"${o}"`);this.url.searchParams.set("columns",c.join(","))}}return new Nn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const l="POST",c=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),i||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const o=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(o.length>0){const u=[...new Set(o)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Nn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Nn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Nn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Zi.default=Wg;var na={},sa={};Object.defineProperty(sa,"__esModule",{value:!0});sa.version=void 0;sa.version="0.0.0-automated";Object.defineProperty(na,"__esModule",{value:!0});na.DEFAULT_HEADERS=void 0;const Vg=sa;na.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Vg.version}`};var Zh=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qo,"__esModule",{value:!0});const Hg=Zh(Zi),qg=Zh(vs),Kg=na;let Jg=class ef{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Kg.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Hg.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new ef(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let l;const c=new URL(`${this.url}/rpc/${t}`);let o;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(l="POST",o=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new qg.default({method:l,url:c,headers:u,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}};Qo.default=Jg;var pn=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.PostgrestError=Ae.PostgrestBuilder=Ae.PostgrestTransformBuilder=Ae.PostgrestFilterBuilder=Ae.PostgrestQueryBuilder=Ae.PostgrestClient=void 0;const tf=pn(Qo);Ae.PostgrestClient=tf.default;const rf=pn(Zi);Ae.PostgrestQueryBuilder=rf.default;const nf=pn(vs);Ae.PostgrestFilterBuilder=nf.default;const sf=pn(ea);Ae.PostgrestTransformBuilder=sf.default;const af=pn(ta);Ae.PostgrestBuilder=af.default;const lf=pn(ra);Ae.PostgrestError=lf.default;var Qg=Ae.default={PostgrestClient:tf.default,PostgrestQueryBuilder:rf.default,PostgrestFilterBuilder:nf.default,PostgrestTransformBuilder:sf.default,PostgrestBuilder:af.default,PostgrestError:lf.default};const{PostgrestClient:Gg,PostgrestQueryBuilder:Gy,PostgrestFilterBuilder:Yy,PostgrestTransformBuilder:Xy,PostgrestBuilder:Zy,PostgrestError:ev}=Qg;let Ml;typeof window>"u"?Ml=require("ws"):Ml=window.WebSocket;const Yg=Ml,Xg="2.11.10",Zg={"X-Client-Info":`realtime-js/${Xg}`},e0="1.0.0",of=1e4,t0=1e3;var en;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(en||(en={}));var Ee;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ee||(Ee={}));var ot;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ot||(ot={}));var Fl;(function(e){e.websocket="websocket"})(Fl||(Fl={}));var fr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(fr||(fr={}));class r0{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const c=n.decode(t.slice(l,l+s));l=l+s;const o=n.decode(t.slice(l,l+i));l=l+i;const u=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:c,event:o,payload:u}}}class cf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Y||(Y={}));const vu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,l)=>(i[l]=n0(l,e,t,s),i),{})},n0=(e,t,r,n)=>{const s=t.find(c=>c.name===e),i=s==null?void 0:s.type,l=r[e];return i&&!n.includes(i)?uf(i,l):Bl(l)},uf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return l0(t,r)}switch(e){case Y.bool:return s0(t);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return i0(t);case Y.json:case Y.jsonb:return a0(t);case Y.timestamp:return o0(t);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return Bl(t);default:return Bl(t)}},Bl=e=>e,s0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},i0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},a0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},l0=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(c=>uf(t,c))}return e},o0=e=>typeof e=="string"?e.replace(" ","T"):e,df=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Da{constructor(t,r,n={},s=of){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var xu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(xu||(xu={}));class Wn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wn.syncState(this.state,s,i,l),this.pendingDiffs.forEach(o=>{this.state=Wn.syncDiff(this.state,o,i,l)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Wn.syncDiff(this.state,s,i,l),c())}),this.onJoin((s,i,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:l})}),this.onLeave((s,i,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),l=this.transformState(r),c={},o={};return this.map(i,(u,d)=>{l[u]||(o[u]=d)}),this.map(l,(u,d)=>{const h=i[u];if(h){const m=d.map(_=>_.presence_ref),v=h.map(_=>_.presence_ref),g=d.filter(_=>v.indexOf(_.presence_ref)<0),x=h.filter(_=>m.indexOf(_.presence_ref)<0);g.length>0&&(c[u]=g),x.length>0&&(o[u]=x)}else c[u]=d}),this.syncDiff(i,{joins:c,leaves:o},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(c,o)=>{var u;const d=(u=t[c])!==null&&u!==void 0?u:[];if(t[c]=this.cloneDeep(o),d.length>0){const h=t[c].map(v=>v.presence_ref),m=d.filter(v=>h.indexOf(v.presence_ref)<0);t[c].unshift(...m)}n(c,d,o)}),this.map(l,(c,o)=>{let u=t[c];if(!u)return;const d=o.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[c]=u,s(c,u,o),u.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(wu||(wu={}));var _u;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(_u||(_u={}));var St;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(St||(St={}));class Go{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Da(this,ot.join,this.params,this.timeout),this.rejoinTimer=new cf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ee.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ot.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Wn(this),this.broadcastEndpointURL=df(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:l,private:c}}=this.params;this._onError(d=>t==null?void 0:t(St.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(St.CLOSED));const o={},u={broadcast:i,presence:l,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:c};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},o)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(St.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,g=[];for(let x=0;x<v;x++){const _=m[x],{filter:{event:y,schema:f,table:p,filter:w}}=_,b=d&&d[x];if(b&&b.event===y&&b.schema===f&&b.table===p&&b.filter===w)g.push(Object.assign(Object.assign({},_),{id:b.id}));else{this.unsubscribe(),this.state=Ee.errored,t==null||t(St.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(St.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ee.errored,t==null||t(St.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(St.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:l}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,c,o;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||o===void 0)&&o.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ee.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ot.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new Da(this,ot.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Da(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const l=t.toLocaleLowerCase(),{close:c,error:o,leave:u,join:d}=ot;if(n&&[c,o,u,d].indexOf(l)>=0&&n!==this._joinRef())return;let m=this._onMessage(l,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var g,x,_;return((g=v.filter)===null||g===void 0?void 0:g.event)==="*"||((_=(x=v.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(v=>v.callback(m,n)):(i=this.bindings[l])===null||i===void 0||i.filter(v=>{var g,x,_,y,f,p;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const w=v.id,b=(g=v.filter)===null||g===void 0?void 0:g.event;return w&&((x=r.ids)===null||x===void 0?void 0:x.includes(w))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const w=(f=(y=v==null?void 0:v.filter)===null||y===void 0?void 0:y.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return w==="*"||w===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof m=="object"&&"ids"in m){const g=m.data,{schema:x,table:_,commit_timestamp:y,type:f,errors:p}=g;m=Object.assign(Object.assign({},{schema:x,table:_,commit_timestamp:y,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(g))}v.callback(m,n)})}_isClosed(){return this.state===Ee.closed}_isJoined(){return this.state===Ee.joined}_isJoining(){return this.state===Ee.joining}_isLeaving(){return this.state===Ee.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Go.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ot.close,{},t)}_onError(t){this._on(ot.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ee.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=vu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=vu(t.columns,t.old_record)),r}}const bu=()=>{},c0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class u0{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Zg,this.params={},this.timeout=of,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bu,this.ref=0,this.logger=bu,this.conn=null,this.sendBuffer=[],this.serializer=new r0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...c)=>ys(async()=>{const{default:o}=await Promise.resolve().then(()=>mn);return{default:o}},void 0).then(({default:o})=>o(...c)):l=fetch,(...c)=>l(...c)},this.endPoint=`${t}/${Fl.websocket}`,this.httpEndpoint=df(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,l)=>l(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new cf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Yg),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new d0(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:e0}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case en.connecting:return fr.Connecting;case en.open:return fr.Open;case en.closing:return fr.Closing;default:return fr.Closed}}isConnected(){return this.connectionState()===fr.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Go(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,l=()=>{this.encode(t,c=>{var o;(o=this.conn)===null||o===void 0||o.send(c)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(ot.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(t0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:l}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${l&&"("+l+")"||""}`,i),Array.from(this.channels).filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,l)),this.stateChangeCallbacks.message.forEach(c=>c(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ot.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([c0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class d0{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=en.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Yo extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class h0 extends Yo{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Wl extends Yo{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var f0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const hf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ys(async()=>{const{default:n}=await Promise.resolve().then(()=>mn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},m0=()=>f0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ys(()=>Promise.resolve().then(()=>mn),void 0)).Response:Response}),Vl=e=>{if(Array.isArray(e))return e.map(r=>Vl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Vl(n)}),t};var Cr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const Ua=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),p0=(e,t,r)=>Cr(void 0,void 0,void 0,function*(){const n=yield m0();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new h0(Ua(s),e.status||500))}).catch(s=>{t(new Wl(Ua(s),s))}):t(new Wl(Ua(e),e))}),g0=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function xs(e,t,r,n,s,i){return Cr(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(r,g0(t,n,s,i)).then(o=>{if(!o.ok)throw o;return n!=null&&n.noResolveJson?o:o.json()}).then(o=>l(o)).catch(o=>p0(o,c,n))})})}function Ai(e,t,r,n){return Cr(this,void 0,void 0,function*(){return xs(e,"GET",t,r,n)})}function Ft(e,t,r,n,s){return Cr(this,void 0,void 0,function*(){return xs(e,"POST",t,n,s,r)})}function y0(e,t,r,n,s){return Cr(this,void 0,void 0,function*(){return xs(e,"PUT",t,n,s,r)})}function v0(e,t,r,n){return Cr(this,void 0,void 0,function*(){return xs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function ff(e,t,r,n,s){return Cr(this,void 0,void 0,function*(){return xs(e,"DELETE",t,n,s,r)})}var Oe=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const x0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ku={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class w0{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=hf(s)}uploadOrUpdate(t,r,n,s){return Oe(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},ku),s);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const o=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),o&&i.append("metadata",this.encodeMetadata(o)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl),o&&i.append("metadata",this.encodeMetadata(o))):(i=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,o&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{})),m=yield h.json();return h.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(ye(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Oe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",r);try{let o;const u=Object.assign({upsert:ku.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",u.cacheControl)):(o=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(c.toString(),{method:"PUT",body:o,headers:d}),m=yield h.json();return h.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(o){if(ye(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,r){return Oe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ft(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+i.url),c=l.searchParams.get("token");if(!c)throw new Yo("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}update(t,r,n){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Oe(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Oe(this,void 0,void 0,function*(){try{return{data:{path:(yield Ft(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Oe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ft(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Oe(this,void 0,void 0,function*(){try{const s=yield Ft(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}download(t,r){return Oe(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield Ai(this.fetch,`${this.url}/${s}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(ye(c))return{data:null,error:c};throw c}})}info(t){return Oe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ai(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Vl(n),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}exists(t){return Oe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield v0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ye(n)&&n instanceof Wl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});o!==""&&s.push(o);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${u}`)}}}remove(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield ff(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}list(t,r,n){return Oe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},x0),r),{prefix:t||""});return{data:yield Ft(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const _0="2.7.1",b0={"X-Client-Info":`storage-js/${_0}`};var $r=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};class k0{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},b0),r),this.fetch=hf(n)}listBuckets(){return $r(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ye(t))return{data:null,error:t};throw t}})}getBucket(t){return $r(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return $r(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return $r(this,void 0,void 0,function*(){try{return{data:yield y0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}emptyBucket(t){return $r(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}deleteBucket(t){return $r(this,void 0,void 0,function*(){try{return{data:yield ff(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}}class j0 extends k0{constructor(t,r={},n){super(t,r,n)}from(t){return new w0(this.url,this.headers,t,this.fetch)}}const N0="2.50.0";let On="";typeof Deno<"u"?On="deno":typeof document<"u"?On="web":typeof navigator<"u"&&navigator.product==="ReactNative"?On="react-native":On="node";const S0={"X-Client-Info":`supabase-js-${On}/${N0}`},E0={headers:S0},C0={schema:"public"},P0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},T0={};var $0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const O0=e=>{let t;return e?t=e:typeof fetch>"u"?t=Gh:t=fetch,(...r)=>t(...r)},I0=()=>typeof Headers>"u"?Yh:Headers,A0=(e,t,r)=>{const n=O0(r),s=I0();return(i,l)=>$0(void 0,void 0,void 0,function*(){var c;const o=(c=yield t())!==null&&c!==void 0?c:e;let u=new s(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),n(i,Object.assign(Object.assign({},l),{headers:u}))})};var L0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};function R0(e){return e.endsWith("/")?e:e+"/"}function D0(e,t){var r,n;const{db:s,auth:i,realtime:l,global:c}=e,{db:o,auth:u,realtime:d,global:h}=t,m={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),l),global:Object.assign(Object.assign(Object.assign({},h),c),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>L0(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const mf="2.70.0",Lr=30*1e3,Hl=3,za=Hl*Lr,U0="http://localhost:9999",z0="supabase.auth.token",M0={"X-Client-Info":`gotrue-js/${mf}`},ql="X-Supabase-Api-Version",pf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},F0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,B0=6e5;class Xo extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function U(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class W0 extends Xo{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function V0(e){return U(e)&&e.name==="AuthApiError"}class gf extends Xo{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class lr extends Xo{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Dt extends lr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function H0(e){return U(e)&&e.name==="AuthSessionMissingError"}class zs extends lr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ms extends lr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fs extends lr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function q0(e){return U(e)&&e.name==="AuthImplicitGrantRedirectError"}class ju extends lr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kl extends lr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ma(e){return U(e)&&e.name==="AuthRetryableFetchError"}class Nu extends lr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Vn extends lr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Su=` 	
\r=`.split(""),K0=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Su.length;t+=1)e[Su[t].charCodeAt(0)]=-2;for(let t=0;t<Li.length;t+=1)e[Li[t].charCodeAt(0)]=t;return e})();function Eu(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Li[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Li[n]),t.queuedBits-=6}}function yf(e,t,r){const n=K0[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Cu(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=l=>{G0(l,n,r)};for(let l=0;l<e.length;l+=1)yf(e.charCodeAt(l),s,i);return t.join("")}function J0(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Q0(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}J0(n,t)}}function G0(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Y0(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)yf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function X0(e){const t=[];return Q0(e,r=>t.push(r)),new Uint8Array(t)}function Z0(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Eu(s,r,n)),Eu(null,r,n),t.join("")}function ey(e){return Math.round(Date.now()/1e3)+e}function ty(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const it=()=>typeof window<"u"&&typeof document<"u",cr={tested:!1,writable:!1},Hn=()=>{if(!it())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cr.tested)return cr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),cr.tested=!0,cr.writable=!0}catch{cr.tested=!0,cr.writable=!1}return cr.writable};function ry(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const vf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ys(async()=>{const{default:n}=await Promise.resolve().then(()=>mn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ny=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",xf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Bs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ws=async(e,t)=>{await e.removeItem(t)};class ia{constructor(){this.promise=new ia.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ia.promiseConstructor=Promise;function Fa(e){const t=e.split(".");if(t.length!==3)throw new Vn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!F0.test(t[n]))throw new Vn("JWT not in base64url format");return{header:JSON.parse(Cu(t[0])),payload:JSON.parse(Cu(t[1])),signature:Y0(t[2]),raw:{header:t[0],payload:t[1]}}}async function sy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function iy(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){n(l);return}}catch(l){if(!t(i,l)){s(l);return}}})()})}function ay(e){return("0"+e.toString(16)).substr(-2)}function ly(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,ay).join("")}async function oy(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function cy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await oy(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Or(e,t,r=!1){const n=ly();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await xf(e,`${t}-code-verifier`,s);const i=await cy(n);return[i,n===i?"plain":"s256"]}const uy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dy(e){const t=e.headers.get(ql);if(!t||!t.match(uy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function hy(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function fy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const my=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ir(e){if(!my.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var py=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const hr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gy=[502,503,504];async function Pu(e){var t;if(!ny(e))throw new Kl(hr(e),0);if(gy.includes(e.status))throw new Kl(hr(e),e.status);let r;try{r=await e.json()}catch(i){throw new gf(hr(i),i)}let n;const s=dy(e);if(s&&s.getTime()>=pf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Nu(hr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Dt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new Nu(hr(r),e.status,r.weak_password.reasons);throw new W0(hr(r),e.status||500,n)}const yy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function F(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[ql]||(i[ql]=pf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",o=await vy(e,t,r+c,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(o):{data:Object.assign({},o),error:null}}async function vy(e,t,r,n,s,i){const l=yy(t,n,s,i);let c;try{c=await e(r,Object.assign({},l))}catch(o){throw console.error(o),new Kl(hr(o),0)}if(c.ok||await Pu(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(o){await Pu(o)}}function jt(e){var t;let r=null;by(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=ey(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Tu(e){const t=jt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Vt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function xy(e){return{data:e,error:null}}function wy(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,l=py(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},o=Object.assign({},l);return{data:{properties:c,user:o},error:null}}function _y(e){return e}function by(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ba=["global","local","others"];var ky=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class jy{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=vf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ba[0]){if(Ba.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ba.join(", ")}`);try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Vt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ky(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:wy,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(U(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Vt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,l,c,o;try{const u={nextPage:null,lastPage:0,total:0},d=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:_y});if(d.error)throw d.error;const h=await d.json(),m=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(o=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&o!==void 0?o:[];return v.length>0&&(v.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);u[`${_}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(U(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ir(t);try{return await F(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Vt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ir(t);try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Vt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ir(t);try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Vt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ir(t.userId);try{const{data:r,error:n}=await F(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(U(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ir(t.userId),Ir(t.id);try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}}const Ny={getItem:e=>Hn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Hn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Hn()&&globalThis.localStorage.removeItem(e)}};function $u(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Sy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ar={debug:!!(globalThis&&Hn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Ey extends wf{}async function Cy(e,t,r){Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ey(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ar.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Sy();const Py={url:U0,storageKey:z0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:M0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ou(e,t,r){return await r()}class ds{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ds.nextInstanceID,ds.nextInstanceID+=1,this.instanceID>0&&it()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Py),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new jy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=vf(s.fetch),this.lock=s.lock||Ou,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:it()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Cy:this.lock=Ou,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Hn()?this.storage=Ny:(this.memoryStorage={},this.storage=$u(this.memoryStorage)):(this.memoryStorage={},this.storage=$u(this.memoryStorage)),it()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${mf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=ry(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),it()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),q0(i)){const o=(t=i.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return U(r)?{error:r}:{error:new gf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:jt}),{data:l,error:c}=i;if(c||!l)return{data:{user:null,session:null},error:c};const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:m}=t;let v=null,g=null;this.flowType==="pkce"&&([v,g]=await Or(this.storage,this.storageKey)),i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:g},xform:jt})}else if("phone"in t){const{phone:d,password:h,options:m}=t;i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:jt})}else throw new Ms("You must provide either an email or phone number and a password");const{data:l,error:c}=i;if(c||!l)return{data:{user:null,session:null},error:c};const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:c}=t;r=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Tu})}else if("phone"in t){const{phone:i,password:l,options:c}=t;r=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Tu})}else throw new Ms("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new zs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,l,c,o,u,d,h,m,v;let g,x;if("message"in t)g=t.message,x=t.signature;else{const{chain:_,wallet:y,statement:f,options:p}=t;let w;if(it())if(typeof y=="object")w=y;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))w=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const b=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const N=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),f?{statement:f}:null));let C;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")C=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)C=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),x=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${b.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const N=await w.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:_,error:y}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Z0(x)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:jt});if(y)throw y;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new zs}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:y})}catch(_){if(U(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const r=await Bs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:l}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:jt});if(await Ws(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new zs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:l})}catch(i){if(U(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:l}=t,c=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:jt}),{data:o,error:u}=c;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new zs}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,l;try{if("email"in t){const{email:c,options:o}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Or(this.storage,this.storageKey));const{error:h}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(n=o==null?void 0:o.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:c,options:o}=t,{data:u,error:d}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=o==null?void 0:o.data)!==null&&s!==void 0?s:{},create_user:(i=o==null?void 0:o.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(l=o==null?void 0:o.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ms("You must provide either an email or phone number.")}catch(c){if(U(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:c}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:jt});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const o=l.session,u=l.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await Or(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:xy})}catch(i){if(U(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Dt;const{error:s}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(U(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:l}=await F(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:l,error:c}=await F(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new Ms("You must provide either an email or phone number and a type")}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Bs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<za:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(o,u,d)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(o,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Vt}):await this._useSession(async r=>{var n,s,i;const{data:l,error:c}=r;if(c)throw c;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Dt}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Vt})})}catch(r){if(U(r))return H0(r)&&(await this._removeSession(),await Ws(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Dt;const l=s.session;let c=null,o=null;this.flowType==="pkce"&&t.email!=null&&([c,o]=await Or(this.storage,this.storageKey));const{data:u,error:d}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:o}),jwt:l.access_token,xform:Vt});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Dt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:l}=Fa(t.access_token);if(l.exp&&(n=l.exp,s=n<=r),s){const{session:c,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:o}=await this._getUser(t.access_token);if(o)throw o;i={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(U(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:c}=r;if(c)throw c;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Dt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!it())throw new Fs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ju("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ju("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:l,expires_in:c,expires_at:o,token_type:u}=t;if(!i||!c||!l||!u)throw new Fs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(c);let m=d+h;o&&(m=parseInt(o));const v=m-d;v*1e3<=Lr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const g=m-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,m,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,m,d);const{data:x,error:_}=await this._getUser(i);if(_)throw _;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:l,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(U(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Bs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(V0(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Ws(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=ty(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Or(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(U(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var l,c,o,u,d;const{data:h,error:m}=i;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return it()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(U(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)throw l;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await iy(async s=>(s>0&&await sy(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:jt})),(s,i)=>{const l=200*Math.pow(2,s);return i&&Ma(i)&&Date.now()+l-n<Lr})}catch(n){if(this._debug(r,"error",n),U(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),it()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Bs(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<za;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${za}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Ma(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ia;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new Dt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={session:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(s,"error",i),U(i)){const l={session:null,error:i};return Ma(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(o){i.push(o)}});if(await Promise.all(l),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await xf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ws(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&it()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Lr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Lr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Lr}ms, refresh threshold is ${Hl} ticks`),s<=Hl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof wf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!it()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await Or(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await F(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:o,error:u}=await F(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=o==null?void 0:o.totp)===null||s===void 0)&&s.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:l,error:c}=await F(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await F(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Fa(s.access_token);let c=null;l.aal&&(c=l.aal);let o=c;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const d=l.amr||[];return{data:{currentLevel:c,nextLevel:o,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n||(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+B0>Date.now()))return n;const{data:s,error:i}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Vn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(l=>l.kid===t),!n)throw new Vn("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:v,error:g}=await this.getSession();if(g||!v.session)return{data:null,error:g};n=v.session.access_token}const{header:s,payload:i,signature:l,raw:{header:c,payload:o}}=Fa(n);if(hy(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:l},error:null}}const u=fy(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,l,X0(`${c}.${o}`)))throw new Vn("Invalid JWT signature");return{data:{claims:i,header:s,signature:l},error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}}ds.nextInstanceID=0;const Ty=ds;class $y extends Ty{constructor(t){super(t)}}var Oy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};class Iy{constructor(t,r,n){var s,i,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const c=R0(t),o=new URL(c);this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:C0,realtime:T0,auth:Object.assign(Object.assign({},P0),{storageKey:u}),global:E0},h=D0(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=A0(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Gg(new URL("rest/v1",o).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Sg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new j0(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Oy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:l,lock:c,debug:o},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $y({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:l,lock:c,debug:o,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new u0(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ay=(e,t,r)=>new Iy(e,t,r),Qe="https://kffxhyeieznadqojfkbj.supabase.co",Ut="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtmZnhoeWVpZXpuYWRxb2pma2JqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA1NjkwMjksImV4cCI6MjA2NjE0NTAyOX0.-zVC6CsgjZnYk3tXjW2QDjFItWjnVMeF18qrtjll1fM";async function _f(e,t={},r=3){const{timeout:n=3e4,...s}=t;for(let i=0;i<r;i++){let l;try{const c=new AbortController;l=setTimeout(()=>c.abort(),n);const o=await fetch(e,{...s,signal:c.signal});if(clearTimeout(l),o.ok)return o;if(o.status>=400&&o.status<500)throw new Error(`HTTP ${o.status}: ${o.statusText}`);if(i===r-1)throw new Error(`HTTP ${o.status}: ${o.statusText}`)}catch(c){if(l&&clearTimeout(l),c instanceof Error)if(c.name==="AbortError"){if(i===r-1)throw new Error(`Request timeout after ${n}ms. Please check your internet connection and try again.`)}else if(c.message.includes("Failed to fetch")){if(i===r-1)throw new Error(`Network connection failed. Please check your internet connection and ensure ${Qe} is accessible.`)}else throw c;i<r-1&&await new Promise(o=>setTimeout(o,Math.pow(2,i)*1e3))}}throw new Error("Max retries exceeded")}const ie=Ay(Qe,Ut,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}},global:{headers:{"Content-Type":"application/json"},fetch:(e,t={})=>_f(e,{...t,timeout:3e4})}}),Ly=async()=>{try{if(console.log("Testing Supabase connection..."),console.log("Supabase URL:",Qe),console.log("Supabase Key:",Ut?"Set (length: "+Ut.length+")":"Missing"),Qe.includes("your_supabase_project_url_here")||Ut.includes("your_supabase_anon_key_here"))throw new Error("Please replace the placeholder values in your .env file with your actual Supabase project URL and API key. You can find these in your Supabase Dashboard > Settings > API.");try{new URL(Qe)}catch{throw new Error("VITE_SUPABASE_URL is not a valid URL format. Please check your Supabase project URL.")}if(!Qe.includes(".supabase.co"))throw new Error("VITE_SUPABASE_URL does not appear to be a valid Supabase URL. It should look like: https://your-project-id.supabase.co");if(!Ut.startsWith("eyJ"))throw new Error('VITE_SUPABASE_ANON_KEY does not appear to be a valid Supabase API key. It should start with "eyJ" and be a JWT token.');console.log("Attempting to connect to Supabase...");try{const e=await _f(`${Qe}/rest/v1/`,{method:"GET",headers:{apikey:Ut,Authorization:`Bearer ${Ut}`,"Content-Type":"application/json",Prefer:"return=minimal"},timeout:15e3});console.log("Health check passed, testing database access...");const{data:t,error:r,count:n}=await ie.from("linkedin_profiles").select("*",{count:"exact",head:!0});if(r){if(console.error("Database access error:",r),r.code==="PGRST116")return console.log("Tables not found - this is normal for initial setup"),{success:!0,message:"Connection successful but tables need to be created",needsMigration:!0};if(r.message.includes("permission denied")||r.code==="42501")throw new Error("Permission denied. Please check your Row Level Security (RLS) policies in Supabase.");if(r.message.includes("relation")&&r.message.includes("does not exist"))return console.log("Tables not found - this is normal for initial setup"),{success:!0,message:"Connection successful but tables need to be created",needsMigration:!0};throw new Error(`Database error: ${r.message}`)}return console.log("Supabase connection successful!"),{success:!0,count:n||0,message:"Connection successful"}}catch(e){throw console.error("Connection error:",e),e instanceof Error?e.message.includes("timeout")?new Error("Connection timeout. Your Supabase project might be slow to respond or there may be network issues. Please try again or check your internet connection."):e.message.includes("Network connection failed")?new Error(`Cannot reach Supabase servers. Please check:

 Your internet connection
 Whether ${Qe} is accessible in your browser
 If you're behind a firewall or proxy that might block the connection
 If your Supabase project is active and not paused

You can test by visiting: ${Qe}`):e.message.includes("Failed to fetch")?new Error(`Network request failed. This could be due to:

 Internet connectivity issues
 CORS configuration problems
 Firewall or proxy blocking the connection
 Supabase service temporarily unavailable

Your Supabase URL: ${Qe}

Please try:
1. Refresh the page and try again
2. Check if your Supabase project is active in the dashboard
3. Verify your internet connection
4. Try accessing your Supabase project directly: ${Qe}`):e:new Error("Unknown connection error occurred.")}}catch(e){return console.error("Supabase connection test error:",e),{success:!1,error:e instanceof Error?e.message:"Unknown connection error"}}},Ry=async()=>{try{const e=new AbortController,t=setTimeout(()=>e.abort(),1e4),{data:r,error:n}=await ie.auth.getSession();if(clearTimeout(t),n&&!n.message.includes("session"))throw n;return{success:!0,message:"Basic connection successful"}}catch(e){return e instanceof Error&&e.name==="AbortError"?{success:!1,error:"Connection timeout. Please check your internet connection and try again."}:{success:!1,error:e instanceof Error?e.message:"Connection failed"}}},ze=async(e,t="database operation")=>{try{return await e()}catch(r){return console.error(`${t} failed:`,r),r instanceof Error&&(r.message.includes("Failed to fetch")||r.message.includes("timeout"))?{data:null,error:{message:`Network error during ${t}. Please check your internet connection and try again.`,code:"NETWORK_ERROR"}}:{data:null,error:{message:r instanceof Error?r.message:`Unknown error during ${t}`,code:"UNKNOWN_ERROR"}}}},Dy=({onSuccess:e,onSwitchToSignup:t,onSwitchToReset:r})=>{const[n,s]=$.useState(""),[i,l]=$.useState(""),[c,o]=$.useState(!1),[u,d]=$.useState(!1),[h,m]=$.useState(""),v=async g=>{g.preventDefault(),d(!0),m("");try{const{data:x,error:_}=await ie.auth.signInWithPassword({email:n.trim(),password:i});if(_){_.message.includes("Invalid login credentials")?m("Invalid email or password. Please check your credentials and try again."):_.message.includes("Email not confirmed")?m("Please check your email and click the confirmation link before signing in."):_.message.includes("Too many requests")?m("Too many login attempts. Please wait a few minutes before trying again."):m(_.message);return}x.user&&e()}catch(x){console.error("Login error:",x),m("An unexpected error occurred. Please try again.")}finally{d(!1)}};return a.jsxs("form",{onSubmit:v,className:"space-y-6",children:[h&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(jr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-sm text-red-700",children:h})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Nr,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",type:"email",value:n,onChange:g=>s(g.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email",required:!0,disabled:u})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(us,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",type:c?"text":"password",value:i,onChange:g=>l(g.target.value),className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your password",required:!0,disabled:u}),a.jsx("button",{type:"button",onClick:()=>o(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:u,children:c?a.jsx(tr,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):a.jsx(kt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),a.jsx("button",{type:"button",onClick:r,className:"text-sm text-blue-600 hover:text-blue-500 font-medium",disabled:u,children:"Forgot password?"})]}),a.jsx("button",{type:"submit",disabled:u||!n||!i,className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"w-4 h-4 animate-spin"}),"Signing in..."]}):"Sign In"}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Don't have an account? "}),a.jsx("button",{type:"button",onClick:t,className:"text-sm text-blue-600 hover:text-blue-500 font-medium",disabled:u,children:"Sign up"})]})]})},Uy=({onSuccess:e,onSwitchToLogin:t})=>{const[r,n]=$.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[s,i]=$.useState(!1),[l,c]=$.useState(!1),[o,u]=$.useState(!1),[d,h]=$.useState(""),[m,v]=$.useState(!1),x=(f=>{const p=f.length>=8,w=/[A-Z]/.test(f),b=/[a-z]/.test(f),N=/\d/.test(f),C=/[!@#$%^&*(),.?":{}|<>]/.test(f);return{minLength:p,hasUpperCase:w,hasLowerCase:b,hasNumbers:N,hasSpecialChar:C,isValid:p&&w&&b&&N&&C}})(r.password),_=f=>{const{name:p,value:w}=f.target;n(b=>({...b,[p]:w})),h("")},y=async f=>{if(f.preventDefault(),u(!0),h(""),!r.firstName.trim()||!r.lastName.trim()){h("Please enter your first and last name."),u(!1);return}if(!x.isValid){h("Password does not meet the security requirements."),u(!1);return}if(r.password!==r.confirmPassword){h("Passwords do not match."),u(!1);return}try{console.log("Attempting to create user account...");const{data:p,error:w}=await ie.auth.signUp({email:r.email.trim().toLowerCase(),password:r.password,options:{data:{first_name:r.firstName.trim(),last_name:r.lastName.trim(),full_name:`${r.firstName.trim()} ${r.lastName.trim()}`}}});if(w){console.error("Signup error:",w),w.message.includes("User already registered")?h("An account with this email already exists. Please sign in instead."):w.message.includes("Password should be")?h("Password does not meet the minimum requirements."):w.message.includes("Invalid email")?h("Please enter a valid email address."):w.message.includes("Database error saving new user")?h("There was a problem creating your account. This may be a temporary issue with our service. Please try again in a few moments, or contact support if the problem persists."):w.message.includes("unexpected_failure")?h("An unexpected error occurred while creating your account. Please try again, or contact support if this continues to happen."):w.message.includes("timeout")||w.message.includes("network")?h("Network connection issue. Please check your internet connection and try again."):h(`Account creation failed: ${w.message}`);return}p.user&&(console.log("User created successfully:",p.user.id),p.user.email_confirmed_at?(console.log("User confirmed immediately, proceeding to app..."),e()):(console.log("Email confirmation required"),v(!0)))}catch(p){console.error("Unexpected signup error:",p),p instanceof Error?p.message.includes("Failed to fetch")||p.message.includes("network")?h("Network connection failed. Please check your internet connection and try again."):p.message.includes("timeout")?h("Request timed out. Please try again."):h(`An unexpected error occurred: ${p.message}`):h("An unexpected error occurred. Please try again.")}finally{u(!1)}};return m?a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:a.jsx(cn,{className:"w-8 h-8 text-green-600"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Check Your Email"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:["We've sent a confirmation link to ",a.jsx("strong",{children:r.email}),". Please check your email and click the link to activate your account."]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Didn't receive the email? Check your spam folder or contact support."})]}),a.jsx("button",{onClick:t,className:"w-full py-3 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Back to Sign In"})]}):a.jsxs("form",{onSubmit:y,className:"space-y-6",children:[d&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(jr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-sm text-red-700",children:d})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(dt,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"firstName",name:"firstName",type:"text",value:r.firstName,onChange:_,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"First name",required:!0,disabled:o})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),a.jsx("input",{id:"lastName",name:"lastName",type:"text",value:r.lastName,onChange:_,className:"block w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Last name",required:!0,disabled:o})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Nr,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",value:r.email,onChange:_,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email",required:!0,disabled:o})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(us,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:s?"text":"password",value:r.password,onChange:_,className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Create a password",required:!0,disabled:o}),a.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:o,children:s?a.jsx(tr,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):a.jsx(kt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),r.password&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx("div",{className:"text-xs text-gray-600",children:"Password must contain:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:`flex items-center gap-1 ${x.minLength?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${x.minLength?"bg-green-600":"bg-gray-300"}`}),"8+ characters"]}),a.jsxs("div",{className:`flex items-center gap-1 ${x.hasUpperCase?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${x.hasUpperCase?"bg-green-600":"bg-gray-300"}`}),"Uppercase letter"]}),a.jsxs("div",{className:`flex items-center gap-1 ${x.hasLowerCase?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${x.hasLowerCase?"bg-green-600":"bg-gray-300"}`}),"Lowercase letter"]}),a.jsxs("div",{className:`flex items-center gap-1 ${x.hasNumbers?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${x.hasNumbers?"bg-green-600":"bg-gray-300"}`}),"Number"]}),a.jsxs("div",{className:`flex items-center gap-1 ${x.hasSpecialChar?"text-green-600":"text-gray-400"} col-span-2`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${x.hasSpecialChar?"bg-green-600":"bg-gray-300"}`}),"Special character (!@#$%^&*)"]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(us,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:l?"text":"password",value:r.confirmPassword,onChange:_,className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Confirm your password",required:!0,disabled:o}),a.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:o,children:l?a.jsx(tr,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):a.jsx(kt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),r.confirmPassword&&r.password!==r.confirmPassword&&a.jsx("div",{className:"mt-2 text-xs text-red-600",children:"Passwords do not match"})]}),a.jsx("button",{type:"submit",disabled:o||!x.isValid||r.password!==r.confirmPassword||!r.firstName.trim()||!r.lastName.trim(),className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"w-4 h-4 animate-spin"}),"Creating account..."]}):"Create Account"}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Already have an account? "}),a.jsx("button",{type:"button",onClick:t,className:"text-sm text-blue-600 hover:text-blue-500 font-medium",disabled:o,children:"Sign in"})]})]})},zy=({onBackToLogin:e})=>{const[t,r]=$.useState(""),[n,s]=$.useState(!1),[i,l]=$.useState(""),[c,o]=$.useState(!1),u=async d=>{d.preventDefault(),s(!0),l("");try{const{error:h}=await ie.auth.resetPasswordForEmail(t.trim(),{redirectTo:`${window.location.origin}/reset-password`});if(h){h.message.includes("Invalid email")?l("Please enter a valid email address."):h.message.includes("Email not found")?l("No account found with this email address."):l(h.message);return}o(!0)}catch(h){console.error("Password reset error:",h),l("An unexpected error occurred. Please try again.")}finally{s(!1)}};return c?a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:a.jsx(cn,{className:"w-8 h-8 text-green-600"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Check Your Email"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:["We've sent a password reset link to ",a.jsx("strong",{children:t}),". Please check your email and follow the instructions to reset your password."]}),a.jsx("p",{className:"text-sm text-gray-500",children:"The link will expire in 1 hour for security reasons."})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:e,className:"w-full py-3 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Back to Sign In"}),a.jsx("button",{onClick:()=>{o(!1),r(""),l("")},className:"w-full text-sm text-blue-600 hover:text-blue-500 font-medium",children:"Send another reset email"})]})]}):a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsx("div",{className:"text-center mb-6",children:a.jsx("p",{className:"text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."})}),i&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(jr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-sm text-red-700",children:i})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Nr,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",type:"email",value:t,onChange:d=>r(d.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email address",required:!0,disabled:n})]})]}),a.jsx("button",{type:"submit",disabled:n||!t.trim(),className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"w-4 h-4 animate-spin"}),"Sending reset link..."]}):"Send Reset Link"}),a.jsxs("button",{type:"button",onClick:e,className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",disabled:n,children:[a.jsx(Xi,{className:"w-4 h-4"}),"Back to Sign In"]})]})},My=({onAuthSuccess:e})=>{const[t,r]=$.useState("login"),n=()=>{e&&e()};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[a.jsxs("div",{className:"hidden lg:block space-y-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-blue-600 rounded-xl",children:a.jsx(Bn,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"LinkedIn Scraper"}),a.jsx("p",{className:"text-gray-600",children:"Professional Data Intelligence Platform"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Unlock Professional Insights"}),a.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"Extract valuable data from LinkedIn posts and profiles with our advanced scraping technology. Build comprehensive databases of professional contacts and market intelligence."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white rounded-lg shadow-sm border border-gray-100",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(et,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Profile Intelligence"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Extract detailed professional profiles with contact information, experience, and skills."})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white rounded-lg shadow-sm border border-gray-100",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Jh,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Secure & Compliant"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Enterprise-grade security with data protection and privacy compliance built-in."})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white rounded-lg shadow-sm border border-gray-100",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(us,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Advanced Analytics"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Export data in multiple formats and integrate with your existing CRM and marketing tools."})]})]})]})]}),a.jsxs("div",{className:"w-full max-w-md mx-auto",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"px-8 py-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:a.jsx(Bn,{className:"w-6 h-6"})})}),a.jsxs("h2",{className:"text-xl font-bold",children:[t==="login"&&"Welcome Back",t==="signup"&&"Create Account",t==="reset"&&"Reset Password"]}),a.jsxs("p",{className:"text-blue-100 text-sm mt-1",children:[t==="login"&&"Sign in to access your dashboard",t==="signup"&&"Join thousands of professionals",t==="reset"&&"We'll send you a reset link"]})]})}),a.jsxs("div",{className:"p-8",children:[t==="login"&&a.jsx(Dy,{onSuccess:n,onSwitchToSignup:()=>r("signup"),onSwitchToReset:()=>r("reset")}),t==="signup"&&a.jsx(Uy,{onSuccess:n,onSwitchToLogin:()=>r("login")}),t==="reset"&&a.jsx(zy,{onBackToLogin:()=>r("login")})]})]}),a.jsxs("div",{className:"lg:hidden mt-8 text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[a.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:a.jsx(Bn,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"LinkedIn Scraper"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Professional Data Intelligence Platform"})]})]})]})})},Fy=({user:e,onOpenProfile:t})=>{var d;const[r,n]=$.useState(!1),s=$.useRef(null);$.useEffect(()=>{const h=m=>{s.current&&!s.current.contains(m.target)&&n(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]);const i=async()=>{try{await ie.auth.signOut()}catch(h){console.error("Error signing out:",h)}},l=()=>{n(!1),t&&t()},c=()=>{var h,m,v;return(h=e==null?void 0:e.user_metadata)!=null&&h.full_name?e.user_metadata.full_name:(m=e==null?void 0:e.user_metadata)!=null&&m.first_name&&((v=e==null?void 0:e.user_metadata)!=null&&v.last_name)?`${e.user_metadata.first_name} ${e.user_metadata.last_name}`:e!=null&&e.email?e.email.split("@")[0]:"User"},o=()=>{const h=c(),m=h.split(" ");return m.length>=2?`${m[0][0]}${m[1][0]}`.toUpperCase():h.substring(0,2).toUpperCase()},u=()=>{var h;return((h=e==null?void 0:e.user_metadata)==null?void 0:h.avatar_url)||null};return a.jsxs("div",{className:"relative",ref:s,children:[a.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-blue-600 flex items-center justify-center text-white text-sm font-medium",children:u()?a.jsx("img",{src:u(),alt:"Profile",className:"w-full h-full object-cover"}):o()}),a.jsxs("div",{className:"hidden sm:block text-left",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:c()}),a.jsx("div",{className:"text-xs text-gray-500",children:e==null?void 0:e.email})]}),a.jsx(ag,{className:`w-4 h-4 text-gray-400 transition-transform ${r?"rotate-180":""}`})]}),r&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-blue-600 flex items-center justify-center text-white font-medium",children:u()?a.jsx("img",{src:u(),alt:"Profile",className:"w-full h-full object-cover"}):o()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:c()}),a.jsx("div",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.email}),((d=e==null?void 0:e.user_metadata)==null?void 0:d.job_title)&&a.jsx("div",{className:"text-xs text-gray-400 truncate",children:e.user_metadata.job_title})]})]})}),a.jsx("div",{className:"py-2",children:a.jsxs("button",{onClick:l,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[a.jsx(dt,{className:"w-4 h-4"}),"View Profile"]})}),a.jsx("div",{className:"border-t border-gray-100 pt-2",children:a.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[a.jsx(og,{className:"w-4 h-4"}),"Sign Out"]})})]})]})},By=({user:e,onBack:t})=>{const[r,n]=$.useState("profile"),[s,i]=$.useState(!1),[l,c]=$.useState(!1),[o,u]=$.useState(!1),[d,h]=$.useState(!1),[m,v]=$.useState(null),[g,x]=$.useState({current:!1,new:!1,confirm:!1}),[_,y]=$.useState({firstName:"",lastName:"",email:"",profileImage:"",bio:"",company:"",jobTitle:"",location:"",website:"",phone:""}),[f,p]=$.useState({currentPassword:"",newPassword:"",confirmPassword:""});$.useEffect(()=>{w()},[e]);const w=async()=>{var k,E,H,q,Z,P,A,R,W;c(!0);try{const Q={firstName:((k=e==null?void 0:e.user_metadata)==null?void 0:k.first_name)||"",lastName:((E=e==null?void 0:e.user_metadata)==null?void 0:E.last_name)||"",email:(e==null?void 0:e.email)||"",profileImage:((H=e==null?void 0:e.user_metadata)==null?void 0:H.avatar_url)||"",bio:((q=e==null?void 0:e.user_metadata)==null?void 0:q.bio)||"",company:((Z=e==null?void 0:e.user_metadata)==null?void 0:Z.company)||"",jobTitle:((P=e==null?void 0:e.user_metadata)==null?void 0:P.job_title)||"",location:((A=e==null?void 0:e.user_metadata)==null?void 0:A.location)||"",website:((R=e==null?void 0:e.user_metadata)==null?void 0:R.website)||"",phone:((W=e==null?void 0:e.user_metadata)==null?void 0:W.phone)||""};y(Q)}catch(Q){console.error("Error loading profile:",Q),v({type:"error",text:"Failed to load profile data"})}finally{c(!1)}},b=(k,E)=>{y(H=>({...H,[k]:E}))},N=(k,E)=>{p(H=>({...H,[k]:E}))},C=async k=>{var H;const E=(H=k.target.files)==null?void 0:H[0];if(E){if(!E.type.startsWith("image/")){v({type:"error",text:"Please select a valid image file"});return}if(E.size>5*1024*1024){v({type:"error",text:"Image size must be less than 5MB"});return}h(!0);try{const q=new FileReader;q.onloadend=()=>{const Z=q.result;y(P=>({...P,profileImage:Z})),h(!1)},q.onerror=()=>{v({type:"error",text:"Failed to process image"}),h(!1)},q.readAsDataURL(E)}catch(q){console.error("Error uploading image:",q),v({type:"error",text:"Failed to upload image"}),h(!1)}}},O=async()=>{u(!0),v(null);try{const{error:k}=await ie.auth.updateUser({email:_.email,data:{first_name:_.firstName,last_name:_.lastName,full_name:`${_.firstName} ${_.lastName}`,avatar_url:_.profileImage,bio:_.bio,company:_.company,job_title:_.jobTitle,location:_.location,website:_.website,phone:_.phone}});if(k)throw k;v({type:"success",text:"Profile updated successfully!"}),i(!1)}catch(k){console.error("Error updating profile:",k),v({type:"error",text:k instanceof Error?k.message:"Failed to update profile"})}finally{u(!1)}},M=k=>{const E=k.length>=8,H=/[A-Z]/.test(k),q=/[a-z]/.test(k),Z=/\d/.test(k),P=/[!@#$%^&*(),.?":{}|<>]/.test(k);return{minLength:E,hasUpperCase:H,hasLowerCase:q,hasNumbers:Z,hasSpecialChar:P,isValid:E&&H&&q&&Z&&P}},D=async()=>{if(u(!0),v(null),!f.currentPassword){v({type:"error",text:"Please enter your current password"}),u(!1);return}if(!M(f.newPassword).isValid){v({type:"error",text:"New password does not meet security requirements"}),u(!1);return}if(f.newPassword!==f.confirmPassword){v({type:"error",text:"New passwords do not match"}),u(!1);return}try{const{error:E}=await ie.auth.updateUser({password:f.newPassword});if(E)throw E;v({type:"success",text:"Password changed successfully!"}),p({currentPassword:"",newPassword:"",confirmPassword:""})}catch(E){console.error("Error changing password:",E),v({type:"error",text:E instanceof Error?E.message:"Failed to change password"})}finally{u(!1)}},ue=()=>{var q,Z;const k=_.firstName||((q=e==null?void 0:e.user_metadata)==null?void 0:q.first_name)||"",E=_.lastName||((Z=e==null?void 0:e.user_metadata)==null?void 0:Z.last_name)||"";return k&&E?`${k[0]}${E[0]}`.toUpperCase():(_.email||(e==null?void 0:e.email)||"").substring(0,2).toUpperCase()},j=M(f.newPassword);return l?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ut,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),a.jsx("div",{className:"text-gray-600",children:"Loading profile..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Xi,{className:"w-5 h-5 text-gray-600"})}),a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Profile Settings"})]}),r==="profile"&&a.jsx("div",{className:"flex gap-3",children:s?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{i(!1),w()},className:"px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:O,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o?a.jsx(ut,{className:"w-4 h-4 animate-spin"}):a.jsx(ug,{className:"w-4 h-4"}),o?"Saving...":"Save Changes"]})]}):a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(cg,{className:"w-4 h-4"}),"Edit Profile"]})})]})})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m&&a.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center gap-3 ${m.type==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[m.type==="success"?a.jsx(cn,{className:"w-5 h-5"}):a.jsx(jr,{className:"w-5 h-5"}),a.jsx("span",{children:m.text}),a.jsx("button",{onClick:()=>v(null),className:"ml-auto hover:opacity-70",children:a.jsx(Ko,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"flex",children:[a.jsxs("button",{onClick:()=>n("profile"),className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors ${r==="profile"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[a.jsx(dt,{className:"w-5 h-5"}),"Profile Information"]}),a.jsxs("button",{onClick:()=>n("security"),className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors ${r==="security"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[a.jsx(Jh,{className:"w-5 h-5"}),"Security"]})]})}),a.jsxs("div",{className:"p-8",children:[r==="profile"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center",children:_.profileImage?a.jsx("img",{src:_.profileImage,alt:"Profile",className:"w-full h-full object-cover"}):a.jsx("div",{className:"text-2xl font-bold text-gray-600",children:ue()})}),s&&a.jsxs("label",{className:"absolute bottom-0 right-0 p-2 bg-blue-600 text-white rounded-full cursor-pointer hover:bg-blue-700 transition-colors",children:[d?a.jsx(ut,{className:"w-4 h-4 animate-spin"}):a.jsx(ig,{className:"w-4 h-4"}),a.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"hidden",disabled:d})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[_.firstName," ",_.lastName]}),a.jsx("p",{className:"text-gray-600",children:_.email}),_.jobTitle&&a.jsx("p",{className:"text-sm text-gray-500",children:_.jobTitle})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),a.jsx("input",{type:"text",value:_.firstName,onChange:k=>b("firstName",k.target.value),disabled:!s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),a.jsx("input",{type:"text",value:_.lastName,onChange:k=>b("lastName",k.target.value),disabled:!s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:_.email,onChange:k=>b("email",k.target.value),disabled:!s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Title"}),a.jsx("input",{type:"text",value:_.jobTitle,onChange:k=>b("jobTitle",k.target.value),disabled:!s,placeholder:"e.g. Software Engineer",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),a.jsx("input",{type:"text",value:_.company,onChange:k=>b("company",k.target.value),disabled:!s,placeholder:"e.g. Acme Corp",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),a.jsx("input",{type:"text",value:_.location,onChange:k=>b("location",k.target.value),disabled:!s,placeholder:"e.g. San Francisco, CA",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:_.phone,onChange:k=>b("phone",k.target.value),disabled:!s,placeholder:"e.g. +1 (555) 123-4567",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),a.jsx("input",{type:"url",value:_.website,onChange:k=>b("website",k.target.value),disabled:!s,placeholder:"e.g. https://yourwebsite.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),a.jsx("textarea",{value:_.bio,onChange:k=>b("bio",k.target.value),disabled:!s,rows:4,placeholder:"Tell us about yourself...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors resize-none"})]})]})]}),r==="security"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),a.jsxs("div",{className:"space-y-6 max-w-md",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:g.current?"text":"password",value:f.currentPassword,onChange:k=>N("currentPassword",k.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter current password"}),a.jsx("button",{type:"button",onClick:()=>x(k=>({...k,current:!k.current})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g.current?a.jsx(tr,{className:"w-5 h-5"}):a.jsx(kt,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:g.new?"text":"password",value:f.newPassword,onChange:k=>N("newPassword",k.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter new password"}),a.jsx("button",{type:"button",onClick:()=>x(k=>({...k,new:!k.new})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g.new?a.jsx(tr,{className:"w-5 h-5"}):a.jsx(kt,{className:"w-5 h-5"})})]}),f.newPassword&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx("div",{className:"text-xs text-gray-600",children:"Password must contain:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:`flex items-center gap-1 ${j.minLength?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${j.minLength?"bg-green-600":"bg-gray-300"}`}),"8+ characters"]}),a.jsxs("div",{className:`flex items-center gap-1 ${j.hasUpperCase?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${j.hasUpperCase?"bg-green-600":"bg-gray-300"}`}),"Uppercase letter"]}),a.jsxs("div",{className:`flex items-center gap-1 ${j.hasLowerCase?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${j.hasLowerCase?"bg-green-600":"bg-gray-300"}`}),"Lowercase letter"]}),a.jsxs("div",{className:`flex items-center gap-1 ${j.hasNumbers?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${j.hasNumbers?"bg-green-600":"bg-gray-300"}`}),"Number"]}),a.jsxs("div",{className:`flex items-center gap-1 ${j.hasSpecialChar?"text-green-600":"text-gray-400"} col-span-2`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${j.hasSpecialChar?"bg-green-600":"bg-gray-300"}`}),"Special character (!@#$%^&*)"]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:g.confirm?"text":"password",value:f.confirmPassword,onChange:k=>N("confirmPassword",k.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Confirm new password"}),a.jsx("button",{type:"button",onClick:()=>x(k=>({...k,confirm:!k.confirm})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g.confirm?a.jsx(tr,{className:"w-5 h-5"}):a.jsx(kt,{className:"w-5 h-5"})})]}),f.confirmPassword&&f.newPassword!==f.confirmPassword&&a.jsx("div",{className:"mt-2 text-xs text-red-600",children:"Passwords do not match"})]}),a.jsxs("button",{onClick:D,disabled:o||!f.currentPassword||!j.isValid||f.newPassword!==f.confirmPassword,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o?a.jsx(ut,{className:"w-4 h-4 animate-spin"}):a.jsx(us,{className:"w-4 h-4"}),o?"Changing Password...":"Change Password"]})]})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Information"}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Account Created"}),a.jsx("div",{className:"text-sm text-gray-600",children:e!=null&&e.created_at?new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown"})]})}),a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Last Sign In"}),a.jsx("div",{className:"text-sm text-gray-600",children:e!=null&&e.last_sign_in_at?new Date(e.last_sign_in_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown"})]})}),a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Email Verified"}),a.jsx("div",{className:"text-sm text-gray-600",children:e!=null&&e.email_confirmed_at?a.jsx("span",{className:"text-green-600",children:" Verified"}):a.jsx("span",{className:"text-amber-600",children:" Not verified"})})]})})]})]})]})]})]})]})]})},Vs="apify_api_rnhPTyldo3eNqS4AKEakAFzuPXSoPl1qjK2j",Hs="https://api.apify.com/v2";async function qs(e,t={},r=3){for(let n=0;n<r;n++)try{const s=new AbortController,i=setTimeout(()=>s.abort(),6e4),l=await fetch(e,{...t,signal:s.signal});if(clearTimeout(i),l.ok)return l;if(l.status>=400&&l.status<500)throw new Error(`Apify API error ${l.status}: ${l.statusText}`);if(n===r-1)throw new Error(`Apify API error ${l.status}: ${l.statusText}`)}catch(s){if(s instanceof Error)if(s.name==="AbortError"){if(n===r-1)throw new Error("Apify API request timeout. The service may be slow to respond. Please try again.")}else if(s.message.includes("Failed to fetch")){if(n===r-1)throw new Error("Cannot reach Apify API. Please check your internet connection and try again.")}else throw s;n<r-1&&await new Promise(i=>setTimeout(i,Math.pow(2,n)*1e3))}throw new Error("Max retries exceeded for Apify API call")}const vt={async scrapePostComments(e){try{const r=await(await qs(`${Hs}/acts/ZI6ykbLlGS3APaPE8/runs`,{method:"POST",headers:{Authorization:`Bearer ${Vs}`,"Content-Type":"application/json"},body:JSON.stringify({posts:[e]})})).json();return await this.waitForRunCompletion(r.data.id),r.data.defaultDatasetId}catch(t){throw console.error("Error scraping post comments:",t),t instanceof Error?new Error(`Failed to scrape post comments: ${t.message}`):new Error("Failed to scrape post comments: Unknown error")}},async scrapeProfiles(e){try{const r=await(await qs(`${Hs}/acts/2SyF0bVxmgGr8IVCZ/runs`,{method:"POST",headers:{Authorization:`Bearer ${Vs}`,"Content-Type":"application/json"},body:JSON.stringify({profileUrls:e})})).json();return await this.waitForRunCompletion(r.data.id),r.data.defaultDatasetId}catch(t){throw console.error("Error scraping profiles:",t),t instanceof Error?new Error(`Failed to scrape profiles: ${t.message}`):new Error("Failed to scrape profiles: Unknown error")}},async waitForRunCompletion(e){const n=Date.now();for(;Date.now()-n<6e5;)try{const s=await this.checkRunStatus(e);if(s==="SUCCEEDED")return;if(s==="FAILED"||s==="ABORTED")throw new Error(`Apify run ${s.toLowerCase()}`);await new Promise(i=>setTimeout(i,5e3))}catch(s){if(console.error("Error checking run status:",s),Date.now()-n>=595e3)throw s;await new Promise(i=>setTimeout(i,5e3))}throw new Error("Apify run timed out after 10 minutes")},async getDatasetItems(e){try{return await(await qs(`${Hs}/datasets/${e}/items`,{headers:{Authorization:`Bearer ${Vs}`}})).json()}catch(t){throw console.error("Error fetching dataset items:",t),t instanceof Error?new Error(`Failed to fetch dataset items: ${t.message}`):new Error("Failed to fetch dataset items: Unknown error")}},async checkRunStatus(e){try{return(await(await qs(`${Hs}/actor-runs/${e}`,{headers:{Authorization:`Bearer ${Vs}`}})).json()).data.status}catch(t){throw console.error("Error checking run status:",t),t instanceof Error?new Error(`Failed to check run status: ${t.message}`):new Error("Failed to check run status: Unknown error")}}},Wa=(e,t,r="linkedin_data",n)=>{let s=e;switch(t){case"csv":Iu(s,r);break;case"json":Wy(s,r);break;case"xlsx":Iu(s,r);break;default:console.error("Unsupported export format:",t)}},Iu=(e,t)=>{if(e.length===0)return;const r=e.map(i=>{var c,o,u,d,h,m,v,g,x,_,y,f,p,w,b,N,C,O,M,D,ue,j,k,E,H,q,Z,P,A,R;const l=i.profile_data||{};return{id:i.id,linkedin_url:i.linkedin_url||l.linkedinUrl,public_identifier:l.publicIdentifier||"",first_name:l.firstName||"",last_name:l.lastName||"",full_name:l.fullName||`${l.firstName||""} ${l.lastName||""}`.trim(),headline:l.headline||"",about:l.about||"",address_with_country:l.addressWithCountry||"",address_country_only:l.addressCountryOnly||"",address_without_country:l.addressWithoutCountry||"",connections:l.connections||0,followers:l.followers||0,job_title:l.jobTitle||"",company_name:l.companyName||"",company_industry:l.companyIndustry||"",company_website:l.companyWebsite||"",company_linkedin:l.companyLinkedin||"",company_founded_in:l.companyFoundedIn||"",company_size:l.companySize||"",current_job_duration:l.currentJobDuration||"",current_job_duration_years:l.currentJobDurationInYrs||0,email:l.email||"",mobile_number:l.mobileNumber||"",profile_pic:l.profilePic||"",profile_pic_high_quality:l.profilePicHighQuality||"",creator_website_name:((c=l.creatorWebsite)==null?void 0:c.name)||"",creator_website_link:((o=l.creatorWebsite)==null?void 0:o.link)||"",experience_count:((u=l.experiences)==null?void 0:u.length)||0,education_count:((d=l.educations)==null?void 0:d.length)||0,skills_count:((h=l.skills)==null?void 0:h.length)||0,certifications_count:((m=l.licenseAndCertificates)==null?void 0:m.length)||0,publications_count:((v=l.publications)==null?void 0:v.length)||0,volunteer_count:((g=l.volunteerAndAwards)==null?void 0:g.length)||0,top_skills:((x=l.skills)==null?void 0:x.slice(0,10).map(W=>W.title).join("; "))||"",latest_experience_title:((y=(_=l.experiences)==null?void 0:_[0])==null?void 0:y.title)||"",latest_experience_company:((w=(p=(f=l.experiences)==null?void 0:f[0])==null?void 0:p.subtitle)==null?void 0:w.split("  ")[0])||"",latest_experience_duration:((N=(b=l.experiences)==null?void 0:b[0])==null?void 0:N.caption)||"",latest_experience_location:((O=(C=l.experiences)==null?void 0:C[0])==null?void 0:O.metadata)||"",latest_education_school:((D=(M=l.educations)==null?void 0:M[0])==null?void 0:D.title)||"",latest_education_degree:((j=(ue=l.educations)==null?void 0:ue[0])==null?void 0:j.subtitle)||"",latest_education_period:((E=(k=l.educations)==null?void 0:k[0])==null?void 0:E.caption)||"",latest_certification:((q=(H=l.licenseAndCertificates)==null?void 0:H[0])==null?void 0:q.title)||"",latest_certification_issuer:((P=(Z=l.licenseAndCertificates)==null?void 0:Z[0])==null?void 0:P.subtitle)||"",latest_certification_date:((R=(A=l.licenseAndCertificates)==null?void 0:A[0])==null?void 0:R.caption)||"",open_connection:l.openConnection||!1,urn:l.urn||"",top_skills_by_endorsements:l.topSkillsByEndorsements||"",last_updated:i.last_updated||"",created_at:i.created_at||""}}),n=Object.keys(r[0]),s=[n.join(","),...r.map(i=>n.map(l=>{const c=i[l];return typeof c=="string"&&(c.includes(",")||c.includes('"')||c.includes(`
`))?`"${c.replace(/"/g,'""')}"`:c}).join(","))].join(`
`);bf(s,`${t}.csv`,"text/csv")},Wy=(e,t)=>{const r=JSON.stringify(e,null,2);bf(r,`${t}.json`,"application/json")},bf=(e,t,r)=>{const n=new Blob([e],{type:r}),s=URL.createObjectURL(n),i=document.createElement("a");i.href=s,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)},Sn=async e=>{try{if(e.startsWith("data:image/"))return e;const t=await fetch(e,{mode:"cors",headers:{Accept:"image/*"}});if(!t.ok)return console.warn(`Failed to fetch image: ${t.status}`),null;const r=await t.blob();return new Promise(n=>{const s=new FileReader;s.onloadend=()=>{n(s.result)},s.onerror=()=>{console.warn("Failed to convert image to base64"),n(null)},s.readAsDataURL(r)})}catch(t){return console.warn("Error converting image to base64:",t),null}},Va=async e=>{const t={...e};if(e.profilePic&&!e.profilePic.startsWith("data:image/")){const r=await Sn(e.profilePic);r&&(t.profilePic=r)}if(e.profilePicHighQuality&&!e.profilePicHighQuality.startsWith("data:image/")){const r=await Sn(e.profilePicHighQuality);r&&(t.profilePicHighQuality=r)}return e.experiences&&Array.isArray(e.experiences)&&(t.experiences=await Promise.all(e.experiences.map(async r=>{if(r.logo&&!r.logo.startsWith("data:image/")){const n=await Sn(r.logo);if(n)return{...r,logo:n}}return r}))),e.educations&&Array.isArray(e.educations)&&(t.educations=await Promise.all(e.educations.map(async r=>{if(r.logo&&!r.logo.startsWith("data:image/")){const n=await Sn(r.logo);if(n)return{...r,logo:n}}return r}))),e.licenseAndCertificates&&Array.isArray(e.licenseAndCertificates)&&(t.licenseAndCertificates=await Promise.all(e.licenseAndCertificates.map(async r=>{if(r.logo&&!r.logo.startsWith("data:image/")){const n=await Sn(r.logo);if(n)return{...r,logo:n}}return r}))),t};function Vy(){const[e,t]=$.useState(null),[r,n]=$.useState(!0),[s,i]=$.useState([]),[l,c]=$.useState([]),[o,u]=$.useState([]),[d,h]=$.useState([]),[m,v]=$.useState(null),[g,x]=$.useState(!1),[_,y]=$.useState(!1),[f,p]=$.useState("scraper"),[w,b]=$.useState("form"),[N,C]=$.useState("form"),[O,M]=$.useState(""),[D,ue]=$.useState(!1),[j,k]=$.useState(navigator.onLine),[E,H]=$.useState("starting"),[q,Z]=$.useState(0),[P,A]=$.useState(""),[R,W]=$.useState(""),[Q,pt]=$.useState("post_comments");$.useEffect(()=>{qe();const T=()=>{k(!0),console.log("Connection restored"),O&&tc()},L=()=>{k(!1),console.log("Connection lost"),M("No internet connection. Please check your network and try again.")};return window.addEventListener("online",T),window.addEventListener("offline",L),()=>{window.removeEventListener("online",T),window.removeEventListener("offline",L)}},[]),$.useEffect(()=>{e&&j&&gt()},[e,j]);const qe=async()=>{try{const{data:{session:T},error:L}=await ie.auth.getSession();L?console.error("Error getting session:",L):t((T==null?void 0:T.user)??null);const{data:{subscription:K}}=ie.auth.onAuthStateChange(async(se,ee)=>{var de;console.log("Auth state changed:",se,(de=ee==null?void 0:ee.user)==null?void 0:de.email),t((ee==null?void 0:ee.user)??null),se==="SIGNED_OUT"&&(i([]),c([]),u([]),h([]),v(null),p("scraper"),b("form"),M(""))});return()=>{K.unsubscribe()}}catch(T){console.error("Auth initialization error:",T)}finally{n(!1)}},gt=async()=>{if(!j){M("No internet connection. Please check your network and try again.");return}const T=await Ly();if(!T.success){M(T.error||"Failed to connect to Supabase");return}await fe()},fe=async()=>{try{M("");const T=await ze(()=>ie.from("linkedin_profiles").select("*").order("last_updated",{ascending:!1}).limit(100),"loading profiles");if(T.error)if(console.error("Profiles error:",T.error),T.error.code==="PGRST116"||T.error.message&&T.error.message.includes("does not exist"))console.log("Tables not found - this is normal for initial setup"),i([]);else throw T.error.code==="NETWORK_ERROR"?new Error(T.error.message):new Error(`Failed to load profiles: ${T.error.message}`);else i(T.data||[]);const L=await ze(()=>ie.from("scraping_jobs").select("*").order("created_at",{ascending:!1}).limit(50),"loading jobs");if(L.error)if(console.error("Jobs error:",L.error),L.error.code==="PGRST116"||L.error.message&&L.error.message.includes("does not exist"))console.log("Jobs table not found - this is normal for initial setup"),c([]);else throw L.error.code==="NETWORK_ERROR"?new Error(L.error.message):new Error(`Failed to load jobs: ${L.error.message}`);else c(L.data||[])}catch(T){console.error("Error loading data:",T);let L="Unknown error occurred while loading data";T instanceof Error?L=T.message:typeof T=="string"&&(L=T),M(L)}},G=(T,L=0,K="")=>{H(T),Z(L),A(K)},ws=async(T,L)=>{if(!j){alert("Cannot start scraping: No internet connection. Please check your network and try again.");return}if(O){alert("Cannot start scraping: Database connection error. Please check your Supabase configuration.");return}x(!0),pt(T),W(""),G("starting",0,"Initializing scraping process...");try{const K=await ze(()=>ie.from("scraping_jobs").insert({job_type:T,input_url:L,status:"running"}).select().single(),"creating job record");if(K.error)throw new Error(`Failed to create job record: ${K.error.message}`);const se=K.data;if(await fe(),T==="post_comments"){G("scraping_comments",25,"Extracting comments from LinkedIn post...");const ee=await vt.scrapePostComments(L);G("saving_data",75,"Processing comment data...");const de=await vt.getDatasetItems(ee);u(de),b("comments"),G("completed",100,"Comments extracted successfully!"),await ze(()=>ie.from("scraping_jobs").update({status:"completed",results_count:de.length,completed_at:new Date().toISOString()}).eq("id",se.id),"updating job status")}else if(T==="profile_details"){G("scraping_profiles",25,"Gathering detailed profile information...");const ee=await Pr([L]);G("saving_data",75,"Saving profile data..."),h(ee),C("form"),b("profile-table"),G("completed",100,"Profile details scraped successfully!"),await ze(()=>ie.from("scraping_jobs").update({status:"completed",results_count:ee.length,completed_at:new Date().toISOString()}).eq("id",se.id),"updating job status")}else if(T==="mixed"){G("scraping_comments",20,"Extracting comments from LinkedIn post...");const ee=await vt.scrapePostComments(L),de=await vt.getDatasetItems(ee);G("extracting_profiles",40,"Extracting profile URLs from comments...");const Ke=de.map(Je=>{var or;return(or=Je.actor)==null?void 0:or.linkedinUrl}).filter(Boolean).slice(0,50);if(Ke.length>0){G("scraping_profiles",60,`Scraping ${Ke.length} profile details...`);const Je=await Pr(Ke);G("saving_data",85,"Saving all data..."),h(Je),C("form"),b("profile-table")}G("completed",100,"Mixed scraping completed successfully!"),await ze(()=>ie.from("scraping_jobs").update({status:"completed",results_count:Ke.length,completed_at:new Date().toISOString()}).eq("id",se.id),"updating job status")}await fe()}catch(K){console.error("Scraping error:",K);let se="Unknown error occurred";K instanceof Error&&(se=K.message,se.includes("Failed to fetch")||se.includes("Network")?se="Network connection failed. Please check your internet connection and try again.":se.includes("timeout")&&(se="Request timed out. The service may be slow to respond. Please try again.")),W(se),G("error",0,"Scraping failed");const ee=await ze(()=>ie.from("scraping_jobs").select("id").eq("input_url",L).eq("status","running").order("created_at",{ascending:!1}).limit(1),"finding job to update");ee.data&&ee.data.length>0&&await ze(()=>ie.from("scraping_jobs").update({status:"failed",error_message:se,completed_at:new Date().toISOString()}).eq("id",ee.data[0].id),"updating failed job status"),await fe()}finally{x(!1)}},Pr=async T=>{const L=await ze(()=>ie.from("linkedin_profiles").select("*").in("linkedin_url",T),"checking existing profiles"),K=new Map;L.data&&L.data.forEach(de=>{K.set(de.linkedin_url,de.profile_data)});const se=T.filter(de=>!K.has(de)),ee=[];if(T.forEach(de=>{K.has(de)&&ee.push(K.get(de))}),se.length>0){const de=await vt.scrapeProfiles(se),Ke=await vt.getDatasetItems(de);for(let Je=0;Je<Ke.length;Je++){const or=Ke[Je],rc=or.linkedinUrl;if(rc){G("saving_data",80+Je/Ke.length*15,`Converting images for profile ${Je+1}/${Ke.length}...`);const nc=await Va(or);await ze(()=>ie.from("linkedin_profiles").upsert({linkedin_url:rc,profile_data:nc,last_updated:new Date().toISOString()},{onConflict:"linkedin_url"}),"saving profile data"),ee.push(nc)}}}return ee},gn=async T=>{if(!j){alert("Cannot start scraping: No internet connection. Please check your network and try again.");return}x(!0),pt("profile_details"),W(""),G("scraping_profiles",25,`Scraping ${T.length} selected profiles...`);try{const L=await Pr(T);G("saving_data",75,"Processing profile data..."),h(L),C("comments"),b("profile-table"),G("completed",100,"Selected profiles scraped successfully!"),await fe()}catch(L){console.error("Error scraping selected profiles:",L);let K="Unknown error occurred";L instanceof Error&&(K=L.message,(K.includes("Failed to fetch")||K.includes("Network"))&&(K="Network connection failed. Please check your internet connection and try again.")),W(K),G("error",0,"Failed to scrape selected profiles")}finally{x(!1)}},aa=async T=>{try{const L=await vt.scrapeProfiles([T]),K=await vt.getDatasetItems(L);if(K.length>0){const se=K[0],ee=se.linkedinUrl,de=await Va(se);await ze(()=>ie.from("linkedin_profiles").upsert({linkedin_url:ee,profile_data:de,last_updated:new Date().toISOString()},{onConflict:"linkedin_url"}),"updating profile")}await fe()}catch(L){throw console.error("Error updating profile:",L),L}},la=async T=>{if(!j){alert("Cannot update profiles: No internet connection. Please check your network and try again.");return}y(!0);try{for(let K=0;K<T.length;K+=5){const se=T.slice(K,K+5),ee=await vt.scrapeProfiles(se),de=await vt.getDatasetItems(ee);for(const Ke of de){const Je=Ke.linkedinUrl;if(Je){const or=await Va(Ke);await ze(()=>ie.from("linkedin_profiles").upsert({linkedin_url:Je,profile_data:or,last_updated:new Date().toISOString()},{onConflict:"linkedin_url"}),"updating profile in batch")}}}await fe()}catch(L){console.error("Error updating selected profiles:",L)}finally{y(!1)}},kf=async T=>{try{const L=await ze(()=>ie.from("linkedin_profiles").delete().in("id",T),"deleting profiles");if(L.error)throw new Error(L.error.message);await fe()}catch(L){console.error("Error deleting profiles:",L)}},jf=(T,L=!1)=>{L?Wa(s,T,"linkedin_profiles_selected"):Wa(s,T,"linkedin_profiles")},Nf=T=>{Wa(d.map(L=>({profile_data:L})),T,"profile_results")},Sf=()=>{b("form"),u([]),h([]),v(null),C("form"),H("starting"),Z(0),A(""),W("")},Zo=()=>{N==="comments"?b("comments"):N==="profiles-list"?(b("profiles-list"),p("profiles")):b(N==="profile-table"?"profile-table":"form")},ec=T=>{f==="profiles"?(C("profiles-list"),v(T),b("single-profile-details")):(C(w),h([T]),b("profile-details"))},Ef=()=>{b("profiles-list"),v(null)},Cf=()=>{b("user-profile")},Pf=()=>{b("form"),p("scraper")},oa=async T=>{p(T),T==="profiles"?(b("profiles-list"),j&&!O&&await fe()):(T==="scraper"||T==="jobs")&&b("form")},tc=async()=>{ue(!0),M("");try{if(!j)throw new Error("No internet connection. Please check your network and try again.");(await Ry()).success?await gt():await gt()}catch(T){console.error("Retry failed:",T),M(T instanceof Error?T.message:"Retry failed")}finally{ue(!1)}};return r?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:a.jsx(Bn,{className:"w-8 h-8 text-blue-600"})}),a.jsx("div",{className:"text-lg font-medium text-gray-900 mb-2",children:"LinkedIn Scraper"}),a.jsx("div",{className:"text-gray-600",children:"Loading..."})]})}):e?w==="user-profile"?a.jsx(By,{user:e,onBack:Pf}):O?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:j?a.jsx(jr,{className:"w-6 h-6 text-red-600"}):a.jsx(Ra,{className:"w-6 h-6 text-red-600"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:j?"Connection Issue":"No Internet Connection"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-600",children:j?"There was an issue connecting to the database:":"You appear to be offline. Please check your internet connection."}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Error Details:"}),a.jsx("pre",{className:"text-sm text-red-600 whitespace-pre-wrap font-mono bg-white p-3 rounded border overflow-auto max-h-40",children:O})]}),j&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"This could be due to:"}),a.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-600 space-y-1",children:[a.jsx("li",{children:"Network connectivity issues"}),a.jsx("li",{children:"Supabase project configuration"}),a.jsx("li",{children:"Database tables not yet created (normal for first setup)"}),a.jsx("li",{children:"Temporary service interruption"}),a.jsx("li",{children:"Firewall or proxy blocking the connection"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:tc,disabled:D||!j,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:D?a.jsxs(a.Fragment,{children:[a.jsx(Oi,{className:"w-4 h-4 animate-spin"}),"Retrying..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Oi,{className:"w-4 h-4"}),j?"Retry Connection":"Check Connection"]})}),j&&a.jsx("button",{onClick:()=>window.open("https://supabase.com/dashboard","_blank"),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Open Supabase Dashboard"})]}),a.jsx("div",{className:"flex items-center justify-center gap-2 text-sm",children:j?a.jsxs(a.Fragment,{children:[a.jsx(pu,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-green-600",children:"Internet Connected"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ra,{className:"w-4 h-4 text-red-600"}),a.jsx("span",{className:"text-red-600",children:"No Internet Connection"})]})})]})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Bn,{className:"w-6 h-6 text-blue-600"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"LinkedIn Scraper"}),a.jsx("div",{className:"flex items-center gap-1",children:j?a.jsx(pu,{className:"w-4 h-4 text-green-600"}):a.jsx(Ra,{className:"w-4 h-4 text-red-600"})})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("nav",{className:"flex space-x-1",children:[a.jsxs("button",{onClick:()=>oa("scraper"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f==="scraper"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[a.jsx(Us,{className:"w-4 h-4 inline mr-2"}),"Scraper"]}),a.jsxs("button",{onClick:()=>oa("profiles"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f==="profiles"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[a.jsx(fu,{className:"w-4 h-4 inline mr-2"}),"Profiles (",s.length,")"]}),a.jsxs("button",{onClick:()=>oa("jobs"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f==="jobs"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[a.jsx(Us,{className:"w-4 h-4 inline mr-2"}),"Jobs (",l.length,")"]})]}),a.jsx(Fy,{user:e,onOpenProfile:Cf})]})]})})}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f==="scraper"&&a.jsxs("div",{className:"space-y-8",children:[w==="form"&&a.jsxs(a.Fragment,{children:[a.jsx(mg,{onScrape:ws,isLoading:g}),g&&a.jsx(Qh,{type:Q,stage:E,progress:q,message:P,error:R}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(fu,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Profiles"})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Us,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.filter(T=>T.status==="completed").length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Completed Jobs"})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(Us,{className:"w-5 h-5 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.filter(T=>T.status==="running").length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Running Jobs"})]})]})})]})]}),w==="comments"&&a.jsx(yg,{comments:o,onScrapeSelectedProfiles:gn,isLoading:g,onBack:Sf,loadingStage:E,loadingProgress:q,loadingMessage:P,loadingError:R}),w==="profile-table"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(vg,{profiles:d,onViewDetails:ec,onExport:Nf,showActions:!1}),a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{onClick:Zo,className:"px-6 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:N==="comments"?"Back to Comments":"Back to Scraper"})})]}),w==="profile-details"&&a.jsx(gu,{profiles:d,onBack:Zo})]}),f==="profiles"&&a.jsx(a.Fragment,{children:w==="single-profile-details"?a.jsx(gu,{profiles:m?[m]:[],onBack:Ef}):a.jsx(pg,{profiles:s,onUpdateProfile:aa,onUpdateSelectedProfiles:la,onDeleteSelectedProfiles:kf,onExport:jf,onViewDetails:ec,isUpdating:_})}),f==="jobs"&&a.jsx(gg,{jobs:l})]})]}):a.jsx(My,{onAuthSuccess:()=>{}})}qh(document.getElementById("root")).render(a.jsx($.StrictMode,{children:a.jsx(Vy,{})}));
