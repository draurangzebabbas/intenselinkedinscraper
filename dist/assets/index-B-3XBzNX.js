(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Df(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Wu={exports:{}},Ji={},Vu={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _s=Symbol.for("react.element"),zf=Symbol.for("react.portal"),Mf=Symbol.for("react.fragment"),Ff=Symbol.for("react.strict_mode"),Bf=Symbol.for("react.profiler"),Wf=Symbol.for("react.provider"),Vf=Symbol.for("react.context"),Hf=Symbol.for("react.forward_ref"),qf=Symbol.for("react.suspense"),Kf=Symbol.for("react.memo"),Jf=Symbol.for("react.lazy"),uc=Symbol.iterator;function Qf(t){return t===null||typeof t!="object"?null:(t=uc&&t[uc]||t["@@iterator"],typeof t=="function"?t:null)}var Hu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qu=Object.assign,Ku={};function wn(t,e,r){this.props=t,this.context=e,this.refs=Ku,this.updater=r||Hu}wn.prototype.isReactComponent={};wn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ju(){}Ju.prototype=wn.prototype;function ro(t,e,r){this.props=t,this.context=e,this.refs=Ku,this.updater=r||Hu}var no=ro.prototype=new Ju;no.constructor=ro;qu(no,wn.prototype);no.isPureReactComponent=!0;var dc=Array.isArray,Qu=Object.prototype.hasOwnProperty,so={current:null},Gu={key:!0,ref:!0,__self:!0,__source:!0};function Yu(t,e,r){var n,s={},i=null,l=null;if(e!=null)for(n in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)Qu.call(e,n)&&!Gu.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:_s,type:t,key:i,ref:l,props:s,_owner:so.current}}function Gf(t,e){return{$$typeof:_s,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function io(t){return typeof t=="object"&&t!==null&&t.$$typeof===_s}function Yf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var hc=/\/+/g;function va(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Yf(""+t.key):e.toString(36)}function li(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case _s:case zf:l=!0}}if(l)return l=t,s=s(l),t=n===""?"."+va(l,0):n,dc(s)?(r="",t!=null&&(r=t.replace(hc,"$&/")+"/"),li(s,e,r,"",function(u){return u})):s!=null&&(io(s)&&(s=Gf(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(hc,"$&/")+"/")+t)),e.push(s)),1;if(l=0,n=n===""?".":n+":",dc(t))for(var o=0;o<t.length;o++){i=t[o];var c=n+va(i,o);l+=li(i,e,r,c,s)}else if(c=Qf(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=n+va(i,o++),l+=li(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Us(t,e,r){if(t==null)return t;var n=[],s=0;return li(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Xf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Oe={current:null},oi={transition:null},Zf={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:oi,ReactCurrentOwner:so};function Xu(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:Us,forEach:function(t,e,r){Us(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Us(t,function(){e++}),e},toArray:function(t){return Us(t,function(e){return e})||[]},only:function(t){if(!io(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Y.Component=wn;Y.Fragment=Mf;Y.Profiler=Bf;Y.PureComponent=ro;Y.StrictMode=Ff;Y.Suspense=qf;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zf;Y.act=Xu;Y.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=qu({},t.props),s=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=so.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)Qu.call(e,c)&&!Gu.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:_s,type:t.type,key:s,ref:i,props:n,_owner:l}};Y.createContext=function(t){return t={$$typeof:Vf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Wf,_context:t},t.Consumer=t};Y.createElement=Yu;Y.createFactory=function(t){var e=Yu.bind(null,t);return e.type=t,e};Y.createRef=function(){return{current:null}};Y.forwardRef=function(t){return{$$typeof:Hf,render:t}};Y.isValidElement=io;Y.lazy=function(t){return{$$typeof:Jf,_payload:{_status:-1,_result:t},_init:Xf}};Y.memo=function(t,e){return{$$typeof:Kf,type:t,compare:e===void 0?null:e}};Y.startTransition=function(t){var e=oi.transition;oi.transition={};try{t()}finally{oi.transition=e}};Y.unstable_act=Xu;Y.useCallback=function(t,e){return Oe.current.useCallback(t,e)};Y.useContext=function(t){return Oe.current.useContext(t)};Y.useDebugValue=function(){};Y.useDeferredValue=function(t){return Oe.current.useDeferredValue(t)};Y.useEffect=function(t,e){return Oe.current.useEffect(t,e)};Y.useId=function(){return Oe.current.useId()};Y.useImperativeHandle=function(t,e,r){return Oe.current.useImperativeHandle(t,e,r)};Y.useInsertionEffect=function(t,e){return Oe.current.useInsertionEffect(t,e)};Y.useLayoutEffect=function(t,e){return Oe.current.useLayoutEffect(t,e)};Y.useMemo=function(t,e){return Oe.current.useMemo(t,e)};Y.useReducer=function(t,e,r){return Oe.current.useReducer(t,e,r)};Y.useRef=function(t){return Oe.current.useRef(t)};Y.useState=function(t){return Oe.current.useState(t)};Y.useSyncExternalStore=function(t,e,r){return Oe.current.useSyncExternalStore(t,e,r)};Y.useTransition=function(){return Oe.current.useTransition()};Y.version="18.3.1";Vu.exports=Y;var P=Vu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em=P,tm=Symbol.for("react.element"),rm=Symbol.for("react.fragment"),nm=Object.prototype.hasOwnProperty,sm=em.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,im={key:!0,ref:!0,__self:!0,__source:!0};function Zu(t,e,r){var n,s={},i=null,l=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(n in e)nm.call(e,n)&&!im.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:tm,type:t,key:i,ref:l,props:s,_owner:sm.current}}Ji.Fragment=rm;Ji.jsx=Zu;Ji.jsxs=Zu;Wu.exports=Ji;var a=Wu.exports,ed={exports:{}},Qe={},td={exports:{}},rd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,F){var k=A.length;A.push(F);e:for(;0<k;){var O=k-1>>>1,S=A[O];if(0<s(S,F))A[O]=F,A[k]=S,k=O;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var F=A[0],k=A.pop();if(k!==F){A[0]=k;e:for(var O=0,S=A.length,_=S>>>1;O<_;){var U=2*(O+1)-1,re=A[U],ge=U+1,K=A[ge];if(0>s(re,k))ge<S&&0>s(K,re)?(A[O]=K,A[ge]=k,O=ge):(A[O]=re,A[U]=k,O=U);else if(ge<S&&0>s(K,k))A[O]=K,A[ge]=k,O=ge;else break e}}return F}function s(A,F){var k=A.sortIndex-F.sortIndex;return k!==0?k:A.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,h=null,m=3,y=!1,x=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(A){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=A)n(u),F.sortIndex=F.expirationTime,e(c,F);else break;F=r(u)}}function v(A){if(w=!1,p(A),!x)if(r(c)!==null)x=!0,Z(j);else{var F=r(u);F!==null&&ue(v,F.startTime-A)}}function j(A,F){x=!1,w&&(w=!1,g(L),L=-1),y=!0;var k=m;try{for(p(F),h=r(c);h!==null&&(!(h.expirationTime>F)||A&&!I());){var O=h.callback;if(typeof O=="function"){h.callback=null,m=h.priorityLevel;var S=O(h.expirationTime<=F);F=t.unstable_now(),typeof S=="function"?h.callback=S:h===r(c)&&n(c),p(F)}else n(c);h=r(c)}if(h!==null)var _=!0;else{var U=r(u);U!==null&&ue(v,U.startTime-F),_=!1}return _}finally{h=null,m=k,y=!1}}var N=!1,E=null,L=-1,X=5,B=-1;function I(){return!(t.unstable_now()-B<X)}function $(){if(E!==null){var A=t.unstable_now();B=A;var F=!0;try{F=E(!0,A)}finally{F?T():(N=!1,E=null)}}else N=!1}var T;if(typeof f=="function")T=function(){f($)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ie=W.port2;W.port1.onmessage=$,T=function(){ie.postMessage(null)}}else T=function(){b($,0)};function Z(A){E=A,N||(N=!0,T())}function ue(A,F){L=b(function(){A(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,Z(j))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(A){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var k=m;m=F;try{return A()}finally{m=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,F){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var k=m;m=A;try{return F()}finally{m=k}},t.unstable_scheduleCallback=function(A,F,k){var O=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?O+k:O):k=O,A){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=k+S,A={id:d++,callback:F,priorityLevel:A,startTime:k,expirationTime:S,sortIndex:-1},k>O?(A.sortIndex=k,e(u,A),r(c)===null&&A===r(u)&&(w?(g(L),L=-1):w=!0,ue(v,k-O))):(A.sortIndex=S,e(c,A),x||y||(x=!0,Z(j))),A},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(A){var F=m;return function(){var k=m;m=F;try{return A.apply(this,arguments)}finally{m=k}}}})(rd);td.exports=rd;var am=td.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm=P,Je=am;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nd=new Set,ns={};function Ir(t,e){cn(t,e),cn(t+"Capture",e)}function cn(t,e){for(ns[t]=e,t=0;t<e.length;t++)nd.add(e[t])}var Ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xa=Object.prototype.hasOwnProperty,om=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fc={},mc={};function cm(t){return Xa.call(mc,t)?!0:Xa.call(fc,t)?!1:om.test(t)?mc[t]=!0:(fc[t]=!0,!1)}function um(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dm(t,e,r,n){if(e===null||typeof e>"u"||um(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Le(t,e,r,n,s,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Se[t]=new Le(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Se[e]=new Le(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Se[t]=new Le(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Se[t]=new Le(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Se[t]=new Le(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Se[t]=new Le(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Se[t]=new Le(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Se[t]=new Le(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Se[t]=new Le(t,5,!1,t.toLowerCase(),null,!1,!1)});var ao=/[\-:]([a-z])/g;function lo(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ao,lo);Se[e]=new Le(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ao,lo);Se[e]=new Le(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ao,lo);Se[e]=new Le(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Se[t]=new Le(t,1,!1,t.toLowerCase(),null,!1,!1)});Se.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Se[t]=new Le(t,1,!1,t.toLowerCase(),null,!0,!0)});function oo(t,e,r,n){var s=Se.hasOwnProperty(e)?Se[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dm(e,r,s,n)&&(r=null),n||s===null?cm(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var zt=lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ds=Symbol.for("react.element"),Br=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),co=Symbol.for("react.strict_mode"),Za=Symbol.for("react.profiler"),sd=Symbol.for("react.provider"),id=Symbol.for("react.context"),uo=Symbol.for("react.forward_ref"),el=Symbol.for("react.suspense"),tl=Symbol.for("react.suspense_list"),ho=Symbol.for("react.memo"),Ht=Symbol.for("react.lazy"),ad=Symbol.for("react.offscreen"),pc=Symbol.iterator;function Cn(t){return t===null||typeof t!="object"?null:(t=pc&&t[pc]||t["@@iterator"],typeof t=="function"?t:null)}var me=Object.assign,wa;function Dn(t){if(wa===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);wa=e&&e[1]||""}return`
`+wa+t}var ba=!1;function ka(t,e){if(!t||ba)return"";ba=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var c=`
`+s[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=o);break}}}finally{ba=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Dn(t):""}function hm(t){switch(t.tag){case 5:return Dn(t.type);case 16:return Dn("Lazy");case 13:return Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 2:case 15:return t=ka(t.type,!1),t;case 11:return t=ka(t.type.render,!1),t;case 1:return t=ka(t.type,!0),t;default:return""}}function rl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wr:return"Fragment";case Br:return"Portal";case Za:return"Profiler";case co:return"StrictMode";case el:return"Suspense";case tl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case id:return(t.displayName||"Context")+".Consumer";case sd:return(t._context.displayName||"Context")+".Provider";case uo:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ho:return e=t.displayName||null,e!==null?e:rl(t.type)||"Memo";case Ht:e=t._payload,t=t._init;try{return rl(t(e))}catch{}}return null}function fm(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rl(e);case 8:return e===co?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function or(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ld(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mm(t){var e=ld(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zs(t){t._valueTracker||(t._valueTracker=mm(t))}function od(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=ld(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nl(t,e){var r=e.checked;return me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function gc(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=or(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cd(t,e){e=e.checked,e!=null&&oo(t,"checked",e,!1)}function sl(t,e){cd(t,e);var r=or(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?il(t,e.type,r):e.hasOwnProperty("defaultValue")&&il(t,e.type,or(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yc(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function il(t,e,r){(e!=="number"||vi(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var zn=Array.isArray;function en(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+or(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function al(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xc(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(C(92));if(zn(r)){if(1<r.length)throw Error(C(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:or(r)}}function ud(t,e){var r=or(e.value),n=or(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function vc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ll(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ms,hd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ms=Ms||document.createElement("div"),Ms.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ms.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ss(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pm=["Webkit","ms","Moz","O"];Object.keys(Wn).forEach(function(t){pm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wn[e]=Wn[t]})});function fd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Wn.hasOwnProperty(t)&&Wn[t]?(""+e).trim():e+"px"}function md(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=fd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var gm=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ol(t,e){if(e){if(gm[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function cl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ul=null;function fo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dl=null,tn=null,rn=null;function wc(t){if(t=Es(t)){if(typeof dl!="function")throw Error(C(280));var e=t.stateNode;e&&(e=Zi(e),dl(t.stateNode,t.type,e))}}function pd(t){tn?rn?rn.push(t):rn=[t]:tn=t}function gd(){if(tn){var t=tn,e=rn;if(rn=tn=null,wc(t),e)for(t=0;t<e.length;t++)wc(e[t])}}function yd(t,e){return t(e)}function xd(){}var ja=!1;function vd(t,e,r){if(ja)return t(e,r);ja=!0;try{return yd(t,e,r)}finally{ja=!1,(tn!==null||rn!==null)&&(xd(),gd())}}function is(t,e){var r=t.stateNode;if(r===null)return null;var n=Zi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(C(231,e,typeof r));return r}var hl=!1;if(Ot)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){hl=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{hl=!1}function ym(t,e,r,n,s,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Vn=!1,wi=null,bi=!1,fl=null,xm={onError:function(t){Vn=!0,wi=t}};function vm(t,e,r,n,s,i,l,o,c){Vn=!1,wi=null,ym.apply(xm,arguments)}function wm(t,e,r,n,s,i,l,o,c){if(vm.apply(this,arguments),Vn){if(Vn){var u=wi;Vn=!1,wi=null}else throw Error(C(198));bi||(bi=!0,fl=u)}}function $r(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function wd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bc(t){if($r(t)!==t)throw Error(C(188))}function bm(t){var e=t.alternate;if(!e){if(e=$r(t),e===null)throw Error(C(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return bc(s),t;if(i===n)return bc(s),e;i=i.sibling}throw Error(C(188))}if(r.return!==n.return)r=s,n=i;else{for(var l=!1,o=s.child;o;){if(o===r){l=!0,r=s,n=i;break}if(o===n){l=!0,n=s,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=s;break}if(o===n){l=!0,n=i,r=s;break}o=o.sibling}if(!l)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?t:e}function bd(t){return t=bm(t),t!==null?kd(t):null}function kd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kd(t);if(e!==null)return e;t=t.sibling}return null}var jd=Je.unstable_scheduleCallback,kc=Je.unstable_cancelCallback,km=Je.unstable_shouldYield,jm=Je.unstable_requestPaint,ye=Je.unstable_now,_m=Je.unstable_getCurrentPriorityLevel,mo=Je.unstable_ImmediatePriority,_d=Je.unstable_UserBlockingPriority,ki=Je.unstable_NormalPriority,Nm=Je.unstable_LowPriority,Nd=Je.unstable_IdlePriority,Qi=null,bt=null;function Sm(t){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Qi,t,void 0,(t.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:Cm,Em=Math.log,Pm=Math.LN2;function Cm(t){return t>>>=0,t===0?32:31-(Em(t)/Pm|0)|0}var Fs=64,Bs=4194304;function Mn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ji(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,l=r&268435455;if(l!==0){var o=l&~s;o!==0?n=Mn(o):(i&=l,i!==0&&(n=Mn(i)))}else l=r&~s,l!==0?n=Mn(l):i!==0&&(n=Mn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-mt(e),s=1<<r,n|=t[r],e&=~s;return n}function Tm(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Am(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-mt(i),o=1<<l,c=s[l];c===-1?(!(o&r)||o&n)&&(s[l]=Tm(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}}function ml(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Sd(){var t=Fs;return Fs<<=1,!(Fs&4194240)&&(Fs=64),t}function _a(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ns(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mt(e),t[e]=r}function Im(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-mt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function po(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-mt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var se=0;function Ed(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Pd,go,Cd,Td,Ad,pl=!1,Ws=[],Zt=null,er=null,tr=null,as=new Map,ls=new Map,Jt=[],$m="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jc(t,e){switch(t){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":as.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ls.delete(e.pointerId)}}function An(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Es(e),e!==null&&go(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Om(t,e,r,n,s){switch(e){case"focusin":return Zt=An(Zt,t,e,r,n,s),!0;case"dragenter":return er=An(er,t,e,r,n,s),!0;case"mouseover":return tr=An(tr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return as.set(i,An(as.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ls.set(i,An(ls.get(i)||null,t,e,r,n,s)),!0}return!1}function Id(t){var e=br(t.target);if(e!==null){var r=$r(e);if(r!==null){if(e=r.tag,e===13){if(e=wd(r),e!==null){t.blockedOn=e,Ad(t.priority,function(){Cd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ci(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=gl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ul=n,r.target.dispatchEvent(n),ul=null}else return e=Es(r),e!==null&&go(e),t.blockedOn=r,!1;e.shift()}return!0}function _c(t,e,r){ci(t)&&r.delete(e)}function Lm(){pl=!1,Zt!==null&&ci(Zt)&&(Zt=null),er!==null&&ci(er)&&(er=null),tr!==null&&ci(tr)&&(tr=null),as.forEach(_c),ls.forEach(_c)}function In(t,e){t.blockedOn===e&&(t.blockedOn=null,pl||(pl=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,Lm)))}function os(t){function e(s){return In(s,t)}if(0<Ws.length){In(Ws[0],t);for(var r=1;r<Ws.length;r++){var n=Ws[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Zt!==null&&In(Zt,t),er!==null&&In(er,t),tr!==null&&In(tr,t),as.forEach(e),ls.forEach(e),r=0;r<Jt.length;r++)n=Jt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Jt.length&&(r=Jt[0],r.blockedOn===null);)Id(r),r.blockedOn===null&&Jt.shift()}var nn=zt.ReactCurrentBatchConfig,_i=!0;function Rm(t,e,r,n){var s=se,i=nn.transition;nn.transition=null;try{se=1,yo(t,e,r,n)}finally{se=s,nn.transition=i}}function Um(t,e,r,n){var s=se,i=nn.transition;nn.transition=null;try{se=4,yo(t,e,r,n)}finally{se=s,nn.transition=i}}function yo(t,e,r,n){if(_i){var s=gl(t,e,r,n);if(s===null)Oa(t,e,n,Ni,r),jc(t,n);else if(Om(s,t,e,r,n))n.stopPropagation();else if(jc(t,n),e&4&&-1<$m.indexOf(t)){for(;s!==null;){var i=Es(s);if(i!==null&&Pd(i),i=gl(t,e,r,n),i===null&&Oa(t,e,n,Ni,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Oa(t,e,n,null,r)}}var Ni=null;function gl(t,e,r,n){if(Ni=null,t=fo(n),t=br(t),t!==null)if(e=$r(t),e===null)t=null;else if(r=e.tag,r===13){if(t=wd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ni=t,null}function $d(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_m()){case mo:return 1;case _d:return 4;case ki:case Nm:return 16;case Nd:return 536870912;default:return 16}default:return 16}}var Yt=null,xo=null,ui=null;function Od(){if(ui)return ui;var t,e=xo,r=e.length,n,s="value"in Yt?Yt.value:Yt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var l=r-t;for(n=1;n<=l&&e[r-n]===s[i-n];n++);return ui=s.slice(t,1<n?1-n:void 0)}function di(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vs(){return!0}function Nc(){return!1}function Ge(t){function e(r,n,s,i,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vs:Nc,this.isPropagationStopped=Nc,this}return me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),e}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vo=Ge(bn),Ss=me({},bn,{view:0,detail:0}),Dm=Ge(Ss),Na,Sa,$n,Gi=me({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$n&&($n&&t.type==="mousemove"?(Na=t.screenX-$n.screenX,Sa=t.screenY-$n.screenY):Sa=Na=0,$n=t),Na)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),Sc=Ge(Gi),zm=me({},Gi,{dataTransfer:0}),Mm=Ge(zm),Fm=me({},Ss,{relatedTarget:0}),Ea=Ge(Fm),Bm=me({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Wm=Ge(Bm),Vm=me({},bn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hm=Ge(Vm),qm=me({},bn,{data:0}),Ec=Ge(qm),Km={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qm[t])?!!e[t]:!1}function wo(){return Gm}var Ym=me({},Ss,{key:function(t){if(t.key){var e=Km[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=di(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wo,charCode:function(t){return t.type==="keypress"?di(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?di(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xm=Ge(Ym),Zm=me({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pc=Ge(Zm),ep=me({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wo}),tp=Ge(ep),rp=me({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),np=Ge(rp),sp=me({},Gi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ip=Ge(sp),ap=[9,13,27,32],bo=Ot&&"CompositionEvent"in window,Hn=null;Ot&&"documentMode"in document&&(Hn=document.documentMode);var lp=Ot&&"TextEvent"in window&&!Hn,Ld=Ot&&(!bo||Hn&&8<Hn&&11>=Hn),Cc=" ",Tc=!1;function Rd(t,e){switch(t){case"keyup":return ap.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ud(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vr=!1;function op(t,e){switch(t){case"compositionend":return Ud(e);case"keypress":return e.which!==32?null:(Tc=!0,Cc);case"textInput":return t=e.data,t===Cc&&Tc?null:t;default:return null}}function cp(t,e){if(Vr)return t==="compositionend"||!bo&&Rd(t,e)?(t=Od(),ui=xo=Yt=null,Vr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ld&&e.locale!=="ko"?null:e.data;default:return null}}var up={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ac(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!up[t.type]:e==="textarea"}function Dd(t,e,r,n){pd(n),e=Si(e,"onChange"),0<e.length&&(r=new vo("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var qn=null,cs=null;function dp(t){Qd(t,0)}function Yi(t){var e=Kr(t);if(od(e))return t}function hp(t,e){if(t==="change")return e}var zd=!1;if(Ot){var Pa;if(Ot){var Ca="oninput"in document;if(!Ca){var Ic=document.createElement("div");Ic.setAttribute("oninput","return;"),Ca=typeof Ic.oninput=="function"}Pa=Ca}else Pa=!1;zd=Pa&&(!document.documentMode||9<document.documentMode)}function $c(){qn&&(qn.detachEvent("onpropertychange",Md),cs=qn=null)}function Md(t){if(t.propertyName==="value"&&Yi(cs)){var e=[];Dd(e,cs,t,fo(t)),vd(dp,e)}}function fp(t,e,r){t==="focusin"?($c(),qn=e,cs=r,qn.attachEvent("onpropertychange",Md)):t==="focusout"&&$c()}function mp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yi(cs)}function pp(t,e){if(t==="click")return Yi(e)}function gp(t,e){if(t==="input"||t==="change")return Yi(e)}function yp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yt=typeof Object.is=="function"?Object.is:yp;function us(t,e){if(yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Xa.call(e,s)||!yt(t[s],e[s]))return!1}return!0}function Oc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lc(t,e){var r=Oc(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Oc(r)}}function Fd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Fd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Bd(){for(var t=window,e=vi();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=vi(t.document)}return e}function ko(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xp(t){var e=Bd(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Fd(r.ownerDocument.documentElement,r)){if(n!==null&&ko(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Lc(r,i);var l=Lc(r,n);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vp=Ot&&"documentMode"in document&&11>=document.documentMode,Hr=null,yl=null,Kn=null,xl=!1;function Rc(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xl||Hr==null||Hr!==vi(n)||(n=Hr,"selectionStart"in n&&ko(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Kn&&us(Kn,n)||(Kn=n,n=Si(yl,"onSelect"),0<n.length&&(e=new vo("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Hr)))}function Hs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var qr={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionend:Hs("Transition","TransitionEnd")},Ta={},Wd={};Ot&&(Wd=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function Xi(t){if(Ta[t])return Ta[t];if(!qr[t])return t;var e=qr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Wd)return Ta[t]=e[r];return t}var Vd=Xi("animationend"),Hd=Xi("animationiteration"),qd=Xi("animationstart"),Kd=Xi("transitionend"),Jd=new Map,Uc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ur(t,e){Jd.set(t,e),Ir(e,[t])}for(var Aa=0;Aa<Uc.length;Aa++){var Ia=Uc[Aa],wp=Ia.toLowerCase(),bp=Ia[0].toUpperCase()+Ia.slice(1);ur(wp,"on"+bp)}ur(Vd,"onAnimationEnd");ur(Hd,"onAnimationIteration");ur(qd,"onAnimationStart");ur("dblclick","onDoubleClick");ur("focusin","onFocus");ur("focusout","onBlur");ur(Kd,"onTransitionEnd");cn("onMouseEnter",["mouseout","mouseover"]);cn("onMouseLeave",["mouseout","mouseover"]);cn("onPointerEnter",["pointerout","pointerover"]);cn("onPointerLeave",["pointerout","pointerover"]);Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fn));function Dc(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,wm(n,e,void 0,t),t.currentTarget=null}function Qd(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Dc(s,o,u),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Dc(s,o,u),i=c}}}if(bi)throw t=fl,bi=!1,fl=null,t}function oe(t,e){var r=e[jl];r===void 0&&(r=e[jl]=new Set);var n=t+"__bubble";r.has(n)||(Gd(e,t,2,!1),r.add(n))}function $a(t,e,r){var n=0;e&&(n|=4),Gd(r,t,n,e)}var qs="_reactListening"+Math.random().toString(36).slice(2);function ds(t){if(!t[qs]){t[qs]=!0,nd.forEach(function(r){r!=="selectionchange"&&(kp.has(r)||$a(r,!1,t),$a(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qs]||(e[qs]=!0,$a("selectionchange",!1,e))}}function Gd(t,e,r,n){switch($d(e)){case 1:var s=Rm;break;case 4:s=Um;break;default:s=yo}r=s.bind(null,e,r,t),s=void 0,!hl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Oa(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=br(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}vd(function(){var u=i,d=fo(r),h=[];e:{var m=Jd.get(t);if(m!==void 0){var y=vo,x=t;switch(t){case"keypress":if(di(r)===0)break e;case"keydown":case"keyup":y=Xm;break;case"focusin":x="focus",y=Ea;break;case"focusout":x="blur",y=Ea;break;case"beforeblur":case"afterblur":y=Ea;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Mm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=tp;break;case Vd:case Hd:case qd:y=Wm;break;case Kd:y=np;break;case"scroll":y=Dm;break;case"wheel":y=ip;break;case"copy":case"cut":case"paste":y=Hm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Pc}var w=(e&4)!==0,b=!w&&t==="scroll",g=w?m!==null?m+"Capture":null:m;w=[];for(var f=u,p;f!==null;){p=f;var v=p.stateNode;if(p.tag===5&&v!==null&&(p=v,g!==null&&(v=is(f,g),v!=null&&w.push(hs(f,v,p)))),b)break;f=f.return}0<w.length&&(m=new y(m,x,null,r,d),h.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&r!==ul&&(x=r.relatedTarget||r.fromElement)&&(br(x)||x[Lt]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(x=r.relatedTarget||r.toElement,y=u,x=x?br(x):null,x!==null&&(b=$r(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(w=Sc,v="onMouseLeave",g="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(w=Pc,v="onPointerLeave",g="onPointerEnter",f="pointer"),b=y==null?m:Kr(y),p=x==null?m:Kr(x),m=new w(v,f+"leave",y,r,d),m.target=b,m.relatedTarget=p,v=null,br(d)===u&&(w=new w(g,f+"enter",x,r,d),w.target=p,w.relatedTarget=b,v=w),b=v,y&&x)t:{for(w=y,g=x,f=0,p=w;p;p=Rr(p))f++;for(p=0,v=g;v;v=Rr(v))p++;for(;0<f-p;)w=Rr(w),f--;for(;0<p-f;)g=Rr(g),p--;for(;f--;){if(w===g||g!==null&&w===g.alternate)break t;w=Rr(w),g=Rr(g)}w=null}else w=null;y!==null&&zc(h,m,y,w,!1),x!==null&&b!==null&&zc(h,b,x,w,!0)}}e:{if(m=u?Kr(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var j=hp;else if(Ac(m))if(zd)j=gp;else{j=mp;var N=fp}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=pp);if(j&&(j=j(t,u))){Dd(h,j,r,d);break e}N&&N(t,m,u),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&il(m,"number",m.value)}switch(N=u?Kr(u):window,t){case"focusin":(Ac(N)||N.contentEditable==="true")&&(Hr=N,yl=u,Kn=null);break;case"focusout":Kn=yl=Hr=null;break;case"mousedown":xl=!0;break;case"contextmenu":case"mouseup":case"dragend":xl=!1,Rc(h,r,d);break;case"selectionchange":if(vp)break;case"keydown":case"keyup":Rc(h,r,d)}var E;if(bo)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Vr?Rd(t,r)&&(L="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(Ld&&r.locale!=="ko"&&(Vr||L!=="onCompositionStart"?L==="onCompositionEnd"&&Vr&&(E=Od()):(Yt=d,xo="value"in Yt?Yt.value:Yt.textContent,Vr=!0)),N=Si(u,L),0<N.length&&(L=new Ec(L,t,null,r,d),h.push({event:L,listeners:N}),E?L.data=E:(E=Ud(r),E!==null&&(L.data=E)))),(E=lp?op(t,r):cp(t,r))&&(u=Si(u,"onBeforeInput"),0<u.length&&(d=new Ec("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=E))}Qd(h,e)})}function hs(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Si(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=is(t,r),i!=null&&n.unshift(hs(t,i,s)),i=is(t,e),i!=null&&n.push(hs(t,i,s))),t=t.return}return n}function Rr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zc(t,e,r,n,s){for(var i=e._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,s?(c=is(r,i),c!=null&&l.unshift(hs(r,c,o))):s||(c=is(r,i),c!=null&&l.push(hs(r,c,o)))),r=r.return}l.length!==0&&t.push({event:e,listeners:l})}var jp=/\r\n?/g,_p=/\u0000|\uFFFD/g;function Mc(t){return(typeof t=="string"?t:""+t).replace(jp,`
`).replace(_p,"")}function Ks(t,e,r){if(e=Mc(e),Mc(t)!==e&&r)throw Error(C(425))}function Ei(){}var vl=null,wl=null;function bl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kl=typeof setTimeout=="function"?setTimeout:void 0,Np=typeof clearTimeout=="function"?clearTimeout:void 0,Fc=typeof Promise=="function"?Promise:void 0,Sp=typeof queueMicrotask=="function"?queueMicrotask:typeof Fc<"u"?function(t){return Fc.resolve(null).then(t).catch(Ep)}:kl;function Ep(t){setTimeout(function(){throw t})}function La(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),os(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);os(e)}function rr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var kn=Math.random().toString(36).slice(2),wt="__reactFiber$"+kn,fs="__reactProps$"+kn,Lt="__reactContainer$"+kn,jl="__reactEvents$"+kn,Pp="__reactListeners$"+kn,Cp="__reactHandles$"+kn;function br(t){var e=t[wt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Lt]||r[wt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Bc(t);t!==null;){if(r=t[wt])return r;t=Bc(t)}return e}t=r,r=t.parentNode}return null}function Es(t){return t=t[wt]||t[Lt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Kr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function Zi(t){return t[fs]||null}var _l=[],Jr=-1;function dr(t){return{current:t}}function ce(t){0>Jr||(t.current=_l[Jr],_l[Jr]=null,Jr--)}function le(t,e){Jr++,_l[Jr]=t.current,t.current=e}var cr={},Te=dr(cr),Fe=dr(!1),Er=cr;function un(t,e){var r=t.type.contextTypes;if(!r)return cr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Be(t){return t=t.childContextTypes,t!=null}function Pi(){ce(Fe),ce(Te)}function Wc(t,e,r){if(Te.current!==cr)throw Error(C(168));le(Te,e),le(Fe,r)}function Yd(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(C(108,fm(t)||"Unknown",s));return me({},r,n)}function Ci(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cr,Er=Te.current,le(Te,t),le(Fe,Fe.current),!0}function Vc(t,e,r){var n=t.stateNode;if(!n)throw Error(C(169));r?(t=Yd(t,e,Er),n.__reactInternalMemoizedMergedChildContext=t,ce(Fe),ce(Te),le(Te,t)):ce(Fe),le(Fe,r)}var Pt=null,ea=!1,Ra=!1;function Xd(t){Pt===null?Pt=[t]:Pt.push(t)}function Tp(t){ea=!0,Xd(t)}function hr(){if(!Ra&&Pt!==null){Ra=!0;var t=0,e=se;try{var r=Pt;for(se=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Pt=null,ea=!1}catch(s){throw Pt!==null&&(Pt=Pt.slice(t+1)),jd(mo,hr),s}finally{se=e,Ra=!1}}return null}var Qr=[],Gr=0,Ti=null,Ai=0,Xe=[],Ze=0,Pr=null,Ct=1,Tt="";function yr(t,e){Qr[Gr++]=Ai,Qr[Gr++]=Ti,Ti=t,Ai=e}function Zd(t,e,r){Xe[Ze++]=Ct,Xe[Ze++]=Tt,Xe[Ze++]=Pr,Pr=t;var n=Ct;t=Tt;var s=32-mt(n)-1;n&=~(1<<s),r+=1;var i=32-mt(e)+s;if(30<i){var l=s-s%5;i=(n&(1<<l)-1).toString(32),n>>=l,s-=l,Ct=1<<32-mt(e)+s|r<<s|n,Tt=i+t}else Ct=1<<i|r<<s|n,Tt=t}function jo(t){t.return!==null&&(yr(t,1),Zd(t,1,0))}function _o(t){for(;t===Ti;)Ti=Qr[--Gr],Qr[Gr]=null,Ai=Qr[--Gr],Qr[Gr]=null;for(;t===Pr;)Pr=Xe[--Ze],Xe[Ze]=null,Tt=Xe[--Ze],Xe[Ze]=null,Ct=Xe[--Ze],Xe[Ze]=null}var Ke=null,He=null,de=!1,ht=null;function eh(t,e){var r=tt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Hc(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ke=t,He=rr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ke=t,He=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Pr!==null?{id:Ct,overflow:Tt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=tt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ke=t,He=null,!0):!1;default:return!1}}function Nl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sl(t){if(de){var e=He;if(e){var r=e;if(!Hc(t,e)){if(Nl(t))throw Error(C(418));e=rr(r.nextSibling);var n=Ke;e&&Hc(t,e)?eh(n,r):(t.flags=t.flags&-4097|2,de=!1,Ke=t)}}else{if(Nl(t))throw Error(C(418));t.flags=t.flags&-4097|2,de=!1,Ke=t}}}function qc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ke=t}function Js(t){if(t!==Ke)return!1;if(!de)return qc(t),de=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bl(t.type,t.memoizedProps)),e&&(e=He)){if(Nl(t))throw th(),Error(C(418));for(;e;)eh(t,e),e=rr(e.nextSibling)}if(qc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){He=rr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}He=null}}else He=Ke?rr(t.stateNode.nextSibling):null;return!0}function th(){for(var t=He;t;)t=rr(t.nextSibling)}function dn(){He=Ke=null,de=!1}function No(t){ht===null?ht=[t]:ht.push(t)}var Ap=zt.ReactCurrentBatchConfig;function On(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,t))}return t}function Qs(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kc(t){var e=t._init;return e(t._payload)}function rh(t){function e(g,f){if(t){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function r(g,f){if(!t)return null;for(;f!==null;)e(g,f),f=f.sibling;return null}function n(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=ar(g,f),g.index=0,g.sibling=null,g}function i(g,f,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=2,f):p):(g.flags|=2,f)):(g.flags|=1048576,f)}function l(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,f,p,v){return f===null||f.tag!==6?(f=Wa(p,g.mode,v),f.return=g,f):(f=s(f,p),f.return=g,f)}function c(g,f,p,v){var j=p.type;return j===Wr?d(g,f,p.props.children,v,p.key):f!==null&&(f.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ht&&Kc(j)===f.type)?(v=s(f,p.props),v.ref=On(g,f,p),v.return=g,v):(v=xi(p.type,p.key,p.props,null,g.mode,v),v.ref=On(g,f,p),v.return=g,v)}function u(g,f,p,v){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=Va(p,g.mode,v),f.return=g,f):(f=s(f,p.children||[]),f.return=g,f)}function d(g,f,p,v,j){return f===null||f.tag!==7?(f=Nr(p,g.mode,v,j),f.return=g,f):(f=s(f,p),f.return=g,f)}function h(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Wa(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ds:return p=xi(f.type,f.key,f.props,null,g.mode,p),p.ref=On(g,null,f),p.return=g,p;case Br:return f=Va(f,g.mode,p),f.return=g,f;case Ht:var v=f._init;return h(g,v(f._payload),p)}if(zn(f)||Cn(f))return f=Nr(f,g.mode,p,null),f.return=g,f;Qs(g,f)}return null}function m(g,f,p,v){var j=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return j!==null?null:o(g,f,""+p,v);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ds:return p.key===j?c(g,f,p,v):null;case Br:return p.key===j?u(g,f,p,v):null;case Ht:return j=p._init,m(g,f,j(p._payload),v)}if(zn(p)||Cn(p))return j!==null?null:d(g,f,p,v,null);Qs(g,p)}return null}function y(g,f,p,v,j){if(typeof v=="string"&&v!==""||typeof v=="number")return g=g.get(p)||null,o(f,g,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ds:return g=g.get(v.key===null?p:v.key)||null,c(f,g,v,j);case Br:return g=g.get(v.key===null?p:v.key)||null,u(f,g,v,j);case Ht:var N=v._init;return y(g,f,p,N(v._payload),j)}if(zn(v)||Cn(v))return g=g.get(p)||null,d(f,g,v,j,null);Qs(f,v)}return null}function x(g,f,p,v){for(var j=null,N=null,E=f,L=f=0,X=null;E!==null&&L<p.length;L++){E.index>L?(X=E,E=null):X=E.sibling;var B=m(g,E,p[L],v);if(B===null){E===null&&(E=X);break}t&&E&&B.alternate===null&&e(g,E),f=i(B,f,L),N===null?j=B:N.sibling=B,N=B,E=X}if(L===p.length)return r(g,E),de&&yr(g,L),j;if(E===null){for(;L<p.length;L++)E=h(g,p[L],v),E!==null&&(f=i(E,f,L),N===null?j=E:N.sibling=E,N=E);return de&&yr(g,L),j}for(E=n(g,E);L<p.length;L++)X=y(E,g,L,p[L],v),X!==null&&(t&&X.alternate!==null&&E.delete(X.key===null?L:X.key),f=i(X,f,L),N===null?j=X:N.sibling=X,N=X);return t&&E.forEach(function(I){return e(g,I)}),de&&yr(g,L),j}function w(g,f,p,v){var j=Cn(p);if(typeof j!="function")throw Error(C(150));if(p=j.call(p),p==null)throw Error(C(151));for(var N=j=null,E=f,L=f=0,X=null,B=p.next();E!==null&&!B.done;L++,B=p.next()){E.index>L?(X=E,E=null):X=E.sibling;var I=m(g,E,B.value,v);if(I===null){E===null&&(E=X);break}t&&E&&I.alternate===null&&e(g,E),f=i(I,f,L),N===null?j=I:N.sibling=I,N=I,E=X}if(B.done)return r(g,E),de&&yr(g,L),j;if(E===null){for(;!B.done;L++,B=p.next())B=h(g,B.value,v),B!==null&&(f=i(B,f,L),N===null?j=B:N.sibling=B,N=B);return de&&yr(g,L),j}for(E=n(g,E);!B.done;L++,B=p.next())B=y(E,g,L,B.value,v),B!==null&&(t&&B.alternate!==null&&E.delete(B.key===null?L:B.key),f=i(B,f,L),N===null?j=B:N.sibling=B,N=B);return t&&E.forEach(function($){return e(g,$)}),de&&yr(g,L),j}function b(g,f,p,v){if(typeof p=="object"&&p!==null&&p.type===Wr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ds:e:{for(var j=p.key,N=f;N!==null;){if(N.key===j){if(j=p.type,j===Wr){if(N.tag===7){r(g,N.sibling),f=s(N,p.props.children),f.return=g,g=f;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ht&&Kc(j)===N.type){r(g,N.sibling),f=s(N,p.props),f.ref=On(g,N,p),f.return=g,g=f;break e}r(g,N);break}else e(g,N);N=N.sibling}p.type===Wr?(f=Nr(p.props.children,g.mode,v,p.key),f.return=g,g=f):(v=xi(p.type,p.key,p.props,null,g.mode,v),v.ref=On(g,f,p),v.return=g,g=v)}return l(g);case Br:e:{for(N=p.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){r(g,f.sibling),f=s(f,p.children||[]),f.return=g,g=f;break e}else{r(g,f);break}else e(g,f);f=f.sibling}f=Va(p,g.mode,v),f.return=g,g=f}return l(g);case Ht:return N=p._init,b(g,f,N(p._payload),v)}if(zn(p))return x(g,f,p,v);if(Cn(p))return w(g,f,p,v);Qs(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(r(g,f.sibling),f=s(f,p),f.return=g,g=f):(r(g,f),f=Wa(p,g.mode,v),f.return=g,g=f),l(g)):r(g,f)}return b}var hn=rh(!0),nh=rh(!1),Ii=dr(null),$i=null,Yr=null,So=null;function Eo(){So=Yr=$i=null}function Po(t){var e=Ii.current;ce(Ii),t._currentValue=e}function El(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function sn(t,e){$i=t,So=Yr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ze=!0),t.firstContext=null)}function st(t){var e=t._currentValue;if(So!==t)if(t={context:t,memoizedValue:e,next:null},Yr===null){if($i===null)throw Error(C(308));Yr=t,$i.dependencies={lanes:0,firstContext:t}}else Yr=Yr.next=t;return e}var kr=null;function Co(t){kr===null?kr=[t]:kr.push(t)}function sh(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Co(e)):(r.next=s.next,s.next=r),e.interleaved=r,Rt(t,n)}function Rt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var qt=!1;function To(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ih(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function It(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function nr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ee&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Rt(t,r)}return s=n.interleaved,s===null?(e.next=e,Co(n)):(e.next=s.next,s.next=e),n.interleaved=e,Rt(t,r)}function hi(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,po(t,r)}}function Jc(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Oi(t,e,r,n){var s=t.updateQueue;qt=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;l=0,d=u=c=null,o=i;do{var m=o.lane,y=o.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=t,w=o;switch(m=e,y=r,w.tag){case 1:if(x=w.payload,typeof x=="function"){h=x.call(y,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,m=typeof x=="function"?x.call(y,h,m):x,m==null)break e;h=me({},h,m);break e;case 2:qt=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[o]:m.push(o))}else y={eventTime:y,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,l|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;m=o,o=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Tr|=l,t.lanes=l,t.memoizedState=h}}function Qc(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var Ps={},kt=dr(Ps),ms=dr(Ps),ps=dr(Ps);function jr(t){if(t===Ps)throw Error(C(174));return t}function Ao(t,e){switch(le(ps,e),le(ms,t),le(kt,Ps),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ll(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ll(e,t)}ce(kt),le(kt,e)}function fn(){ce(kt),ce(ms),ce(ps)}function ah(t){jr(ps.current);var e=jr(kt.current),r=ll(e,t.type);e!==r&&(le(ms,t),le(kt,r))}function Io(t){ms.current===t&&(ce(kt),ce(ms))}var he=dr(0);function Li(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ua=[];function $o(){for(var t=0;t<Ua.length;t++)Ua[t]._workInProgressVersionPrimary=null;Ua.length=0}var fi=zt.ReactCurrentDispatcher,Da=zt.ReactCurrentBatchConfig,Cr=0,fe=null,ve=null,ke=null,Ri=!1,Jn=!1,gs=0,Ip=0;function Ee(){throw Error(C(321))}function Oo(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!yt(t[r],e[r]))return!1;return!0}function Lo(t,e,r,n,s,i){if(Cr=i,fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fi.current=t===null||t.memoizedState===null?Rp:Up,t=r(n,s),Jn){i=0;do{if(Jn=!1,gs=0,25<=i)throw Error(C(301));i+=1,ke=ve=null,e.updateQueue=null,fi.current=Dp,t=r(n,s)}while(Jn)}if(fi.current=Ui,e=ve!==null&&ve.next!==null,Cr=0,ke=ve=fe=null,Ri=!1,e)throw Error(C(300));return t}function Ro(){var t=gs!==0;return gs=0,t}function vt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?fe.memoizedState=ke=t:ke=ke.next=t,ke}function it(){if(ve===null){var t=fe.alternate;t=t!==null?t.memoizedState:null}else t=ve.next;var e=ke===null?fe.memoizedState:ke.next;if(e!==null)ke=e,ve=t;else{if(t===null)throw Error(C(310));ve=t,t={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},ke===null?fe.memoizedState=ke=t:ke=ke.next=t}return ke}function ys(t,e){return typeof e=="function"?e(t):e}function za(t){var e=it(),r=e.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=t;var n=ve,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=l=null,c=null,u=i;do{var d=u.lane;if((Cr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,l=n):c=c.next=h,fe.lanes|=d,Tr|=d}u=u.next}while(u!==null&&u!==i);c===null?l=n:c.next=o,yt(n,e.memoizedState)||(ze=!0),e.memoizedState=n,e.baseState=l,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,fe.lanes|=i,Tr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ma(t){var e=it(),r=e.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do i=t(i,l.action),l=l.next;while(l!==s);yt(i,e.memoizedState)||(ze=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function lh(){}function oh(t,e){var r=fe,n=it(),s=e(),i=!yt(n.memoizedState,s);if(i&&(n.memoizedState=s,ze=!0),n=n.queue,Uo(dh.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ke!==null&&ke.memoizedState.tag&1){if(r.flags|=2048,xs(9,uh.bind(null,r,n,s,e),void 0,null),je===null)throw Error(C(349));Cr&30||ch(r,e,s)}return s}function ch(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function uh(t,e,r,n){e.value=r,e.getSnapshot=n,hh(e)&&fh(t)}function dh(t,e,r){return r(function(){hh(e)&&fh(t)})}function hh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!yt(t,r)}catch{return!0}}function fh(t){var e=Rt(t,1);e!==null&&pt(e,t,1,-1)}function Gc(t){var e=vt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:t},e.queue=t,t=t.dispatch=Lp.bind(null,fe,t),[e.memoizedState,t]}function xs(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function mh(){return it().memoizedState}function mi(t,e,r,n){var s=vt();fe.flags|=t,s.memoizedState=xs(1|e,r,void 0,n===void 0?null:n)}function ta(t,e,r,n){var s=it();n=n===void 0?null:n;var i=void 0;if(ve!==null){var l=ve.memoizedState;if(i=l.destroy,n!==null&&Oo(n,l.deps)){s.memoizedState=xs(e,r,i,n);return}}fe.flags|=t,s.memoizedState=xs(1|e,r,i,n)}function Yc(t,e){return mi(8390656,8,t,e)}function Uo(t,e){return ta(2048,8,t,e)}function ph(t,e){return ta(4,2,t,e)}function gh(t,e){return ta(4,4,t,e)}function yh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xh(t,e,r){return r=r!=null?r.concat([t]):null,ta(4,4,yh.bind(null,e,t),r)}function Do(){}function vh(t,e){var r=it();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Oo(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function wh(t,e){var r=it();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Oo(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function bh(t,e,r){return Cr&21?(yt(r,e)||(r=Sd(),fe.lanes|=r,Tr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ze=!0),t.memoizedState=r)}function $p(t,e){var r=se;se=r!==0&&4>r?r:4,t(!0);var n=Da.transition;Da.transition={};try{t(!1),e()}finally{se=r,Da.transition=n}}function kh(){return it().memoizedState}function Op(t,e,r){var n=ir(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},jh(t))_h(e,r);else if(r=sh(t,e,r,n),r!==null){var s=$e();pt(r,t,n,s),Nh(r,e,n)}}function Lp(t,e,r){var n=ir(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(jh(t))_h(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,o=i(l,r);if(s.hasEagerState=!0,s.eagerState=o,yt(o,l)){var c=e.interleaved;c===null?(s.next=s,Co(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=sh(t,e,s,n),r!==null&&(s=$e(),pt(r,t,n,s),Nh(r,e,n))}}function jh(t){var e=t.alternate;return t===fe||e!==null&&e===fe}function _h(t,e){Jn=Ri=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Nh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,po(t,r)}}var Ui={readContext:st,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},Rp={readContext:st,useCallback:function(t,e){return vt().memoizedState=[t,e===void 0?null:e],t},useContext:st,useEffect:Yc,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,mi(4194308,4,yh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return mi(4194308,4,t,e)},useInsertionEffect:function(t,e){return mi(4,2,t,e)},useMemo:function(t,e){var r=vt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=vt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Op.bind(null,fe,t),[n.memoizedState,t]},useRef:function(t){var e=vt();return t={current:t},e.memoizedState=t},useState:Gc,useDebugValue:Do,useDeferredValue:function(t){return vt().memoizedState=t},useTransition:function(){var t=Gc(!1),e=t[0];return t=$p.bind(null,t[1]),vt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=fe,s=vt();if(de){if(r===void 0)throw Error(C(407));r=r()}else{if(r=e(),je===null)throw Error(C(349));Cr&30||ch(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Yc(dh.bind(null,n,i,t),[t]),n.flags|=2048,xs(9,uh.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=vt(),e=je.identifierPrefix;if(de){var r=Tt,n=Ct;r=(n&~(1<<32-mt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=gs++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Ip++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Up={readContext:st,useCallback:vh,useContext:st,useEffect:Uo,useImperativeHandle:xh,useInsertionEffect:ph,useLayoutEffect:gh,useMemo:wh,useReducer:za,useRef:mh,useState:function(){return za(ys)},useDebugValue:Do,useDeferredValue:function(t){var e=it();return bh(e,ve.memoizedState,t)},useTransition:function(){var t=za(ys)[0],e=it().memoizedState;return[t,e]},useMutableSource:lh,useSyncExternalStore:oh,useId:kh,unstable_isNewReconciler:!1},Dp={readContext:st,useCallback:vh,useContext:st,useEffect:Uo,useImperativeHandle:xh,useInsertionEffect:ph,useLayoutEffect:gh,useMemo:wh,useReducer:Ma,useRef:mh,useState:function(){return Ma(ys)},useDebugValue:Do,useDeferredValue:function(t){var e=it();return ve===null?e.memoizedState=t:bh(e,ve.memoizedState,t)},useTransition:function(){var t=Ma(ys)[0],e=it().memoizedState;return[t,e]},useMutableSource:lh,useSyncExternalStore:oh,useId:kh,unstable_isNewReconciler:!1};function ct(t,e){if(t&&t.defaultProps){e=me({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Pl(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:me({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ra={isMounted:function(t){return(t=t._reactInternals)?$r(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=$e(),s=ir(t),i=It(n,s);i.payload=e,r!=null&&(i.callback=r),e=nr(t,i,s),e!==null&&(pt(e,t,s,n),hi(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=$e(),s=ir(t),i=It(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=nr(t,i,s),e!==null&&(pt(e,t,s,n),hi(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=$e(),n=ir(t),s=It(r,n);s.tag=2,e!=null&&(s.callback=e),e=nr(t,s,n),e!==null&&(pt(e,t,n,r),hi(e,t,n))}};function Xc(t,e,r,n,s,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,l):e.prototype&&e.prototype.isPureReactComponent?!us(r,n)||!us(s,i):!0}function Sh(t,e,r){var n=!1,s=cr,i=e.contextType;return typeof i=="object"&&i!==null?i=st(i):(s=Be(e)?Er:Te.current,n=e.contextTypes,i=(n=n!=null)?un(t,s):cr),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ra,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Zc(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ra.enqueueReplaceState(e,e.state,null)}function Cl(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},To(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=st(i):(i=Be(e)?Er:Te.current,s.context=un(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Pl(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ra.enqueueReplaceState(s,s.state,null),Oi(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function mn(t,e){try{var r="",n=e;do r+=hm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Fa(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Tl(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var zp=typeof WeakMap=="function"?WeakMap:Map;function Eh(t,e,r){r=It(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){zi||(zi=!0,Ml=n),Tl(t,e)},r}function Ph(t,e,r){r=It(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Tl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Tl(t,e),typeof n!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),r}function eu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new zp;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Zp.bind(null,t,e,r),e.then(t,t))}function tu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ru(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=It(-1,1),e.tag=2,nr(r,e,1))),r.lanes|=1),t)}var Mp=zt.ReactCurrentOwner,ze=!1;function Ie(t,e,r,n){e.child=t===null?nh(e,null,r,n):hn(e,t.child,r,n)}function nu(t,e,r,n,s){r=r.render;var i=e.ref;return sn(e,s),n=Lo(t,e,r,n,i,s),r=Ro(),t!==null&&!ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ut(t,e,s)):(de&&r&&jo(e),e.flags|=1,Ie(t,e,n,s),e.child)}function su(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!qo(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Ch(t,e,i,n,s)):(t=xi(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:us,r(l,n)&&t.ref===e.ref)return Ut(t,e,s)}return e.flags|=1,t=ar(i,n),t.ref=e.ref,t.return=e,e.child=t}function Ch(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(us(i,n)&&t.ref===e.ref)if(ze=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(ze=!0);else return e.lanes=t.lanes,Ut(t,e,s)}return Al(t,e,r,n,s)}function Th(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Zr,Ve),Ve|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,le(Zr,Ve),Ve|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,le(Zr,Ve),Ve|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,le(Zr,Ve),Ve|=n;return Ie(t,e,s,r),e.child}function Ah(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Al(t,e,r,n,s){var i=Be(r)?Er:Te.current;return i=un(e,i),sn(e,s),r=Lo(t,e,r,n,i,s),n=Ro(),t!==null&&!ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ut(t,e,s)):(de&&n&&jo(e),e.flags|=1,Ie(t,e,r,s),e.child)}function iu(t,e,r,n,s){if(Be(r)){var i=!0;Ci(e)}else i=!1;if(sn(e,s),e.stateNode===null)pi(t,e),Sh(e,r,n),Cl(e,r,n,s),n=!0;else if(t===null){var l=e.stateNode,o=e.memoizedProps;l.props=o;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=st(u):(u=Be(r)?Er:Te.current,u=un(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==u)&&Zc(e,l,n,u),qt=!1;var m=e.memoizedState;l.state=m,Oi(e,n,l,s),c=e.memoizedState,o!==n||m!==c||Fe.current||qt?(typeof d=="function"&&(Pl(e,r,d,n),c=e.memoizedState),(o=qt||Xc(e,r,o,n,m,c,u))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),l.props=n,l.state=c,l.context=u,n=o):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{l=e.stateNode,ih(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:ct(e.type,o),l.props=u,h=e.pendingProps,m=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=st(c):(c=Be(r)?Er:Te.current,c=un(e,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||m!==c)&&Zc(e,l,n,c),qt=!1,m=e.memoizedState,l.state=m,Oi(e,n,l,s);var x=e.memoizedState;o!==h||m!==x||Fe.current||qt?(typeof y=="function"&&(Pl(e,r,y,n),x=e.memoizedState),(u=qt||Xc(e,r,u,n,m,x,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,x,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),l.props=n,l.state=x,l.context=c,n=u):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return Il(t,e,r,n,i,s)}function Il(t,e,r,n,s,i){Ah(t,e);var l=(e.flags&128)!==0;if(!n&&!l)return s&&Vc(e,r,!1),Ut(t,e,i);n=e.stateNode,Mp.current=e;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&l?(e.child=hn(e,t.child,null,i),e.child=hn(e,null,o,i)):Ie(t,e,o,i),e.memoizedState=n.state,s&&Vc(e,r,!0),e.child}function Ih(t){var e=t.stateNode;e.pendingContext?Wc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wc(t,e.context,!1),Ao(t,e.containerInfo)}function au(t,e,r,n,s){return dn(),No(s),e.flags|=256,Ie(t,e,r,n),e.child}var $l={dehydrated:null,treeContext:null,retryLane:0};function Ol(t){return{baseLanes:t,cachePool:null,transitions:null}}function $h(t,e,r){var n=e.pendingProps,s=he.current,i=!1,l=(e.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),le(he,s&1),t===null)return Sl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=n.children,t=n.fallback,i?(n=e.mode,i=e.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=ia(l,n,0,null),t=Nr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ol(r),e.memoizedState=$l,t):zo(e,l));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Fp(t,e,l,n,o,s,r);if(i){i=n.fallback,l=e.mode,s=t.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=ar(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=ar(o,i):(i=Nr(i,l,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,l=t.child.memoizedState,l=l===null?Ol(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~r,e.memoizedState=$l,n}return i=t.child,t=i.sibling,n=ar(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function zo(t,e){return e=ia({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gs(t,e,r,n){return n!==null&&No(n),hn(e,t.child,null,r),t=zo(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Fp(t,e,r,n,s,i,l){if(r)return e.flags&256?(e.flags&=-257,n=Fa(Error(C(422))),Gs(t,e,l,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=ia({mode:"visible",children:n.children},s,0,null),i=Nr(i,s,l,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&hn(e,t.child,null,l),e.child.memoizedState=Ol(l),e.memoizedState=$l,i);if(!(e.mode&1))return Gs(t,e,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(C(419)),n=Fa(i,n,void 0),Gs(t,e,l,n)}if(o=(l&t.childLanes)!==0,ze||o){if(n=je,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Rt(t,s),pt(n,t,s,-1))}return Ho(),n=Fa(Error(C(421))),Gs(t,e,l,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=eg.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,He=rr(s.nextSibling),Ke=e,de=!0,ht=null,t!==null&&(Xe[Ze++]=Ct,Xe[Ze++]=Tt,Xe[Ze++]=Pr,Ct=t.id,Tt=t.overflow,Pr=e),e=zo(e,n.children),e.flags|=4096,e)}function lu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),El(t.return,e,r)}function Ba(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Oh(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Ie(t,e,n.children,r),n=he.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lu(t,r,e);else if(t.tag===19)lu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(le(he,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Li(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Ba(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Li(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Ba(e,!0,r,null,i);break;case"together":Ba(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ut(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Tr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,r=ar(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ar(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Bp(t,e,r){switch(e.tag){case 3:Ih(e),dn();break;case 5:ah(e);break;case 1:Be(e.type)&&Ci(e);break;case 4:Ao(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;le(Ii,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(le(he,he.current&1),e.flags|=128,null):r&e.child.childLanes?$h(t,e,r):(le(he,he.current&1),t=Ut(t,e,r),t!==null?t.sibling:null);le(he,he.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Oh(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),le(he,he.current),n)break;return null;case 22:case 23:return e.lanes=0,Th(t,e,r)}return Ut(t,e,r)}var Lh,Ll,Rh,Uh;Lh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ll=function(){};Rh=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,jr(kt.current);var i=null;switch(r){case"input":s=nl(t,s),n=nl(t,n),i=[];break;case"select":s=me({},s,{value:void 0}),n=me({},n,{value:void 0}),i=[];break;case"textarea":s=al(t,s),n=al(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ei)}ol(r,n);var l;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ns.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ns.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&oe("scroll",t),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Uh=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ln(t,e){if(!de)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Wp(t,e,r){var n=e.pendingProps;switch(_o(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(e),null;case 1:return Be(e.type)&&Pi(),Pe(e),null;case 3:return n=e.stateNode,fn(),ce(Fe),ce(Te),$o(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Js(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ht!==null&&(Wl(ht),ht=null))),Ll(t,e),Pe(e),null;case 5:Io(e);var s=jr(ps.current);if(r=e.type,t!==null&&e.stateNode!=null)Rh(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(C(166));return Pe(e),null}if(t=jr(kt.current),Js(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[wt]=e,n[fs]=i,t=(e.mode&1)!==0,r){case"dialog":oe("cancel",n),oe("close",n);break;case"iframe":case"object":case"embed":oe("load",n);break;case"video":case"audio":for(s=0;s<Fn.length;s++)oe(Fn[s],n);break;case"source":oe("error",n);break;case"img":case"image":case"link":oe("error",n),oe("load",n);break;case"details":oe("toggle",n);break;case"input":gc(n,i),oe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},oe("invalid",n);break;case"textarea":xc(n,i),oe("invalid",n)}ol(r,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ks(n.textContent,o,t),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ks(n.textContent,o,t),s=["children",""+o]):ns.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&oe("scroll",n)}switch(r){case"input":zs(n),yc(n,i,!0);break;case"textarea":zs(n),vc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ei)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dd(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=l.createElement(r,{is:n.is}):(t=l.createElement(r),r==="select"&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,r),t[wt]=e,t[fs]=n,Lh(t,e,!1,!1),e.stateNode=t;e:{switch(l=cl(r,n),r){case"dialog":oe("cancel",t),oe("close",t),s=n;break;case"iframe":case"object":case"embed":oe("load",t),s=n;break;case"video":case"audio":for(s=0;s<Fn.length;s++)oe(Fn[s],t);s=n;break;case"source":oe("error",t),s=n;break;case"img":case"image":case"link":oe("error",t),oe("load",t),s=n;break;case"details":oe("toggle",t),s=n;break;case"input":gc(t,n),s=nl(t,n),oe("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=me({},n,{value:void 0}),oe("invalid",t);break;case"textarea":xc(t,n),s=al(t,n),oe("invalid",t);break;default:s=n}ol(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?md(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&hd(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ss(t,c):typeof c=="number"&&ss(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ns.hasOwnProperty(i)?c!=null&&i==="onScroll"&&oe("scroll",t):c!=null&&oo(t,i,c,l))}switch(r){case"input":zs(t),yc(t,n,!1);break;case"textarea":zs(t),vc(t);break;case"option":n.value!=null&&t.setAttribute("value",""+or(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?en(t,!!n.multiple,i,!1):n.defaultValue!=null&&en(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ei)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pe(e),null;case 6:if(t&&e.stateNode!=null)Uh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(C(166));if(r=jr(ps.current),jr(kt.current),Js(e)){if(n=e.stateNode,r=e.memoizedProps,n[wt]=e,(i=n.nodeValue!==r)&&(t=Ke,t!==null))switch(t.tag){case 3:Ks(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ks(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wt]=e,e.stateNode=n}return Pe(e),null;case 13:if(ce(he),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(de&&He!==null&&e.mode&1&&!(e.flags&128))th(),dn(),e.flags|=98560,i=!1;else if(i=Js(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(C(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[wt]=e}else dn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pe(e),i=!1}else ht!==null&&(Wl(ht),ht=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||he.current&1?we===0&&(we=3):Ho())),e.updateQueue!==null&&(e.flags|=4),Pe(e),null);case 4:return fn(),Ll(t,e),t===null&&ds(e.stateNode.containerInfo),Pe(e),null;case 10:return Po(e.type._context),Pe(e),null;case 17:return Be(e.type)&&Pi(),Pe(e),null;case 19:if(ce(he),i=e.memoizedState,i===null)return Pe(e),null;if(n=(e.flags&128)!==0,l=i.rendering,l===null)if(n)Ln(i,!1);else{if(we!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Li(t),l!==null){for(e.flags|=128,Ln(i,!1),n=l.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return le(he,he.current&1|2),e.child}t=t.sibling}i.tail!==null&&ye()>pn&&(e.flags|=128,n=!0,Ln(i,!1),e.lanes=4194304)}else{if(!n)if(t=Li(l),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ln(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!de)return Pe(e),null}else 2*ye()-i.renderingStartTime>pn&&r!==1073741824&&(e.flags|=128,n=!0,Ln(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(r=i.last,r!==null?r.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ye(),e.sibling=null,r=he.current,le(he,n?r&1|2:r&1),e):(Pe(e),null);case 22:case 23:return Vo(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ve&1073741824&&(Pe(e),e.subtreeFlags&6&&(e.flags|=8192)):Pe(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function Vp(t,e){switch(_o(e),e.tag){case 1:return Be(e.type)&&Pi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fn(),ce(Fe),ce(Te),$o(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Io(e),null;case 13:if(ce(he),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));dn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ce(he),null;case 4:return fn(),null;case 10:return Po(e.type._context),null;case 22:case 23:return Vo(),null;case 24:return null;default:return null}}var Ys=!1,Ce=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,R=null;function Xr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){pe(t,e,n)}else r.current=null}function Rl(t,e,r){try{r()}catch(n){pe(t,e,n)}}var ou=!1;function qp(t,e){if(vl=_i,t=Bd(),ko(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(o=l+s),h!==i||n!==0&&h.nodeType!==3||(c=l+n),h.nodeType===3&&(l+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===t)break t;if(m===r&&++u===s&&(o=l),m===i&&++d===n&&(c=l),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(wl={focusedElem:t,selectionRange:r},_i=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,b=x.memoizedState,g=e.stateNode,f=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:ct(e.type,w),b);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(v){pe(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return x=ou,ou=!1,x}function Qn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Rl(e,r,i)}s=s.next}while(s!==n)}}function na(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ul(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Dh(t){var e=t.alternate;e!==null&&(t.alternate=null,Dh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wt],delete e[fs],delete e[jl],delete e[Pp],delete e[Cp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zh(t){return t.tag===5||t.tag===3||t.tag===4}function cu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ei));else if(n!==4&&(t=t.child,t!==null))for(Dl(t,e,r),t=t.sibling;t!==null;)Dl(t,e,r),t=t.sibling}function zl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(zl(t,e,r),t=t.sibling;t!==null;)zl(t,e,r),t=t.sibling}var _e=null,ut=!1;function Bt(t,e,r){for(r=r.child;r!==null;)Mh(t,e,r),r=r.sibling}function Mh(t,e,r){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Qi,r)}catch{}switch(r.tag){case 5:Ce||Xr(r,e);case 6:var n=_e,s=ut;_e=null,Bt(t,e,r),_e=n,ut=s,_e!==null&&(ut?(t=_e,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):_e.removeChild(r.stateNode));break;case 18:_e!==null&&(ut?(t=_e,r=r.stateNode,t.nodeType===8?La(t.parentNode,r):t.nodeType===1&&La(t,r),os(t)):La(_e,r.stateNode));break;case 4:n=_e,s=ut,_e=r.stateNode.containerInfo,ut=!0,Bt(t,e,r),_e=n,ut=s;break;case 0:case 11:case 14:case 15:if(!Ce&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Rl(r,e,l),s=s.next}while(s!==n)}Bt(t,e,r);break;case 1:if(!Ce&&(Xr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){pe(r,e,o)}Bt(t,e,r);break;case 21:Bt(t,e,r);break;case 22:r.mode&1?(Ce=(n=Ce)||r.memoizedState!==null,Bt(t,e,r),Ce=n):Bt(t,e,r);break;default:Bt(t,e,r)}}function uu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Hp),e.forEach(function(n){var s=tg.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function lt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,l=e,o=l;e:for(;o!==null;){switch(o.tag){case 5:_e=o.stateNode,ut=!1;break e;case 3:_e=o.stateNode.containerInfo,ut=!0;break e;case 4:_e=o.stateNode.containerInfo,ut=!0;break e}o=o.return}if(_e===null)throw Error(C(160));Mh(i,l,s),_e=null,ut=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){pe(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Fh(e,t),e=e.sibling}function Fh(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lt(e,t),xt(t),n&4){try{Qn(3,t,t.return),na(3,t)}catch(w){pe(t,t.return,w)}try{Qn(5,t,t.return)}catch(w){pe(t,t.return,w)}}break;case 1:lt(e,t),xt(t),n&512&&r!==null&&Xr(r,r.return);break;case 5:if(lt(e,t),xt(t),n&512&&r!==null&&Xr(r,r.return),t.flags&32){var s=t.stateNode;try{ss(s,"")}catch(w){pe(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,l=r!==null?r.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&cd(s,i),cl(o,l);var u=cl(o,i);for(l=0;l<c.length;l+=2){var d=c[l],h=c[l+1];d==="style"?md(s,h):d==="dangerouslySetInnerHTML"?hd(s,h):d==="children"?ss(s,h):oo(s,d,h,u)}switch(o){case"input":sl(s,i);break;case"textarea":ud(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?en(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?en(s,!!i.multiple,i.defaultValue,!0):en(s,!!i.multiple,i.multiple?[]:"",!1))}s[fs]=i}catch(w){pe(t,t.return,w)}}break;case 6:if(lt(e,t),xt(t),n&4){if(t.stateNode===null)throw Error(C(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){pe(t,t.return,w)}}break;case 3:if(lt(e,t),xt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{os(e.containerInfo)}catch(w){pe(t,t.return,w)}break;case 4:lt(e,t),xt(t);break;case 13:lt(e,t),xt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Bo=ye())),n&4&&uu(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Ce=(u=Ce)||d,lt(e,t),Ce=u):lt(e,t),xt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(R=t,d=t.child;d!==null;){for(h=R=d;R!==null;){switch(m=R,y=m.child,m.tag){case 0:case 11:case 14:case 15:Qn(4,m,m.return);break;case 1:Xr(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(w){pe(n,r,w)}}break;case 5:Xr(m,m.return);break;case 22:if(m.memoizedState!==null){hu(h);continue}}y!==null?(y.return=m,R=y):hu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=fd("display",l))}catch(w){pe(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){pe(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:lt(e,t),xt(t),n&4&&uu(t);break;case 21:break;default:lt(e,t),xt(t)}}function xt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(zh(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ss(s,""),n.flags&=-33);var i=cu(t);zl(t,i,s);break;case 3:case 4:var l=n.stateNode.containerInfo,o=cu(t);Dl(t,o,l);break;default:throw Error(C(161))}}catch(c){pe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Kp(t,e,r){R=t,Bh(t)}function Bh(t,e,r){for(var n=(t.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||Ys;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Ce;o=Ys;var u=Ce;if(Ys=l,(Ce=c)&&!u)for(R=s;R!==null;)l=R,c=l.child,l.tag===22&&l.memoizedState!==null?fu(s):c!==null?(c.return=l,R=c):fu(s);for(;i!==null;)R=i,Bh(i),i=i.sibling;R=s,Ys=o,Ce=u}du(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):du(t)}}function du(t){for(;R!==null;){var e=R;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ce||na(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ce)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ct(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Qc(e,i,n);break;case 3:var l=e.updateQueue;if(l!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Qc(e,l,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&os(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Ce||e.flags&512&&Ul(e)}catch(m){pe(e,e.return,m)}}if(e===t){R=null;break}if(r=e.sibling,r!==null){r.return=e.return,R=r;break}R=e.return}}function hu(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var r=e.sibling;if(r!==null){r.return=e.return,R=r;break}R=e.return}}function fu(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{na(4,e)}catch(c){pe(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){pe(e,s,c)}}var i=e.return;try{Ul(e)}catch(c){pe(e,i,c)}break;case 5:var l=e.return;try{Ul(e)}catch(c){pe(e,l,c)}}}catch(c){pe(e,e.return,c)}if(e===t){R=null;break}var o=e.sibling;if(o!==null){o.return=e.return,R=o;break}R=e.return}}var Jp=Math.ceil,Di=zt.ReactCurrentDispatcher,Mo=zt.ReactCurrentOwner,rt=zt.ReactCurrentBatchConfig,ee=0,je=null,xe=null,Ne=0,Ve=0,Zr=dr(0),we=0,vs=null,Tr=0,sa=0,Fo=0,Gn=null,Ue=null,Bo=0,pn=1/0,St=null,zi=!1,Ml=null,sr=null,Xs=!1,Xt=null,Mi=0,Yn=0,Fl=null,gi=-1,yi=0;function $e(){return ee&6?ye():gi!==-1?gi:gi=ye()}function ir(t){return t.mode&1?ee&2&&Ne!==0?Ne&-Ne:Ap.transition!==null?(yi===0&&(yi=Sd()),yi):(t=se,t!==0||(t=window.event,t=t===void 0?16:$d(t.type)),t):1}function pt(t,e,r,n){if(50<Yn)throw Yn=0,Fl=null,Error(C(185));Ns(t,r,n),(!(ee&2)||t!==je)&&(t===je&&(!(ee&2)&&(sa|=r),we===4&&Qt(t,Ne)),We(t,n),r===1&&ee===0&&!(e.mode&1)&&(pn=ye()+500,ea&&hr()))}function We(t,e){var r=t.callbackNode;Am(t,e);var n=ji(t,t===je?Ne:0);if(n===0)r!==null&&kc(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&kc(r),e===1)t.tag===0?Tp(mu.bind(null,t)):Xd(mu.bind(null,t)),Sp(function(){!(ee&6)&&hr()}),r=null;else{switch(Ed(n)){case 1:r=mo;break;case 4:r=_d;break;case 16:r=ki;break;case 536870912:r=Nd;break;default:r=ki}r=Gh(r,Wh.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Wh(t,e){if(gi=-1,yi=0,ee&6)throw Error(C(327));var r=t.callbackNode;if(an()&&t.callbackNode!==r)return null;var n=ji(t,t===je?Ne:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Fi(t,n);else{e=n;var s=ee;ee|=2;var i=Hh();(je!==t||Ne!==e)&&(St=null,pn=ye()+500,_r(t,e));do try{Yp();break}catch(o){Vh(t,o)}while(!0);Eo(),Di.current=i,ee=s,xe!==null?e=0:(je=null,Ne=0,e=we)}if(e!==0){if(e===2&&(s=ml(t),s!==0&&(n=s,e=Bl(t,s))),e===1)throw r=vs,_r(t,0),Qt(t,n),We(t,ye()),r;if(e===6)Qt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Qp(s)&&(e=Fi(t,n),e===2&&(i=ml(t),i!==0&&(n=i,e=Bl(t,i))),e===1))throw r=vs,_r(t,0),Qt(t,n),We(t,ye()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(C(345));case 2:xr(t,Ue,St);break;case 3:if(Qt(t,n),(n&130023424)===n&&(e=Bo+500-ye(),10<e)){if(ji(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){$e(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=kl(xr.bind(null,t,Ue,St),e);break}xr(t,Ue,St);break;case 4:if(Qt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var l=31-mt(n);i=1<<l,l=e[l],l>s&&(s=l),n&=~i}if(n=s,n=ye()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Jp(n/1960))-n,10<n){t.timeoutHandle=kl(xr.bind(null,t,Ue,St),n);break}xr(t,Ue,St);break;case 5:xr(t,Ue,St);break;default:throw Error(C(329))}}}return We(t,ye()),t.callbackNode===r?Wh.bind(null,t):null}function Bl(t,e){var r=Gn;return t.current.memoizedState.isDehydrated&&(_r(t,e).flags|=256),t=Fi(t,e),t!==2&&(e=Ue,Ue=r,e!==null&&Wl(e)),t}function Wl(t){Ue===null?Ue=t:Ue.push.apply(Ue,t)}function Qp(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!yt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qt(t,e){for(e&=~Fo,e&=~sa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-mt(e),n=1<<r;t[r]=-1,e&=~n}}function mu(t){if(ee&6)throw Error(C(327));an();var e=ji(t,0);if(!(e&1))return We(t,ye()),null;var r=Fi(t,e);if(t.tag!==0&&r===2){var n=ml(t);n!==0&&(e=n,r=Bl(t,n))}if(r===1)throw r=vs,_r(t,0),Qt(t,e),We(t,ye()),r;if(r===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xr(t,Ue,St),We(t,ye()),null}function Wo(t,e){var r=ee;ee|=1;try{return t(e)}finally{ee=r,ee===0&&(pn=ye()+500,ea&&hr())}}function Ar(t){Xt!==null&&Xt.tag===0&&!(ee&6)&&an();var e=ee;ee|=1;var r=rt.transition,n=se;try{if(rt.transition=null,se=1,t)return t()}finally{se=n,rt.transition=r,ee=e,!(ee&6)&&hr()}}function Vo(){Ve=Zr.current,ce(Zr)}function _r(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Np(r)),xe!==null)for(r=xe.return;r!==null;){var n=r;switch(_o(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Pi();break;case 3:fn(),ce(Fe),ce(Te),$o();break;case 5:Io(n);break;case 4:fn();break;case 13:ce(he);break;case 19:ce(he);break;case 10:Po(n.type._context);break;case 22:case 23:Vo()}r=r.return}if(je=t,xe=t=ar(t.current,null),Ne=Ve=e,we=0,vs=null,Fo=sa=Tr=0,Ue=Gn=null,kr!==null){for(e=0;e<kr.length;e++)if(r=kr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=s,n.next=l}r.pending=n}kr=null}return t}function Vh(t,e){do{var r=xe;try{if(Eo(),fi.current=Ui,Ri){for(var n=fe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ri=!1}if(Cr=0,ke=ve=fe=null,Jn=!1,gs=0,Mo.current=null,r===null||r.return===null){we=1,vs=e,xe=null;break}e:{var i=t,l=r.return,o=r,c=e;if(e=Ne,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=tu(l);if(y!==null){y.flags&=-257,ru(y,l,o,i,e),y.mode&1&&eu(i,u,e),e=y,c=u;var x=e.updateQueue;if(x===null){var w=new Set;w.add(c),e.updateQueue=w}else x.add(c);break e}else{if(!(e&1)){eu(i,u,e),Ho();break e}c=Error(C(426))}}else if(de&&o.mode&1){var b=tu(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ru(b,l,o,i,e),No(mn(c,o));break e}}i=c=mn(c,o),we!==4&&(we=2),Gn===null?Gn=[i]:Gn.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Eh(i,c,e);Jc(i,g);break e;case 1:o=c;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(sr===null||!sr.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var v=Ph(i,o,e);Jc(i,v);break e}}i=i.return}while(i!==null)}Kh(r)}catch(j){e=j,xe===r&&r!==null&&(xe=r=r.return);continue}break}while(!0)}function Hh(){var t=Di.current;return Di.current=Ui,t===null?Ui:t}function Ho(){(we===0||we===3||we===2)&&(we=4),je===null||!(Tr&268435455)&&!(sa&268435455)||Qt(je,Ne)}function Fi(t,e){var r=ee;ee|=2;var n=Hh();(je!==t||Ne!==e)&&(St=null,_r(t,e));do try{Gp();break}catch(s){Vh(t,s)}while(!0);if(Eo(),ee=r,Di.current=n,xe!==null)throw Error(C(261));return je=null,Ne=0,we}function Gp(){for(;xe!==null;)qh(xe)}function Yp(){for(;xe!==null&&!km();)qh(xe)}function qh(t){var e=Qh(t.alternate,t,Ve);t.memoizedProps=t.pendingProps,e===null?Kh(t):xe=e,Mo.current=null}function Kh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Vp(r,e),r!==null){r.flags&=32767,xe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{we=6,xe=null;return}}else if(r=Wp(r,e,Ve),r!==null){xe=r;return}if(e=e.sibling,e!==null){xe=e;return}xe=e=t}while(e!==null);we===0&&(we=5)}function xr(t,e,r){var n=se,s=rt.transition;try{rt.transition=null,se=1,Xp(t,e,r,n)}finally{rt.transition=s,se=n}return null}function Xp(t,e,r,n){do an();while(Xt!==null);if(ee&6)throw Error(C(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Im(t,i),t===je&&(xe=je=null,Ne=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xs||(Xs=!0,Gh(ki,function(){return an(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=rt.transition,rt.transition=null;var l=se;se=1;var o=ee;ee|=4,Mo.current=null,qp(t,r),Fh(r,t),xp(wl),_i=!!vl,wl=vl=null,t.current=r,Kp(r),jm(),ee=o,se=l,rt.transition=i}else t.current=r;if(Xs&&(Xs=!1,Xt=t,Mi=s),i=t.pendingLanes,i===0&&(sr=null),Sm(r.stateNode),We(t,ye()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(zi)throw zi=!1,t=Ml,Ml=null,t;return Mi&1&&t.tag!==0&&an(),i=t.pendingLanes,i&1?t===Fl?Yn++:(Yn=0,Fl=t):Yn=0,hr(),null}function an(){if(Xt!==null){var t=Ed(Mi),e=rt.transition,r=se;try{if(rt.transition=null,se=16>t?16:t,Xt===null)var n=!1;else{if(t=Xt,Xt=null,Mi=0,ee&6)throw Error(C(331));var s=ee;for(ee|=4,R=t.current;R!==null;){var i=R,l=i.child;if(R.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(R=u;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:Qn(8,d,i)}var h=d.child;if(h!==null)h.return=d,R=h;else for(;R!==null;){d=R;var m=d.sibling,y=d.return;if(Dh(d),d===u){R=null;break}if(m!==null){m.return=y,R=m;break}R=y}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}R=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,R=l;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Qn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,R=g;break e}R=i.return}}var f=t.current;for(R=f;R!==null;){l=R;var p=l.child;if(l.subtreeFlags&2064&&p!==null)p.return=l,R=p;else e:for(l=f;R!==null;){if(o=R,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:na(9,o)}}catch(j){pe(o,o.return,j)}if(o===l){R=null;break e}var v=o.sibling;if(v!==null){v.return=o.return,R=v;break e}R=o.return}}if(ee=s,hr(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Qi,t)}catch{}n=!0}return n}finally{se=r,rt.transition=e}}return!1}function pu(t,e,r){e=mn(r,e),e=Eh(t,e,1),t=nr(t,e,1),e=$e(),t!==null&&(Ns(t,1,e),We(t,e))}function pe(t,e,r){if(t.tag===3)pu(t,t,r);else for(;e!==null;){if(e.tag===3){pu(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(sr===null||!sr.has(n))){t=mn(r,t),t=Ph(e,t,1),e=nr(e,t,1),t=$e(),e!==null&&(Ns(e,1,t),We(e,t));break}}e=e.return}}function Zp(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=$e(),t.pingedLanes|=t.suspendedLanes&r,je===t&&(Ne&r)===r&&(we===4||we===3&&(Ne&130023424)===Ne&&500>ye()-Bo?_r(t,0):Fo|=r),We(t,e)}function Jh(t,e){e===0&&(t.mode&1?(e=Bs,Bs<<=1,!(Bs&130023424)&&(Bs=4194304)):e=1);var r=$e();t=Rt(t,e),t!==null&&(Ns(t,e,r),We(t,r))}function eg(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Jh(t,r)}function tg(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(e),Jh(t,r)}var Qh;Qh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fe.current)ze=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ze=!1,Bp(t,e,r);ze=!!(t.flags&131072)}else ze=!1,de&&e.flags&1048576&&Zd(e,Ai,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;pi(t,e),t=e.pendingProps;var s=un(e,Te.current);sn(e,r),s=Lo(null,e,n,t,s,r);var i=Ro();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Be(n)?(i=!0,Ci(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,To(e),s.updater=ra,e.stateNode=s,s._reactInternals=e,Cl(e,n,t,r),e=Il(null,e,n,!0,i,r)):(e.tag=0,de&&i&&jo(e),Ie(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(pi(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=ng(n),t=ct(n,t),s){case 0:e=Al(null,e,n,t,r);break e;case 1:e=iu(null,e,n,t,r);break e;case 11:e=nu(null,e,n,t,r);break e;case 14:e=su(null,e,n,ct(n.type,t),r);break e}throw Error(C(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ct(n,s),Al(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ct(n,s),iu(t,e,n,s,r);case 3:e:{if(Ih(e),t===null)throw Error(C(387));n=e.pendingProps,i=e.memoizedState,s=i.element,ih(t,e),Oi(e,n,null,r);var l=e.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=mn(Error(C(423)),e),e=au(t,e,n,r,s);break e}else if(n!==s){s=mn(Error(C(424)),e),e=au(t,e,n,r,s);break e}else for(He=rr(e.stateNode.containerInfo.firstChild),Ke=e,de=!0,ht=null,r=nh(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(dn(),n===s){e=Ut(t,e,r);break e}Ie(t,e,n,r)}e=e.child}return e;case 5:return ah(e),t===null&&Sl(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,l=s.children,bl(n,s)?l=null:i!==null&&bl(n,i)&&(e.flags|=32),Ah(t,e),Ie(t,e,l,r),e.child;case 6:return t===null&&Sl(e),null;case 13:return $h(t,e,r);case 4:return Ao(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=hn(e,null,n,r):Ie(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ct(n,s),nu(t,e,n,s,r);case 7:return Ie(t,e,e.pendingProps,r),e.child;case 8:return Ie(t,e,e.pendingProps.children,r),e.child;case 12:return Ie(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,l=s.value,le(Ii,n._currentValue),n._currentValue=l,i!==null)if(yt(i.value,l)){if(i.children===s.children&&!Fe.current){e=Ut(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=It(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),El(i.return,r,e),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(C(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),El(l,r,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ie(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,sn(e,r),s=st(s),n=n(s),e.flags|=1,Ie(t,e,n,r),e.child;case 14:return n=e.type,s=ct(n,e.pendingProps),s=ct(n.type,s),su(t,e,n,s,r);case 15:return Ch(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ct(n,s),pi(t,e),e.tag=1,Be(n)?(t=!0,Ci(e)):t=!1,sn(e,r),Sh(e,n,s),Cl(e,n,s,r),Il(null,e,n,!0,t,r);case 19:return Oh(t,e,r);case 22:return Th(t,e,r)}throw Error(C(156,e.tag))};function Gh(t,e){return jd(t,e)}function rg(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(t,e,r,n){return new rg(t,e,r,n)}function qo(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ng(t){if(typeof t=="function")return qo(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uo)return 11;if(t===ho)return 14}return 2}function ar(t,e){var r=t.alternate;return r===null?(r=tt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function xi(t,e,r,n,s,i){var l=2;if(n=t,typeof t=="function")qo(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Wr:return Nr(r.children,s,i,e);case co:l=8,s|=8;break;case Za:return t=tt(12,r,e,s|2),t.elementType=Za,t.lanes=i,t;case el:return t=tt(13,r,e,s),t.elementType=el,t.lanes=i,t;case tl:return t=tt(19,r,e,s),t.elementType=tl,t.lanes=i,t;case ad:return ia(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sd:l=10;break e;case id:l=9;break e;case uo:l=11;break e;case ho:l=14;break e;case Ht:l=16,n=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=tt(l,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Nr(t,e,r,n){return t=tt(7,t,n,e),t.lanes=r,t}function ia(t,e,r,n){return t=tt(22,t,n,e),t.elementType=ad,t.lanes=r,t.stateNode={isHidden:!1},t}function Wa(t,e,r){return t=tt(6,t,null,e),t.lanes=r,t}function Va(t,e,r){return e=tt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sg(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_a(0),this.expirationTimes=_a(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_a(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ko(t,e,r,n,s,i,l,o,c){return t=new sg(t,e,r,o,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=tt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},To(i),t}function ig(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Br,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Yh(t){if(!t)return cr;t=t._reactInternals;e:{if($r(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Be(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var r=t.type;if(Be(r))return Yd(t,r,e)}return e}function Xh(t,e,r,n,s,i,l,o,c){return t=Ko(r,n,!0,t,s,i,l,o,c),t.context=Yh(null),r=t.current,n=$e(),s=ir(r),i=It(n,s),i.callback=e??null,nr(r,i,s),t.current.lanes=s,Ns(t,s,n),We(t,n),t}function aa(t,e,r,n){var s=e.current,i=$e(),l=ir(s);return r=Yh(r),e.context===null?e.context=r:e.pendingContext=r,e=It(i,l),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=nr(s,e,l),t!==null&&(pt(t,s,l,i),hi(t,s,l)),l}function Bi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Jo(t,e){gu(t,e),(t=t.alternate)&&gu(t,e)}function ag(){return null}var Zh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qo(t){this._internalRoot=t}la.prototype.render=Qo.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));aa(t,e,null,null)};la.prototype.unmount=Qo.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ar(function(){aa(null,t,null,null)}),e[Lt]=null}};function la(t){this._internalRoot=t}la.prototype.unstable_scheduleHydration=function(t){if(t){var e=Td();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Jt.length&&e!==0&&e<Jt[r].priority;r++);Jt.splice(r,0,t),r===0&&Id(t)}};function Go(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function oa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yu(){}function lg(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Bi(l);i.call(u)}}var l=Xh(e,n,t,0,null,!1,!1,"",yu);return t._reactRootContainer=l,t[Lt]=l.current,ds(t.nodeType===8?t.parentNode:t),Ar(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=Bi(c);o.call(u)}}var c=Ko(t,0,!1,null,null,!1,!1,"",yu);return t._reactRootContainer=c,t[Lt]=c.current,ds(t.nodeType===8?t.parentNode:t),Ar(function(){aa(e,c,r,n)}),c}function ca(t,e,r,n,s){var i=r._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var c=Bi(l);o.call(c)}}aa(e,l,t,s)}else l=lg(r,e,t,s,n);return Bi(l)}Pd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Mn(e.pendingLanes);r!==0&&(po(e,r|1),We(e,ye()),!(ee&6)&&(pn=ye()+500,hr()))}break;case 13:Ar(function(){var n=Rt(t,1);if(n!==null){var s=$e();pt(n,t,1,s)}}),Jo(t,1)}};go=function(t){if(t.tag===13){var e=Rt(t,134217728);if(e!==null){var r=$e();pt(e,t,134217728,r)}Jo(t,134217728)}};Cd=function(t){if(t.tag===13){var e=ir(t),r=Rt(t,e);if(r!==null){var n=$e();pt(r,t,e,n)}Jo(t,e)}};Td=function(){return se};Ad=function(t,e){var r=se;try{return se=t,e()}finally{se=r}};dl=function(t,e,r){switch(e){case"input":if(sl(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Zi(n);if(!s)throw Error(C(90));od(n),sl(n,s)}}}break;case"textarea":ud(t,r);break;case"select":e=r.value,e!=null&&en(t,!!r.multiple,e,!1)}};yd=Wo;xd=Ar;var og={usingClientEntryPoint:!1,Events:[Es,Kr,Zi,pd,gd,Wo]},Rn={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cg={bundleType:Rn.bundleType,version:Rn.version,rendererPackageName:Rn.rendererPackageName,rendererConfig:Rn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bd(t),t===null?null:t.stateNode},findFiberByHostInstance:Rn.findFiberByHostInstance||ag,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zs.isDisabled&&Zs.supportsFiber)try{Qi=Zs.inject(cg),bt=Zs}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=og;Qe.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Go(e))throw Error(C(200));return ig(t,e,null,r)};Qe.createRoot=function(t,e){if(!Go(t))throw Error(C(299));var r=!1,n="",s=Zh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ko(t,1,!1,null,null,r,!1,n,s),t[Lt]=e.current,ds(t.nodeType===8?t.parentNode:t),new Qo(e)};Qe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=bd(e),t=t===null?null:t.stateNode,t};Qe.flushSync=function(t){return Ar(t)};Qe.hydrate=function(t,e,r){if(!oa(e))throw Error(C(200));return ca(null,t,e,!0,r)};Qe.hydrateRoot=function(t,e,r){if(!Go(t))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",l=Zh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),e=Xh(e,null,t,1,r??null,s,!1,i,l),t[Lt]=e.current,ds(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new la(e)};Qe.render=function(t,e,r){if(!oa(e))throw Error(C(200));return ca(null,t,e,!1,r)};Qe.unmountComponentAtNode=function(t){if(!oa(t))throw Error(C(40));return t._reactRootContainer?(Ar(function(){ca(null,null,t,!1,function(){t._reactRootContainer=null,t[Lt]=null})}),!0):!1};Qe.unstable_batchedUpdates=Wo;Qe.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!oa(r))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return ca(t,e,r,!1,n)};Qe.version="18.3.1-next-f1338f8080-20240426";function ef(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ef)}catch(t){console.error(t)}}ef(),ed.exports=Qe;var ug=ed.exports,tf,xu=ug;tf=xu.createRoot,xu.hydrateRoot;const dg="modulepreload",hg=function(t){return"/"+t},vu={},jn=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=hg(c),c in vu)return;vu[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":dg,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((m,y)=>{h.addEventListener("load",m),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return s.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},fg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>jn(async()=>{const{default:n}=await Promise.resolve().then(()=>_n);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Yo extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class mg extends Yo{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class pg extends Yo{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gg extends Yo{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Vl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Vl||(Vl={}));var yg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};class xg{constructor(e,{headers:r={},customFetch:n,region:s=Vl.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=fg(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return yg(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:l}=r;let o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let u;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=l):typeof l=="string"?(o["Content-Type"]="text/plain",u=l):typeof FormData<"u"&&l instanceof FormData?u=l:(o["Content-Type"]="application/json",u=JSON.stringify(l)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:u}).catch(x=>{throw new mg(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new pg(d);if(!d.ok)throw new gg(d);let m=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield d.json():m==="application/octet-stream"?y=yield d.blob():m==="text/event-stream"?y=d:m==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var De={},Xo={},ua={},Cs={},da={},ha={},vg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gn=vg();const wg=gn.fetch,rf=gn.fetch.bind(gn),nf=gn.Headers,bg=gn.Request,kg=gn.Response,_n=Object.freeze(Object.defineProperty({__proto__:null,Headers:nf,Request:bg,Response:kg,default:rf,fetch:wg},Symbol.toStringTag,{value:"Module"})),jg=Df(_n);var fa={};Object.defineProperty(fa,"__esModule",{value:!0});let _g=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};fa.default=_g;var sf=nt&&nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ha,"__esModule",{value:!0});const Ng=sf(jg),Sg=sf(fa);let Eg=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ng.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,o,c;let u=null,d=null,h=null,m=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const w=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),b=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");w&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,y="OK")}catch{i.status===404&&w===""?(m=204,y="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,y="OK"),u&&this.shouldThrowOnError)throw new Sg.default(u)}return{error:u,data:d,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var l,o,c;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};ha.default=Eg;var Pg=nt&&nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(da,"__esModule",{value:!0});const Cg=Pg(ha);let Tg=class extends Cg.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const l=i?`${i}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(l,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:l="text"}={}){var o;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${u}"; options=${c};`,l==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};da.default=Tg;var Ag=nt&&nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cs,"__esModule",{value:!0});const Ig=Ag(da);let $g=class extends Ig.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${l}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Cs.default=$g;var Og=nt&&nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ua,"__esModule",{value:!0});const Un=Og(Cs);let Lg=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const l=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new Un.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const l=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Un.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const l="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Un.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Un.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Un.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ua.default=Lg;var ma={},pa={};Object.defineProperty(pa,"__esModule",{value:!0});pa.version=void 0;pa.version="0.0.0-automated";Object.defineProperty(ma,"__esModule",{value:!0});ma.DEFAULT_HEADERS=void 0;const Rg=pa;ma.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Rg.version}`};var af=nt&&nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xo,"__esModule",{value:!0});const Ug=af(ua),Dg=af(Cs),zg=ma;let Mg=class lf{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},zg.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Ug.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new lf(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let l;const o=new URL(`${this.url}/rpc/${e}`);let c;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(l="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Dg.default({method:l,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Xo.default=Mg;var Nn=nt&&nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(De,"__esModule",{value:!0});De.PostgrestError=De.PostgrestBuilder=De.PostgrestTransformBuilder=De.PostgrestFilterBuilder=De.PostgrestQueryBuilder=De.PostgrestClient=void 0;const of=Nn(Xo);De.PostgrestClient=of.default;const cf=Nn(ua);De.PostgrestQueryBuilder=cf.default;const uf=Nn(Cs);De.PostgrestFilterBuilder=uf.default;const df=Nn(da);De.PostgrestTransformBuilder=df.default;const hf=Nn(ha);De.PostgrestBuilder=hf.default;const ff=Nn(fa);De.PostgrestError=ff.default;var Fg=De.default={PostgrestClient:of.default,PostgrestQueryBuilder:cf.default,PostgrestFilterBuilder:uf.default,PostgrestTransformBuilder:df.default,PostgrestBuilder:hf.default,PostgrestError:ff.default};const{PostgrestClient:Bg,PostgrestQueryBuilder:ix,PostgrestFilterBuilder:ax,PostgrestTransformBuilder:lx,PostgrestBuilder:ox,PostgrestError:cx}=Fg;let Hl;typeof window>"u"?Hl=require("ws"):Hl=window.WebSocket;const Wg=Hl,Vg="2.11.10",Hg={"X-Client-Info":`realtime-js/${Vg}`},qg="1.0.0",mf=1e4,Kg=1e3;var ln;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ln||(ln={}));var Ae;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ae||(Ae={}));var dt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(dt||(dt={}));var ql;(function(t){t.websocket="websocket"})(ql||(ql={}));var wr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(wr||(wr={}));class Jg{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const o=n.decode(e.slice(l,l+s));l=l+s;const c=n.decode(e.slice(l,l+i));l=l+i;const u=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class pf{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ae;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ae||(ae={}));const wu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,l)=>(i[l]=Qg(l,t,e,s),i),{})},Qg=(t,e,r,n)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,l=r[t];return i&&!n.includes(i)?gf(i,l):Kl(l)},gf=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Zg(e,r)}switch(t){case ae.bool:return Gg(e);case ae.float4:case ae.float8:case ae.int2:case ae.int4:case ae.int8:case ae.numeric:case ae.oid:return Yg(e);case ae.json:case ae.jsonb:return Xg(e);case ae.timestamp:return e0(e);case ae.abstime:case ae.date:case ae.daterange:case ae.int4range:case ae.int8range:case ae.money:case ae.reltime:case ae.text:case ae.time:case ae.timestamptz:case ae.timetz:case ae.tsrange:case ae.tstzrange:return Kl(e);default:return Kl(e)}},Kl=t=>t,Gg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Yg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Xg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Zg=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const l=t.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>gf(e,o))}return t},e0=t=>typeof t=="string"?t.replace(" ","T"):t,yf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Ha{constructor(e,r,n={},s=mf){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var bu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(bu||(bu={}));class Xn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xn.syncState(this.state,s,i,l),this.pendingDiffs.forEach(c=>{this.state=Xn.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Xn.syncDiff(this.state,s,i,l),o())}),this.onJoin((s,i,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:l})}),this.onLeave((s,i,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),l=this.transformState(r),o={},c={};return this.map(i,(u,d)=>{l[u]||(c[u]=d)}),this.map(l,(u,d)=>{const h=i[u];if(h){const m=d.map(b=>b.presence_ref),y=h.map(b=>b.presence_ref),x=d.filter(b=>y.indexOf(b.presence_ref)<0),w=h.filter(b=>m.indexOf(b.presence_ref)<0);x.length>0&&(o[u]=x),w.length>0&&(c[u]=w)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(c),d.length>0){const h=e[o].map(y=>y.presence_ref),m=d.filter(y=>h.indexOf(y.presence_ref)<0);e[o].unshift(...m)}n(o,d,c)}),this.map(l,(o,c)=>{let u=e[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[o]=u,s(o,u,c),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ku;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ku||(ku={}));var ju;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ju||(ju={}));var Et;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Et||(Et={}));class Zo{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ha(this,dt.join,this.params,this.timeout),this.rejoinTimer=new pf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ae.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Xn(this),this.broadcastEndpointURL=yf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:l,private:o}}=this.params;this._onError(d=>e==null?void 0:e(Et.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Et.CLOSED));const c={},u={broadcast:i,presence:l,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(Et.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,x=[];for(let w=0;w<y;w++){const b=m[w],{filter:{event:g,schema:f,table:p,filter:v}}=b,j=d&&d[w];if(j&&j.event===g&&j.schema===f&&j.table===p&&j.filter===v)x.push(Object.assign(Object.assign({},b),{id:j.id}));else{this.unsubscribe(),this.state=Ae.errored,e==null||e(Et.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Et.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ae.errored,e==null||e(Et.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Et.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:l}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ae.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new Ha(this,dt.leave,{},e);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),l}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ha(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const l=e.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=dt;if(n&&[o,c,u,d].indexOf(l)>=0&&n!==this._joinRef())return;let m=this._onMessage(l,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var x,w,b;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(w=y.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===l}).map(y=>y.callback(m,n)):(i=this.bindings[l])===null||i===void 0||i.filter(y=>{var x,w,b,g,f,p;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const v=y.id,j=(x=y.filter)===null||x===void 0?void 0:x.event;return v&&((w=r.ids)===null||w===void 0?void 0:w.includes(v))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const v=(f=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return v==="*"||v===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:w,table:b,commit_timestamp:g,type:f,errors:p}=x;m=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:g,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(x))}y.callback(m,n)})}_isClosed(){return this.state===Ae.closed}_isJoined(){return this.state===Ae.joined}_isJoining(){return this.state===Ae.joining}_isLeaving(){return this.state===Ae.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Zo.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(dt.close,{},e)}_onError(e){this._on(dt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ae.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=wu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=wu(e.columns,e.old_record)),r}}const _u=()=>{},t0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class r0{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Hg,this.params={},this.timeout=mf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_u,this.ref=0,this.logger=_u,this.conn=null,this.sendBuffer=[],this.serializer=new Jg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...o)=>jn(async()=>{const{default:c}=await Promise.resolve().then(()=>_n);return{default:c}},void 0).then(({default:c})=>c(...o)):l=fetch,(...o)=>l(...o)},this.endPoint=`${e}/${ql.websocket}`,this.httpEndpoint=yf(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,l)=>l(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new pf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Wg),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new n0(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qg}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ln.connecting:return wr.Connecting;case ln.open:return wr.Open;case ln.closing:return wr.Closing;default:return wr.Closed}}isConnected(){return this.connectionState()===wr.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Zo(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,l=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(dt.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Kg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:l}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${l&&"("+l+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,l)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(dt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([t0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class n0{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ln.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class ec extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function be(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class s0 extends ec{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Jl extends ec{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var i0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const xf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>jn(async()=>{const{default:n}=await Promise.resolve().then(()=>_n);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},a0=()=>i0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield jn(()=>Promise.resolve().then(()=>_n),void 0)).Response:Response}),Ql=t=>{if(Array.isArray(t))return t.map(r=>Ql(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Ql(n)}),e};var Or=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const qa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),l0=(t,e,r)=>Or(void 0,void 0,void 0,function*(){const n=yield a0();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new s0(qa(s),t.status||500))}).catch(s=>{e(new Jl(qa(s),s))}):e(new Jl(qa(t),t))}),o0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Ts(t,e,r,n,s,i){return Or(this,void 0,void 0,function*(){return new Promise((l,o)=>{t(r,o0(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>l0(c,o,n))})})}function Wi(t,e,r,n){return Or(this,void 0,void 0,function*(){return Ts(t,"GET",e,r,n)})}function Kt(t,e,r,n,s){return Or(this,void 0,void 0,function*(){return Ts(t,"POST",e,n,s,r)})}function c0(t,e,r,n,s){return Or(this,void 0,void 0,function*(){return Ts(t,"PUT",e,n,s,r)})}function u0(t,e,r,n){return Or(this,void 0,void 0,function*(){return Ts(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function vf(t,e,r,n,s){return Or(this,void 0,void 0,function*(){return Ts(t,"DELETE",e,n,s,r)})}var Re=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const d0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class h0{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=xf(s)}uploadOrUpdate(e,r,n,s){return Re(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},Nu),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{})),m=yield h.json();return h.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(be(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Re(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Nu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:d}),m=yield h.json();return h.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(be(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Re(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Kt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new ec("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:o},error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}update(e,r,n){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Re(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Re(this,void 0,void 0,function*(){try{return{data:{path:(yield Kt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Re(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Kt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Re(this,void 0,void 0,function*(){try{const s=yield Kt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}download(e,r){return Re(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Wi(this.fetch,`${this.url}/${s}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(be(o))return{data:null,error:o};throw o}})}info(e){return Re(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Wi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ql(n),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}exists(e){return Re(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield u0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(be(n)&&n instanceof Jl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return Re(this,void 0,void 0,function*(){try{return{data:yield vf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}list(e,r,n){return Re(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},d0),r),{prefix:e||""});return{data:yield Kt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const f0="2.7.1",m0={"X-Client-Info":`storage-js/${f0}`};var Ur=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};class p0{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},m0),r),this.fetch=xf(n)}listBuckets(){return Ur(this,void 0,void 0,function*(){try{return{data:yield Wi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(be(e))return{data:null,error:e};throw e}})}getBucket(e){return Ur(this,void 0,void 0,function*(){try{return{data:yield Wi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Ur(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Ur(this,void 0,void 0,function*(){try{return{data:yield c0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ur(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ur(this,void 0,void 0,function*(){try{return{data:yield vf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}}class g0 extends p0{constructor(e,r={},n){super(e,r,n)}from(e){return new h0(this.url,this.headers,e,this.fetch)}}const y0="2.50.0";let Bn="";typeof Deno<"u"?Bn="deno":typeof document<"u"?Bn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bn="react-native":Bn="node";const x0={"X-Client-Info":`supabase-js-${Bn}/${y0}`},v0={headers:x0},w0={schema:"public"},b0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},k0={};var j0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const _0=t=>{let e;return t?e=t:typeof fetch>"u"?e=rf:e=fetch,(...r)=>e(...r)},N0=()=>typeof Headers>"u"?nf:Headers,S0=(t,e,r)=>{const n=_0(r),s=N0();return(i,l)=>j0(void 0,void 0,void 0,function*(){var o;const c=(o=yield e())!==null&&o!==void 0?o:t;let u=new s(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},l),{headers:u}))})};var E0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};function P0(t){return t.endsWith("/")?t:t+"/"}function C0(t,e){var r,n;const{db:s,auth:i,realtime:l,global:o}=t,{db:c,auth:u,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),l),global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>E0(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const wf="2.70.0",Fr=30*1e3,Gl=3,Ka=Gl*Fr,T0="http://localhost:9999",A0="supabase.auth.token",I0={"X-Client-Info":`gotrue-js/${wf}`},Yl="X-Supabase-Api-Version",bf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,O0=6e5;class tc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class L0 extends tc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function R0(t){return q(t)&&t.name==="AuthApiError"}class kf extends tc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class fr extends tc{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Vt extends fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function U0(t){return q(t)&&t.name==="AuthSessionMissingError"}class ei extends fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ti extends fr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ri extends fr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function D0(t){return q(t)&&t.name==="AuthImplicitGrantRedirectError"}class Su extends fr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xl extends fr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ja(t){return q(t)&&t.name==="AuthRetryableFetchError"}class Eu extends fr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Zn extends fr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pu=` 	
\r=`.split(""),z0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Pu.length;e+=1)t[Pu[e].charCodeAt(0)]=-2;for(let e=0;e<Vi.length;e+=1)t[Vi[e].charCodeAt(0)]=e;return t})();function Cu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Vi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Vi[n]),e.queuedBits-=6}}function jf(t,e,r){const n=z0[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Tu(t){const e=[],r=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=l=>{B0(l,n,r)};for(let l=0;l<t.length;l+=1)jf(t.charCodeAt(l),s,i);return e.join("")}function M0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function F0(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}M0(n,e)}}function B0(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function W0(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)jf(t.charCodeAt(s),r,n);return new Uint8Array(e)}function V0(t){const e=[];return F0(t,r=>e.push(r)),new Uint8Array(e)}function H0(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Cu(s,r,n)),Cu(null,r,n),e.join("")}function q0(t){return Math.round(Date.now()/1e3)+t}function K0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ot=()=>typeof window<"u"&&typeof document<"u",pr={tested:!1,writable:!1},es=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pr.tested)return pr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),pr.tested=!0,pr.writable=!0}catch{pr.tested=!0,pr.writable=!1}return pr.writable};function J0(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const _f=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>jn(async()=>{const{default:n}=await Promise.resolve().then(()=>_n);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Q0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Nf=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ni=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},si=async(t,e)=>{await t.removeItem(e)};class ga{constructor(){this.promise=new ga.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ga.promiseConstructor=Promise;function Qa(t){const e=t.split(".");if(e.length!==3)throw new Zn("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!$0.test(e[n]))throw new Zn("JWT not in base64url format");return{header:JSON.parse(Tu(e[0])),payload:JSON.parse(Tu(e[1])),signature:W0(e[2]),raw:{header:e[0],payload:e[1]}}}async function G0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Y0(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await t(i);if(!e(i,null,l)){n(l);return}}catch(l){if(!e(i,l)){s(l);return}}})()})}function X0(t){return("0"+t.toString(16)).substr(-2)}function Z0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,X0).join("")}async function ey(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function ty(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await ey(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dr(t,e,r=!1){const n=Z0();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Nf(t,`${e}-code-verifier`,s);const i=await ty(n);return[i,n===i?"plain":"s256"]}const ry=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ny(t){const e=t.headers.get(Yl);if(!e||!e.match(ry))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function sy(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function iy(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ay=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zr(t){if(!ay.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var ly=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const vr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),oy=[502,503,504];async function Au(t){var e;if(!Q0(t))throw new Xl(vr(t),0);if(oy.includes(t.status))throw new Xl(vr(t),t.status);let r;try{r=await t.json()}catch(i){throw new kf(vr(i),i)}let n;const s=ny(t);if(s&&s.getTime()>=bf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Eu(vr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Vt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new Eu(vr(r),t.status,r.weak_password.reasons);throw new L0(vr(r),t.status||500,n)}const cy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function G(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Yl]||(i[Yl]=bf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await uy(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function uy(t,e,r,n,s,i){const l=cy(e,n,s,i);let o;try{o=await t(r,Object.assign({},l))}catch(c){throw console.error(c),new Xl(vr(c),0)}if(o.ok||await Au(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await Au(c)}}function Nt(t){var e;let r=null;my(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=q0(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Iu(t){const e=Nt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Gt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function dy(t){return{data:t,error:null}}function hy(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,l=ly(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function fy(t){return t}function my(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ga=["global","local","others"];var py=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class gy{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=_f(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Ga[0]){if(Ga.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ga.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Gt})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=py(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:hy,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(q(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Gt})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,l,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:fy});if(d.error)throw d.error;const h=await d.json(),m=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(q(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){zr(e);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Gt})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){zr(e);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Gt})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){zr(e);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Gt})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){zr(e.userId);try{const{data:r,error:n}=await G(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(q(r))return{data:null,error:r};throw r}}async _deleteFactor(e){zr(e.userId),zr(e.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}}const yy={getItem:t=>es()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{es()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{es()&&globalThis.localStorage.removeItem(t)}};function $u(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function xy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Mr={debug:!!(globalThis&&es()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class vy extends Sf{}async function wy(t,e,r){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new vy(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Mr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}xy();const by={url:T0,storageKey:A0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:I0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ou(t,e,r){return await r()}class ws{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ws.nextInstanceID,ws.nextInstanceID+=1,this.instanceID>0&&ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},by),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new gy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=_f(s.fetch),this.lock=s.lock||Ou,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ot()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=wy:this.lock=Ou,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:es()?this.storage=yy:(this.memoryStorage={},this.storage=$u(this.memoryStorage)):(this.memoryStorage={},this.storage=$u(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${wf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=J0(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ot()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),D0(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return q(r)?{error:r}:{error:new kf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Nt}),{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:m}=e;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await Dr(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:x},xform:Nt})}else if("phone"in e){const{phone:d,password:h,options:m}=e;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Nt})}else throw new ti("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:l,options:o}=e;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Iu})}else if("phone"in e){const{phone:i,password:l,options:o}=e;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Iu})}else throw new ti("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ei}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,l,o,c,u,d,h,m,y;let x,w;if("message"in e)x=e.message,w=e.signature;else{const{chain:b,wallet:g,statement:f,options:p}=e;let v;if(ot())if(typeof g=="object")v=g;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))v=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=g}const j=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in v&&v.signIn){const N=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),f?{statement:f}:null));let E;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")E=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)E=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)x=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${j.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const N=await v.signMessage(new TextEncoder().encode(x),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=N}}try{const{data:b,error:g}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:H0(w)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Nt});if(g)throw g;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new ei}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:g})}catch(b){if(q(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const r=await ni(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:l}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Nt});if(await si(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ei}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:l})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:l}=e,o=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Nt}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ei}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,l;try{if("email"in e){const{email:o,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Dr(this.storage,this.storageKey));const{error:h}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:o,options:c}=e,{data:u,error:d}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ti("You must provide either an email or phone number.")}catch(o){if(q(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:o}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Nt});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,u=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await Dr(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:dy})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Vt;const{error:s}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:l}=await G(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:l,error:o}=await G(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new ti("You must provide either an email or phone number and a type")}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ni(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ka:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Gt}):await this._useSession(async r=>{var n,s,i;const{data:l,error:o}=r;if(o)throw o;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vt}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Gt})})}catch(r){if(q(r))return U0(r)&&(await this._removeSession(),await si(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Vt;const l=s.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await Dr(this.storage,this.storageKey));const{data:u,error:d}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:Gt});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Vt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:l}=Qa(e.access_token);if(l.exp&&(n=l.exp,s=n<=r),s){const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(q(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:l,error:o}=r;if(o)throw o;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Vt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ot())throw new ri("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ri(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Su("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ri("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Su("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:u}=e;if(!i||!o||!l||!u)throw new ri("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let m=d+h;c&&(m=parseInt(c));const y=m-d;y*1e3<=Fr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const x=m-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:l,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ni(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:o}=await this.admin.signOut(l,e);if(o&&!(R0(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await si(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=K0(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Dr(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var l,o,c,u,d;const{data:h,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ot()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(q(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)throw l;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Y0(async s=>(s>0&&await G0(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Nt})),(s,i)=>{const l=200*Math.pow(2,s);return i&&Ja(i)&&Date.now()+l-n<Fr})}catch(n){if(this._debug(r,"error",n),q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ot()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ni(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Ka;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Ka}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Ja(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ga;const{data:i,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!i.session)throw new Vt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),q(i)){const l={session:null,error:i};return Ja(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Nf(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await si(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Fr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Fr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Fr}ms, refresh threshold is ${Gl} ticks`),s<=Gl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Sf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await Dr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await G(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await G(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:l,error:o}=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(r){if(q(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(q(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Qa(s.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n||(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+O0>Date.now()))return n;const{data:s,error:i}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Zn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(l=>l.kid===e),!n)throw new Zn("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:y,error:x}=await this.getSession();if(x||!y.session)return{data:null,error:x};n=y.session.access_token}const{header:s,payload:i,signature:l,raw:{header:o,payload:c}}=Qa(n);if(sy(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:l},error:null}}const u=iy(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,l,V0(`${o}.${c}`)))throw new Zn("Invalid JWT signature");return{data:{claims:i,header:s,signature:l},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}}ws.nextInstanceID=0;const ky=ws;class jy extends ky{constructor(e){super(e)}}var _y=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};class Ny{constructor(e,r,n){var s,i,l;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=P0(e),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:w0,realtime:k0,auth:Object.assign(Object.assign({},b0),{storageKey:u}),global:v0},h=C0(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=S0(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Bg(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new xg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new g0(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return _y(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:l,lock:o,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jy({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:l,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new r0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Sy=(t,e,r)=>new Ny(t,e,r),Ey="https://gemidmleolewepelgrln.supabase.co",Py="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdlbWlkbWxlb2xld2VwZWxncmxuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA0OTIzODIsImV4cCI6MjA2NjA2ODM4Mn0.66_oBrCVSLHsUxtGQbY3aZW_fyKZmOFZt3M34Y3-UrI",J=Sy(Ey,Py,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},db:{schema:"public"},global:{headers:{"x-my-custom-header":"linkedin-scraper"}}}),Lu=async t=>{try{const{data:e,error:r}=await J.rpc("get_or_create_user_profile",{user_auth_id:t});return r?(console.error("Error getting user profile:",r),null):e}catch(e){return console.error("Error getting user profile:",e),null}},Cy=async t=>{try{const{data:e,error:r}=await J.from("linkedin_profiles").select("*").eq("linkedin_url",t).single();return r&&r.code!=="PGRST116"?(console.error("Error checking profile:",r),null):e}catch(e){return console.error("Error checking profile:",e),null}},Ru=async(t,e,r,n=[])=>{try{const{ImageStorageService:s}=await jn(async()=>{const{ImageStorageService:c}=await Promise.resolve().then(()=>Gy);return{ImageStorageService:c}},void 0),i=await s.optimizeProfileImages(r,`${t}-${Date.now()}`),{data:l,error:o}=await J.from("linkedin_profiles").upsert({user_id:t,linkedin_url:e,profile_data:i,tags:n,last_updated:new Date().toISOString()},{onConflict:"linkedin_url"}).select().single();return o?(console.error("Error upserting profile:",o),null):l}catch(s){return console.error("Error upserting profile:",s),null}},Wt=async t=>{try{const{data:e,error:r}=await J.from("linkedin_profiles").select("*").eq("user_id",t).order("last_updated",{ascending:!1});return r?(console.error("Error getting user profiles:",r),[]):e||[]}catch(e){return console.error("Error getting user profiles:",e),[]}},gr=async()=>{try{const{data:t,error:e}=await J.from("linkedin_profiles").select("*").order("last_updated",{ascending:!1});return e?(console.error("Error getting all profiles:",e),[]):t||[]}catch(t){return console.error("Error getting all profiles:",t),[]}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ty={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(t,e)=>{const r=P.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...u},d)=>P.createElement("svg",{ref:d,...Ty,width:s,height:s,stroke:n,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Ay(t)}`,o].join(" "),...u},[...e.map(([h,m])=>P.createElement(h,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=V("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=V("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=V("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=V("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=V("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=V("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=V("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=V("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=V("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=V("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=V("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=V("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=V("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=V("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=V("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=V("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=V("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=V("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=V("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=V("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=V("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=V("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=V("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=V("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=V("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=V("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=V("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=V("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=V("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=V("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=V("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=V("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=V("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=V("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=V("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Dy=({onSuccess:t,onSwitchToSignup:e,onSwitchToReset:r})=>{const[n,s]=P.useState(""),[i,l]=P.useState(""),[o,c]=P.useState(!1),[u,d]=P.useState(!1),[h,m]=P.useState(""),y=async x=>{x.preventDefault(),d(!0),m("");try{const{data:w,error:b}=await J.auth.signInWithPassword({email:n.trim(),password:i});if(b){b.message.includes("Invalid login credentials")?m("Invalid email or password. Please check your credentials and try again."):b.message.includes("Email not confirmed")?m("Please check your email and click the confirmation link before signing in."):b.message.includes("Too many requests")?m("Too many login attempts. Please wait a few minutes before trying again."):m(b.message);return}w.user&&t()}catch(w){console.error("Login error:",w),m("An unexpected error occurred. Please try again.")}finally{d(!1)}};return a.jsxs("form",{onSubmit:y,className:"space-y-6",children:[h&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(jt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-sm text-red-700",children:h})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Dt,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",type:"email",value:n,onChange:x=>s(x.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email",required:!0,disabled:u})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ks,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",type:o?"text":"password",value:i,onChange:x=>l(x.target.value),className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your password",required:!0,disabled:u}),a.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:u,children:o?a.jsx($t,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):a.jsx(gt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),a.jsx("button",{type:"button",onClick:r,className:"text-sm text-blue-600 hover:text-blue-500 font-medium",disabled:u,children:"Forgot password?"})]}),a.jsx("button",{type:"submit",disabled:u||!n||!i,className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?a.jsxs(a.Fragment,{children:[a.jsx(qe,{className:"w-4 h-4 animate-spin"}),"Signing in..."]}):"Sign In"}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Don't have an account? "}),a.jsx("button",{type:"button",onClick:e,className:"text-sm text-blue-600 hover:text-blue-500 font-medium",disabled:u,children:"Sign up"})]})]})},zy=({onSuccess:t,onSwitchToLogin:e})=>{const[r,n]=P.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[s,i]=P.useState(!1),[l,o]=P.useState(!1),[c,u]=P.useState(!1),[d,h]=P.useState(""),[m,y]=P.useState(!1),w=(f=>{const p=f.length>=8,v=/[A-Z]/.test(f),j=/[a-z]/.test(f),N=/\d/.test(f),E=/[!@#$%^&*(),.?":{}|<>]/.test(f);return{minLength:p,hasUpperCase:v,hasLowerCase:j,hasNumbers:N,hasSpecialChar:E,isValid:p&&v&&j&&N&&E}})(r.password),b=f=>{const{name:p,value:v}=f.target;n(j=>({...j,[p]:v})),h("")},g=async f=>{if(f.preventDefault(),u(!0),h(""),!r.firstName.trim()||!r.lastName.trim()){h("Please enter your first and last name."),u(!1);return}if(!w.isValid){h("Password does not meet the security requirements."),u(!1);return}if(r.password!==r.confirmPassword){h("Passwords do not match."),u(!1);return}try{console.log("Attempting to create user account...");const{data:p,error:v}=await J.auth.signUp({email:r.email.trim().toLowerCase(),password:r.password,options:{data:{first_name:r.firstName.trim(),last_name:r.lastName.trim(),full_name:`${r.firstName.trim()} ${r.lastName.trim()}`}}});if(v){console.error("Signup error:",v),v.message.includes("User already registered")?h("An account with this email already exists. Please sign in instead."):v.message.includes("Password should be")?h("Password does not meet the minimum requirements."):v.message.includes("Invalid email")?h("Please enter a valid email address."):v.message.includes("Database error saving new user")?h("There was a problem creating your account. This may be a temporary issue with our service. Please try again in a few moments, or contact support if the problem persists."):v.message.includes("unexpected_failure")?h("An unexpected error occurred while creating your account. Please try again, or contact support if this continues to happen."):v.message.includes("timeout")||v.message.includes("network")?h("Network connection issue. Please check your internet connection and try again."):h(`Account creation failed: ${v.message}`);return}p.user&&(console.log("User created successfully:",p.user.id),p.user.email_confirmed_at?(console.log("User confirmed immediately, proceeding to app..."),t()):(console.log("Email confirmation required"),y(!0)))}catch(p){console.error("Unexpected signup error:",p),p instanceof Error?p.message.includes("Failed to fetch")||p.message.includes("network")?h("Network connection failed. Please check your internet connection and try again."):p.message.includes("timeout")?h("Request timed out. Please try again."):h(`An unexpected error occurred: ${p.message}`):h("An unexpected error occurred. Please try again.")}finally{u(!1)}};return m?a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:a.jsx(et,{className:"w-8 h-8 text-green-600"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Check Your Email"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:["We've sent a confirmation link to ",a.jsx("strong",{children:r.email}),". Please check your email and click the link to activate your account."]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Didn't receive the email? Check your spam folder or contact support."})]}),a.jsx("button",{onClick:e,className:"w-full py-3 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Back to Sign In"})]}):a.jsxs("form",{onSubmit:g,className:"space-y-6",children:[d&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(jt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-sm text-red-700",children:d})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ft,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"firstName",name:"firstName",type:"text",value:r.firstName,onChange:b,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"First name",required:!0,disabled:c})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),a.jsx("input",{id:"lastName",name:"lastName",type:"text",value:r.lastName,onChange:b,className:"block w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Last name",required:!0,disabled:c})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Dt,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",value:r.email,onChange:b,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email",required:!0,disabled:c})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ks,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:s?"text":"password",value:r.password,onChange:b,className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Create a password",required:!0,disabled:c}),a.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:c,children:s?a.jsx($t,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):a.jsx(gt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),r.password&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx("div",{className:"text-xs text-gray-600",children:"Password must contain:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:`flex items-center gap-1 ${w.minLength?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w.minLength?"bg-green-600":"bg-gray-300"}`}),"8+ characters"]}),a.jsxs("div",{className:`flex items-center gap-1 ${w.hasUpperCase?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w.hasUpperCase?"bg-green-600":"bg-gray-300"}`}),"Uppercase letter"]}),a.jsxs("div",{className:`flex items-center gap-1 ${w.hasLowerCase?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w.hasLowerCase?"bg-green-600":"bg-gray-300"}`}),"Lowercase letter"]}),a.jsxs("div",{className:`flex items-center gap-1 ${w.hasNumbers?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w.hasNumbers?"bg-green-600":"bg-gray-300"}`}),"Number"]}),a.jsxs("div",{className:`flex items-center gap-1 ${w.hasSpecialChar?"text-green-600":"text-gray-400"} col-span-2`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w.hasSpecialChar?"bg-green-600":"bg-gray-300"}`}),"Special character (!@#$%^&*)"]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ks,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:l?"text":"password",value:r.confirmPassword,onChange:b,className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Confirm your password",required:!0,disabled:c}),a.jsx("button",{type:"button",onClick:()=>o(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:c,children:l?a.jsx($t,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):a.jsx(gt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),r.confirmPassword&&r.password!==r.confirmPassword&&a.jsx("div",{className:"mt-2 text-xs text-red-600",children:"Passwords do not match"})]}),a.jsx("button",{type:"submit",disabled:c||!w.isValid||r.password!==r.confirmPassword||!r.firstName.trim()||!r.lastName.trim(),className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?a.jsxs(a.Fragment,{children:[a.jsx(qe,{className:"w-4 h-4 animate-spin"}),"Creating account..."]}):"Create Account"}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Already have an account? "}),a.jsx("button",{type:"button",onClick:e,className:"text-sm text-blue-600 hover:text-blue-500 font-medium",disabled:c,children:"Sign in"})]})]})},My=({onBackToLogin:t})=>{const[e,r]=P.useState(""),[n,s]=P.useState(!1),[i,l]=P.useState(""),[o,c]=P.useState(!1),u=async d=>{d.preventDefault(),s(!0),l("");try{const{error:h}=await J.auth.resetPasswordForEmail(e.trim(),{redirectTo:`${window.location.origin}/reset-password`});if(h){h.message.includes("Invalid email")?l("Please enter a valid email address."):h.message.includes("Email not found")?l("No account found with this email address."):l(h.message);return}c(!0)}catch(h){console.error("Password reset error:",h),l("An unexpected error occurred. Please try again.")}finally{s(!1)}};return o?a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:a.jsx(et,{className:"w-8 h-8 text-green-600"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Check Your Email"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:["We've sent a password reset link to ",a.jsx("strong",{children:e}),". Please check your email and follow the instructions to reset your password."]}),a.jsx("p",{className:"text-sm text-gray-500",children:"The link will expire in 1 hour for security reasons."})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:t,className:"w-full py-3 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Back to Sign In"}),a.jsx("button",{onClick:()=>{c(!1),r(""),l("")},className:"w-full text-sm text-blue-600 hover:text-blue-500 font-medium",children:"Send another reset email"})]})]}):a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsx("div",{className:"text-center mb-6",children:a.jsx("p",{className:"text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."})}),i&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(jt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-sm text-red-700",children:i})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Dt,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",type:"email",value:e,onChange:d=>r(d.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email address",required:!0,disabled:n})]})]}),a.jsx("button",{type:"submit",disabled:n||!e.trim(),className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?a.jsxs(a.Fragment,{children:[a.jsx(qe,{className:"w-4 h-4 animate-spin"}),"Sending reset link..."]}):"Send Reset Link"}),a.jsxs("button",{type:"button",onClick:t,className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",disabled:n,children:[a.jsx(ya,{className:"w-4 h-4"}),"Back to Sign In"]})]})},Fy=({onAuthSuccess:t})=>{const[e,r]=P.useState("login"),n=()=>{t&&t()};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[a.jsxs("div",{className:"hidden lg:block space-y-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-blue-600 rounded-xl",children:a.jsx(ts,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"LinkedIn Scraper"}),a.jsx("p",{className:"text-gray-600",children:"Professional Data Intelligence Platform"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Unlock Professional Insights"}),a.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"Extract valuable data from LinkedIn posts and profiles with our advanced scraping technology. Build comprehensive databases of professional contacts and market intelligence."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white rounded-lg shadow-sm border border-gray-100",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Me,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Profile Intelligence"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Extract detailed professional profiles with contact information, experience, and skills."})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white rounded-lg shadow-sm border border-gray-100",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Af,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Secure & Compliant"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Enterprise-grade security with data protection and privacy compliance built-in."})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white rounded-lg shadow-sm border border-gray-100",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(ks,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Advanced Analytics"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Export data in multiple formats and integrate with your existing CRM and marketing tools."})]})]})]})]}),a.jsxs("div",{className:"w-full max-w-md mx-auto",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"px-8 py-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:a.jsx(ts,{className:"w-6 h-6"})})}),a.jsxs("h2",{className:"text-xl font-bold",children:[e==="login"&&"Welcome Back",e==="signup"&&"Create Account",e==="reset"&&"Reset Password"]}),a.jsxs("p",{className:"text-blue-100 text-sm mt-1",children:[e==="login"&&"Sign in to access your dashboard",e==="signup"&&"Join thousands of professionals",e==="reset"&&"We'll send you a reset link"]})]})}),a.jsxs("div",{className:"p-8",children:[e==="login"&&a.jsx(Dy,{onSuccess:n,onSwitchToSignup:()=>r("signup"),onSwitchToReset:()=>r("reset")}),e==="signup"&&a.jsx(zy,{onSuccess:n,onSwitchToLogin:()=>r("login")}),e==="reset"&&a.jsx(My,{onBackToLogin:()=>r("login")})]})]}),a.jsxs("div",{className:"lg:hidden mt-8 text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[a.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:a.jsx(ts,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"LinkedIn Scraper"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Professional Data Intelligence Platform"})]})]})]})})},By=({onScrape:t,isLoading:e,disabled:r=!1})=>{const[n,s]=P.useState("post_comments"),[i,l]=P.useState(""),o=async d=>{d.preventDefault(),!(!i.trim()||r)&&(await t(n,i.trim()),l(""))},c=()=>{switch(n){case"post_comments":return"https://www.linkedin.com/posts/...";case"profile_details":return"https://www.linkedin.com/in/username";case"mixed":return"https://www.linkedin.com/posts/... (will scrape post + profiles)";default:return""}},u=()=>{switch(n){case"post_comments":return a.jsx(Ya,{className:"w-5 h-5"});case"profile_details":return a.jsx(zu,{className:"w-5 h-5"});case"mixed":return a.jsx(Me,{className:"w-5 h-5"});default:return a.jsx(Ya,{className:"w-5 h-5"})}};return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:u()}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"LinkedIn Scraper"})]}),r&&a.jsxs("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-lg flex items-start gap-3",children:[a.jsx(Iy,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-sm text-amber-700",children:[a.jsx("p",{className:"font-medium",children:"Setup Required"}),a.jsx("p",{children:"Please select a user and configure an Apify API key before starting to scrape."})]})]}),a.jsxs("form",{onSubmit:o,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Scraping Type"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("button",{type:"button",onClick:()=>s("post_comments"),disabled:r,className:`p-4 rounded-lg border-2 transition-all ${n==="post_comments"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"} ${r?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx(Ya,{className:"w-6 h-6 mx-auto mb-2"}),a.jsx("div",{className:"font-medium",children:"Post Comments"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Scrape post engagers"})]}),a.jsxs("button",{type:"button",onClick:()=>s("profile_details"),disabled:r,className:`p-4 rounded-lg border-2 transition-all ${n==="profile_details"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"} ${r?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx(zu,{className:"w-6 h-6 mx-auto mb-2"}),a.jsx("div",{className:"font-medium",children:"Profile Details"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Scrape profile info"})]}),a.jsxs("button",{type:"button",onClick:()=>s("mixed"),disabled:r,className:`p-4 rounded-lg border-2 transition-all ${n==="mixed"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"} ${r?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx(Me,{className:"w-6 h-6 mx-auto mb-2"}),a.jsx("div",{className:"font-medium",children:"Mixed"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Post + Profiles"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn URL"}),a.jsx("input",{type:"url",id:"url",value:i,onChange:d=>l(d.target.value),placeholder:c(),disabled:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",required:!0})]}),a.jsx("button",{type:"submit",disabled:e||!i.trim()||r,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:e?a.jsxs(a.Fragment,{children:[a.jsx(qe,{className:"w-5 h-5 animate-spin"}),"Scraping..."]}):a.jsxs(a.Fragment,{children:[u(),"Start Scraping"]})})]})]})},Wy=({profiles:t,onUpdateProfile:e,onUpdateSelectedProfiles:r,onDeleteSelectedProfiles:n,onExport:s,onViewDetails:i,isUpdating:l})=>{const[o,c]=P.useState(new Set(["select","picture","name","headline","location","connections","company","tags","updated","actions"])),[u,d]=P.useState(""),[h,m]=P.useState(new Set),[y,x]=P.useState(!1),[w,b]=P.useState(new Set),[g,f]=P.useState({hasEmail:!1,hasPhone:!1,hasWebsite:!1,hasSkills:!1,hasExperience:!1,hasEducation:!1,hasCertifications:!1,hasAbout:!1,hasLocation:!1,hasCurrentJob:!1}),[p,v]=P.useState(!1),j=[{key:"select",label:"Select"},{key:"picture",label:"Picture"},{key:"name",label:"Name"},{key:"headline",label:"Headline"},{key:"location",label:"Location"},{key:"connections",label:"Connections"},{key:"followers",label:"Followers"},{key:"company",label:"Current Company"},{key:"jobTitle",label:"Job Title"},{key:"duration",label:"Current Role Duration"},{key:"experience",label:"Experience"},{key:"education",label:"Education"},{key:"skills",label:"Top Skills"},{key:"certifications",label:"Certifications"},{key:"email",label:"Email"},{key:"phone",label:"Phone"},{key:"website",label:"Website"},{key:"tags",label:"Tags"},{key:"updated",label:"Last Updated"},{key:"actions",label:"Actions"}],N=P.useMemo(()=>{const k=new Set;return t.filter(O=>{const S=O.linkedin_url;return k.has(S)?!1:(k.add(S),!0)})},[t]),E=P.useMemo(()=>{let k=N;return u&&(k=k.filter(O=>{const S=O.profile_data||{},_=O.tags||[];return`${S.fullName||S.firstName||""} ${S.lastName||""} ${S.headline||""} ${S.addressWithCountry||""} ${S.companyName||""} ${_.join(" ")}`.toLowerCase().includes(u.toLowerCase())})),k=k.filter(O=>{var _;const S=O.profile_data||{};return!(g.hasEmail&&!S.email||g.hasPhone&&!S.mobileNumber||g.hasWebsite&&!((_=S.creatorWebsite)!=null&&_.link)||g.hasSkills&&(!S.skills||S.skills.length===0)||g.hasExperience&&(!S.experiences||S.experiences.length===0)||g.hasEducation&&(!S.educations||S.educations.length===0)||g.hasCertifications&&(!S.licenseAndCertificates||S.licenseAndCertificates.length===0)||g.hasAbout&&!S.about||g.hasLocation&&!S.addressWithCountry&&!S.addressCountryOnly&&!S.addressWithoutCountry||g.hasCurrentJob&&!S.jobTitle&&!S.companyName)}),k},[N,u,g]),L=k=>{if(k==="select"||k==="actions")return;const O=new Set(o);O.has(k)?O.delete(k):O.add(k),c(O)},X=k=>{f(O=>({...O,[k]:!O[k]}))},B=()=>{f({hasEmail:!1,hasPhone:!1,hasWebsite:!1,hasSkills:!1,hasExperience:!1,hasEducation:!1,hasCertifications:!1,hasAbout:!1,hasLocation:!1,hasCurrentJob:!1})},I=()=>Object.values(g).filter(Boolean).length,$=k=>{const O=new Set(h);O.has(k)?O.delete(k):O.add(k),m(O),x(O.size>0)},T=()=>{h.size===E.length?(m(new Set),x(!1)):(m(new Set(E.map(k=>k.id))),x(!0))},W=async(k,O)=>{b(S=>new Set(S).add(O));try{await e(k)}catch(S){console.error("Error updating profile:",S)}finally{b(S=>{const _=new Set(S);return _.delete(O),_})}},ie=async()=>{if(r&&h.size>0){const k=E.filter(O=>h.has(O.id)).map(O=>O.linkedin_url);await r(k),m(new Set),x(!1)}},Z=async()=>{n&&h.size>0&&window.confirm(`Are you sure you want to delete ${h.size} selected profiles? This action cannot be undone.`)&&(await n(Array.from(h)),m(new Set),x(!1))},ue=k=>{s(k,!0)},A=k=>{if(!k)return{text:"Never",color:"text-gray-600 bg-gray-100 border-gray-200",exact:"Never"};const O=new Date(k),S=new Date,_=new Date(S.getFullYear(),S.getMonth(),S.getDate()),U=new Date(O.getFullYear(),O.getMonth(),O.getDate()),re=_.getTime()-U.getTime(),ge=Math.floor(re/(1e3*60*60*24)),K=O.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"});return ge===0?{text:"Today",color:"text-green-700 bg-green-100 border-green-200",exact:K}:ge<=7?{text:"This week",color:"text-green-600 bg-green-50 border-green-200",exact:K}:ge<=30?{text:"This month",color:"text-blue-600 bg-blue-50 border-blue-200",exact:K}:{text:K,color:"text-amber-700 bg-amber-100 border-amber-200",exact:K}},F=(k,O)=>{var U,re,ge,K,mr,Mt,at,Lr,Ft,As,Is,$s,Os,Ls;const S=k.profile_data||{},_=w.has(k.id);switch(O){case"select":return a.jsx("button",{onClick:()=>$(k.id),className:"text-blue-600 hover:text-blue-800",children:h.has(k.id)?a.jsx(yn,{className:"w-5 h-5"}):a.jsx(vn,{className:"w-5 h-5"})});case"picture":return a.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:S.profilePic||S.profilePicHighQuality?a.jsx("img",{src:S.profilePicHighQuality||S.profilePic,alt:S.fullName||`${S.firstName} ${S.lastName}`,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:"No Photo"})});case"name":return a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900 truncate",children:S.fullName||`${S.firstName||""} ${S.lastName||""}`.trim()}),a.jsx("div",{className:"text-sm text-blue-600 hover:underline",children:a.jsxs("a",{href:k.linkedin_url||S.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1",children:[a.jsx(on,{className:"w-3 h-3"}),"View Profile"]})})]});case"headline":return a.jsx("div",{className:"max-w-xs",children:a.jsx("div",{className:"text-sm text-gray-900 line-clamp-2",title:S.headline,children:S.headline||"No headline"})});case"location":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(js,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:S.addressWithCountry||S.addressCountryOnly||S.addressWithoutCountry||"Not specified"})]});case"connections":return a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(Me,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"font-medium",children:((U=S.connections)==null?void 0:U.toLocaleString())||"0"})]});case"followers":return a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(Me,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"font-medium",children:((re=S.followers)==null?void 0:re.toLocaleString())||"0"})]});case"company":return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rc,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:S.companyName||((mr=(K=(ge=S.experiences)==null?void 0:ge[0])==null?void 0:K.subtitle)==null?void 0:mr.split("  ")[0])||"Not specified"}),S.companyIndustry&&a.jsx("div",{className:"text-xs text-gray-500 truncate",children:S.companyIndustry})]})]});case"jobTitle":return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lr,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-gray-900 truncate",children:S.jobTitle||((at=(Mt=S.experiences)==null?void 0:Mt[0])==null?void 0:at.title)||"Not specified"})]});case"duration":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(nc,{className:"w-4 h-4"}),a.jsx("span",{children:S.currentJobDuration||((As=(Ft=(Lr=S.experiences)==null?void 0:Lr[0])==null?void 0:Ft.caption)==null?void 0:As.split("  ")[1])||"Not specified"})]});case"experience":return a.jsxs("div",{className:"text-sm text-gray-600",children:[((Is=S.experiences)==null?void 0:Is.length)||0," positions"]});case"education":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(bs,{className:"w-4 h-4"}),a.jsxs("span",{children:[(($s=S.educations)==null?void 0:$s.length)||0," schools"]})]});case"skills":return a.jsx("div",{className:"max-w-xs",children:S.skills&&S.skills.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[S.skills.slice(0,3).map((En,Pn)=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:En.title},Pn)),S.skills.length>3&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",S.skills.length-3," more"]})]}):a.jsx("span",{className:"text-sm text-gray-500",children:"No skills listed"})});case"certifications":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(At,{className:"w-4 h-4"}),a.jsxs("span",{children:[((Os=S.licenseAndCertificates)==null?void 0:Os.length)||0," certs"]})]});case"email":return S.email?a.jsxs("a",{href:`mailto:${S.email}`,className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(Dt,{className:"w-4 h-4"}),S.email]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"phone":return S.mobileNumber?a.jsxs("a",{href:`tel:${S.mobileNumber}`,className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(xn,{className:"w-4 h-4"}),S.mobileNumber]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"website":return(Ls=S.creatorWebsite)!=null&&Ls.link?a.jsxs("a",{href:S.creatorWebsite.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(qi,{className:"w-4 h-4"}),S.creatorWebsite.name||"Website"]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"tags":return a.jsx("div",{className:"max-w-xs",children:k.tags&&k.tags.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[k.tags.slice(0,3).map((En,Pn)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs bg-purple-100 text-purple-800",children:[a.jsx(If,{className:"w-3 h-3"}),En]},Pn)),k.tags.length>3&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",k.tags.length-3," more"]})]}):a.jsx("span",{className:"text-sm text-gray-500",children:"No tags"})});case"updated":const Sn=A(k.last_updated);return a.jsxs("div",{className:"group relative",children:[a.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full border ${Sn.color} ${_?"animate-pulse":""}`,children:_?"Updating...":Sn.text}),a.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10 shadow-lg",children:[a.jsx("div",{className:"font-medium",children:"Last Updated"}),a.jsx("div",{children:Sn.exact}),a.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]});case"actions":return a.jsxs("div",{className:"flex gap-2",children:[i&&a.jsxs("button",{onClick:()=>i(S),className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[a.jsx(gt,{className:"w-4 h-4"}),"Details"]}),a.jsxs("button",{onClick:()=>W(k.linkedin_url||S.linkedinUrl,k.id),disabled:l,className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-gray-600 text-white rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx(ic,{className:`w-4 h-4 ${l?"animate-spin":""}`}),l?"Updating...":"Update"]})]});default:return null}};return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Saved Profiles (",E.length,")",h.size>0&&a.jsxs("span",{className:"ml-2 text-sm font-normal text-blue-600",children:["(",h.size," selected)"]}),I()>0&&a.jsxs("span",{className:"ml-2 text-sm font-normal text-green-600",children:["(",I()," filters active)"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Filter profiles...",value:u,onChange:k=>d(k.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>v(!p),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${I()>0?"border-green-500 bg-green-50 text-green-700":"border-gray-300 hover:bg-gray-50"}`,children:[a.jsx(Hi,{className:"w-4 h-4"}),"Data Filters",I()>0&&a.jsx("span",{className:"bg-green-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:I()}),a.jsx(sc,{className:`w-4 h-4 transition-transform ${p?"rotate-180":""}`})]}),p&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Show profiles with:"}),a.jsx("button",{onClick:B,className:"text-xs text-gray-500 hover:text-gray-700",children:"Clear all"})]}),a.jsx("div",{className:"space-y-2",children:[{key:"hasEmail",label:"Email address",icon:Dt},{key:"hasPhone",label:"Phone number",icon:xn},{key:"hasWebsite",label:"Website",icon:qi},{key:"hasLocation",label:"Location",icon:js},{key:"hasCurrentJob",label:"Current job",icon:lr},{key:"hasAbout",label:"About section",icon:Me},{key:"hasSkills",label:"Skills",icon:At},{key:"hasExperience",label:"Experience",icon:lr},{key:"hasEducation",label:"Education",icon:bs},{key:"hasCertifications",label:"Certifications",icon:At}].map(({key:k,label:O,icon:S})=>a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[a.jsx("input",{type:"checkbox",checked:g[k],onChange:()=>X(k),className:"text-blue-600 focus:ring-blue-500"}),a.jsx(S,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-700",children:O})]},k))})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("select",{onChange:k=>s(k.target.value,!1),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"",children:[a.jsx("option",{value:"",disabled:!0,children:"Export All..."}),a.jsx("option",{value:"csv",children:"CSV"}),a.jsx("option",{value:"json",children:"JSON"}),a.jsx("option",{value:"xlsx",children:"Excel"})]})})]})]}),y&&a.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Me,{className:"w-5 h-5 text-blue-600"}),a.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[h.size," profiles selected"]})]}),a.jsxs("div",{className:"flex gap-2",children:[r&&a.jsxs("button",{onClick:ie,disabled:l,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx(Ry,{className:"w-4 h-4"}),"Update Selected"]}),a.jsxs("select",{onChange:k=>{k.target.value&&(ue(k.target.value),k.target.value="")},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"",children:[a.jsx("option",{value:"",disabled:!0,children:"Export Selected..."}),a.jsx("option",{value:"csv",children:"CSV"}),a.jsx("option",{value:"json",children:"JSON"}),a.jsx("option",{value:"xlsx",children:"Excel"})]}),n&&a.jsxs("button",{onClick:Z,className:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[a.jsx(ac,{className:"w-4 h-4"}),"Delete Selected"]}),a.jsx("button",{onClick:()=>{m(new Set),x(!1)},className:"px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"})]})]})}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[h.size===E.length&&E.length>0?a.jsx(yn,{className:"w-4 h-4"}):a.jsx(vn,{className:"w-4 h-4"}),h.size===E.length&&E.length>0?"Deselect All":"Select All"]}),a.jsxs("span",{className:"text-sm text-gray-600",children:[h.size," of ",E.length," selected"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(k=>a.jsxs("button",{onClick:()=>L(k.key),disabled:k.key==="select"||k.key==="actions",className:`inline-flex items-center gap-1 px-3 py-1 text-sm rounded-full transition-colors ${o.has(k.key)?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${k.key==="select"||k.key==="actions"?"opacity-50 cursor-not-allowed":""}`,children:[o.has(k.key)?a.jsx(gt,{className:"w-3 h-3"}):a.jsx($t,{className:"w-3 h-3"}),k.label,o.has(k.key)&&k.key!=="actions"&&k.key!=="select"&&a.jsx(Ki,{className:"w-3 h-3 ml-1 hover:text-red-500"})]},k.key))})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsx("tr",{children:j.filter(k=>o.has(k.key)).map(k=>a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:k.label},k.key))})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(k=>a.jsx("tr",{className:`hover:bg-gray-50 ${h.has(k.id)?"bg-blue-50":""} ${w.has(k.id)?"bg-yellow-50":""}`,children:j.filter(O=>o.has(O.key)).map(O=>a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:F(k,O.key)},O.key))},k.id))})]})}),E.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-500",children:I()>0?"No profiles match the selected filters":"No profiles found"}),I()>0&&a.jsx("button",{onClick:B,className:"mt-2 text-blue-600 hover:text-blue-800 text-sm",children:"Clear all filters"})]})]})},$f=({type:t,stage:e,progress:r=0,message:n,error:s})=>{const i=()=>{switch(t){case"post_comments":return a.jsx(to,{className:"w-6 h-6 text-blue-600"});case"profile_details":return a.jsx(ft,{className:"w-6 h-6 text-green-600"});case"mixed":return a.jsx(Me,{className:"w-6 h-6 text-purple-600"})}},l=()=>{switch(t){case"post_comments":return"Scraping Post Comments";case"profile_details":return"Scraping Profile Details";case"mixed":return"Mixed Scraping (Comments + Profiles)"}},o=()=>{if(s)return s;if(n)return n;switch(e){case"starting":return"Initializing scraping process...";case"scraping_comments":return"Extracting comments from LinkedIn post...";case"extracting_profiles":return"Extracting profile URLs from comments...";case"scraping_profiles":return"Gathering detailed profile information...";case"saving_data":return"Saving data to database...";case"completed":return"Scraping completed successfully!";case"error":return"An error occurred during scraping";default:return"Processing..."}},c=()=>s||e==="error"?"bg-red-500":e==="completed"?"bg-green-500":"bg-blue-500",u=()=>s||e==="error"?"border-red-200 bg-red-50":e==="completed"?"border-green-200 bg-green-50":"border-blue-200 bg-blue-50",d=[{key:"starting",label:"Initialize"},...t==="post_comments"||t==="mixed"?[{key:"scraping_comments",label:"Extract Comments"}]:[],...t==="mixed"?[{key:"extracting_profiles",label:"Extract Profiles"}]:[],...t==="profile_details"||t==="mixed"?[{key:"scraping_profiles",label:"Scrape Profiles"}]:[],{key:"saving_data",label:"Save Data"},{key:"completed",label:"Complete"}],h=d.findIndex(y=>y.key===e),m=e==="completed"?100:Math.max(r,h/(d.length-1)*100);return a.jsxs("div",{className:`rounded-xl border-2 p-6 ${u()}`,children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:e==="completed"?a.jsx(et,{className:"w-6 h-6 text-green-600"}):e==="error"||s?a.jsx(jt,{className:"w-6 h-6 text-red-600"}):a.jsxs("div",{className:"relative",children:[i(),a.jsx(qe,{className:"w-4 h-4 absolute -top-1 -right-1 animate-spin text-gray-600"})]})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:l()}),a.jsx("p",{className:"text-gray-600",children:o()})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{children:[Math.round(m),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${c()}`,style:{width:`${m}%`}})})]}),a.jsx("div",{className:"flex justify-between items-center",children:d.map((y,x)=>{const w=x<h||e==="completed",b=x===h&&e!=="completed",g=e==="error"&&x===h;return a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium mb-2 ${g?"bg-red-500 text-white":w?"bg-green-500 text-white":b?"bg-blue-500 text-white":"bg-gray-200 text-gray-500"}`,children:g?a.jsx(jt,{className:"w-4 h-4"}):w?a.jsx(et,{className:"w-4 h-4"}):b?a.jsx(qe,{className:"w-4 h-4 animate-spin"}):x+1}),a.jsx("span",{className:`text-xs text-center ${g?"text-red-600":w||b?"text-gray-900":"text-gray-500"}`,children:y.label})]},y.key)})})]})},Vy=({comments:t,onScrapeSelectedProfiles:e,isLoading:r,onBack:n,loadingStage:s="starting",loadingProgress:i=0,loadingMessage:l="",loadingError:o=""})=>{const[c,u]=P.useState(new Set),d=x=>{const w=new Set(c);w.has(x)?w.delete(x):w.add(x),u(w)},h=()=>{c.size===t.length?u(new Set):u(new Set(t.map(x=>x.id)))},m=async()=>{const x=t.filter(w=>c.has(w.id)).map(w=>w.actor.linkedinUrl).filter(Boolean);x.length>0&&await e(x)},y=x=>{const w=new Date(x),g=Math.abs(new Date().getTime()-w.getTime()),f=Math.ceil(g/(1e3*60*60*24));return f===0?"Today":f<=7?"This week":f<=30?"This month":w.toLocaleDateString("en-GB")};return a.jsxs("div",{className:"space-y-6",children:[r&&a.jsx($f,{type:"profile_details",stage:s,progress:i,message:l,error:o}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(to,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Post Comments (",t.length,")"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Select commenters to scrape their profile details"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx(ya,{className:"w-4 h-4"}),"Back to Scraper"]}),a.jsxs("button",{onClick:m,disabled:c.size===0||r,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[a.jsx(Me,{className:"w-4 h-4"}),r?"Scraping...":`Scrape Selected Profiles (${c.size})`]})]})]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[a.jsxs("button",{onClick:h,disabled:r,className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50",children:[c.size===t.length?a.jsx(yn,{className:"w-4 h-4"}):a.jsx(vn,{className:"w-4 h-4"}),c.size===t.length?"Deselect All":"Select All"]}),a.jsxs("span",{className:"text-sm text-gray-600",children:[c.size," of ",t.length," selected"]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Select"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commenter"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Comment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(x=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("button",{onClick:()=>d(x.id),disabled:r,className:"text-blue-600 hover:text-blue-800 disabled:opacity-50",children:c.has(x.id)?a.jsx(yn,{className:"w-5 h-5"}):a.jsx(vn,{className:"w-5 h-5"})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-200",children:x.actor.pictureUrl?a.jsx("img",{src:x.actor.pictureUrl,alt:x.actor.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(ft,{className:"w-5 h-5 text-gray-400"})})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:x.actor.name}),a.jsx("div",{className:"text-sm text-blue-600 hover:underline",children:a.jsx("a",{href:x.actor.linkedinUrl,target:"_blank",rel:"noopener noreferrer",children:"View Profile"})})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:x.actor.position||"Not specified"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900 max-w-md",children:a.jsx("div",{className:"line-clamp-3",title:x.commentary,children:x.commentary})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-500",children:y(x.createdAt)})})]},x.id))})]})}),t.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(to,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("div",{className:"text-gray-500",children:"No comments found"})]})]})]})},Mu=({profiles:t,onBack:e})=>{const r=(n,s)=>{var i,l,o;return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-8 text-white",children:a.jsxs("div",{className:"flex items-start gap-6",children:[a.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-white/20 flex-shrink-0",children:n.profilePicHighQuality||n.profilePic?a.jsx("img",{src:n.profilePicHighQuality||n.profilePic,alt:n.fullName,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(ft,{className:"w-12 h-12 text-white/60"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:n.fullName||`${n.firstName||""} ${n.lastName||""}`.trim()}),a.jsx("p",{className:"text-blue-100 text-lg mb-3",children:n.headline}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-blue-100",children:[(n.addressWithCountry||n.addressCountryOnly||n.addressWithoutCountry)&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(js,{className:"w-4 h-4"}),a.jsx("span",{children:n.addressWithCountry||n.addressCountryOnly||n.addressWithoutCountry})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Me,{className:"w-4 h-4"}),a.jsxs("span",{children:[((i=n.connections)==null?void 0:i.toLocaleString())||"0"," connections"]})]}),n.followers&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Me,{className:"w-4 h-4"}),a.jsxs("span",{children:[n.followers.toLocaleString()," followers"]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-4",children:[a.jsxs("a",{href:n.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[a.jsx(on,{className:"w-4 h-4"}),"View LinkedIn"]}),n.email&&a.jsxs("a",{href:`mailto:${n.email}`,className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[a.jsx(Dt,{className:"w-4 h-4"}),"Email"]}),n.mobileNumber&&a.jsxs("a",{href:`tel:${n.mobileNumber}`,className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[a.jsx(xn,{className:"w-4 h-4"}),"Call"]}),((l=n.creatorWebsite)==null?void 0:l.link)&&a.jsxs("a",{href:n.creatorWebsite.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[a.jsx(qi,{className:"w-4 h-4"}),n.creatorWebsite.name||"Website"]})]})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[n.about&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(ft,{className:"w-5 h-5 text-blue-600"}),"About"]}),a.jsx("div",{className:"text-gray-700 whitespace-pre-line bg-gray-50 p-4 rounded-lg",children:n.about})]}),(n.jobTitle||n.companyName)&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(lr,{className:"w-5 h-5 text-blue-600"}),"Current Position"]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("div",{className:"font-medium text-gray-900",children:n.jobTitle}),n.companyName&&a.jsxs("div",{className:"text-gray-600 flex items-center gap-2 mt-1",children:[a.jsx(rc,{className:"w-4 h-4"}),n.companyName]}),n.currentJobDuration&&a.jsxs("div",{className:"text-sm text-gray-500 mt-1 flex items-center gap-2",children:[a.jsx(nc,{className:"w-4 h-4"}),n.currentJobDuration]}),n.companyIndustry&&a.jsx("div",{className:"text-sm text-gray-500 mt-1",children:n.companyIndustry}),n.companySize&&a.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[n.companySize," employees"]})]})]}),n.experiences&&n.experiences.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(lr,{className:"w-5 h-5 text-blue-600"}),"Experience (",n.experiences.length,")"]}),a.jsxs("div",{className:"space-y-4",children:[n.experiences.slice(0,5).map((c,u)=>{var d,h;return a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[c.logo&&a.jsx("img",{src:c.logo,alt:"",className:"w-12 h-12 rounded object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900",children:c.title}),a.jsx("div",{className:"text-gray-600",children:c.subtitle}),a.jsx("div",{className:"text-sm text-gray-500",children:c.caption}),c.metadata&&a.jsx("div",{className:"text-sm text-gray-500",children:c.metadata}),c.subComponents&&((d=c.subComponents[0])==null?void 0:d.description)&&a.jsx("div",{className:"mt-2 text-sm text-gray-700",children:(h=c.subComponents[0].description[0])==null?void 0:h.text})]})]})},u)}),n.experiences.length>5&&a.jsxs("div",{className:"text-center text-sm text-gray-500",children:["... and ",n.experiences.length-5," more positions"]})]})]}),n.educations&&n.educations.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(bs,{className:"w-5 h-5 text-blue-600"}),"Education (",n.educations.length,")"]}),a.jsx("div",{className:"space-y-4",children:n.educations.map((c,u)=>{var d;return a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[c.logo&&a.jsx("img",{src:c.logo,alt:"",className:"w-12 h-12 rounded object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:c.title}),a.jsx("div",{className:"text-gray-600",children:c.subtitle}),c.caption&&a.jsx("div",{className:"text-sm text-gray-500",children:c.caption}),c.subComponents&&((d=c.subComponents[0])==null?void 0:d.description)&&a.jsx("div",{className:"mt-2 text-sm text-gray-700",children:c.subComponents[0].description.map((h,m)=>a.jsx("div",{children:h.text},m))})]})]})},u)})})]}),n.skills&&n.skills.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(At,{className:"w-5 h-5 text-blue-600"}),"Skills (",n.skills.length,")"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.map((c,u)=>a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:c.title},u))})]}),n.licenseAndCertificates&&n.licenseAndCertificates.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(At,{className:"w-5 h-5 text-blue-600"}),"Certifications (",n.licenseAndCertificates.length,")"]}),a.jsx("div",{className:"space-y-3",children:n.licenseAndCertificates.map((c,u)=>a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[c.logo&&a.jsx("img",{src:c.logo,alt:"",className:"w-10 h-10 rounded object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:c.title}),a.jsx("div",{className:"text-gray-600",children:c.subtitle}),c.caption&&a.jsx("div",{className:"text-sm text-gray-500",children:c.caption}),c.metadata&&a.jsx("div",{className:"text-sm text-gray-500",children:c.metadata})]})]})},u))})]}),n.publications&&n.publications.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(At,{className:"w-5 h-5 text-blue-600"}),"Publications (",n.publications.length,")"]}),a.jsx("div",{className:"space-y-3",children:n.publications.map((c,u)=>{var d,h;return a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-gray-900",children:c.title}),a.jsx("div",{className:"text-gray-600",children:c.subtitle}),c.subComponents&&((d=c.subComponents[0])==null?void 0:d.description)&&a.jsx("div",{className:"mt-2 text-sm text-gray-700",children:(h=c.subComponents[0].description[0])==null?void 0:h.text})]},u)})})]}),n.volunteerAndAwards&&n.volunteerAndAwards.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(At,{className:"w-5 h-5 text-blue-600"}),"Volunteer Experience (",n.volunteerAndAwards.length,")"]}),a.jsx("div",{className:"space-y-3",children:n.volunteerAndAwards.map((c,u)=>a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[c.logo&&a.jsx("img",{src:c.logo,alt:"",className:"w-10 h-10 rounded object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:c.title}),a.jsx("div",{className:"text-gray-600",children:c.subtitle}),a.jsx("div",{className:"text-sm text-gray-500",children:c.caption})]})]})},u))})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Contact Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[n.email&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dt,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-gray-700",children:n.email})]}),n.mobileNumber&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xn,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-gray-700",children:n.mobileNumber})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(on,{className:"w-4 h-4 text-blue-600"}),a.jsx("a",{href:n.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"LinkedIn Profile"})]}),((o=n.creatorWebsite)==null?void 0:o.link)&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qi,{className:"w-4 h-4 text-blue-600"}),a.jsx("a",{href:n.creatorWebsite.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:n.creatorWebsite.name||"Personal Website"})]})]})]})]})]},s)};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(ft,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Profile Details (",t.length,")"]}),a.jsx("p",{className:"text-gray-600",children:"Detailed information for scraped LinkedIn profiles"})]})]}),a.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx(ya,{className:"w-4 h-4"}),"Back"]})]})}),a.jsx("div",{className:"space-y-8",children:t.map((n,s)=>r(n,s))}),t.length===0&&a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:[a.jsx(ft,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No profiles found"}),a.jsx("p",{className:"text-gray-600",children:"No profile details to display"})]})]})},Hy=({profiles:t,onViewDetails:e,onUpdateProfile:r,onExport:n,onStoreSelectedProfiles:s,isUpdating:i=!1,showActions:l=!0,showStoreOption:o=!1})=>{const[c,u]=P.useState(new Set(["select","picture","name","headline","location","connections","company","actions"])),[d,h]=P.useState(""),[m,y]=P.useState(new Set),[x,w]=P.useState(!1),[b,g]=P.useState([]),[f,p]=P.useState(""),[v,j]=P.useState(!1),[N,E]=P.useState({hasEmail:!1,hasPhone:!1,hasWebsite:!1,hasSkills:!1,hasExperience:!1,hasEducation:!1,hasCertifications:!1,hasAbout:!1,hasLocation:!1,hasCurrentJob:!1}),[L,X]=P.useState(!1),B=[{key:"select",label:"Select"},{key:"picture",label:"Picture"},{key:"name",label:"Name"},{key:"headline",label:"Headline"},{key:"location",label:"Location"},{key:"connections",label:"Connections"},{key:"followers",label:"Followers"},{key:"company",label:"Current Company"},{key:"jobTitle",label:"Job Title"},{key:"industry",label:"Industry"},{key:"experience",label:"Experience"},{key:"education",label:"Education"},{key:"skills",label:"Top Skills"},{key:"email",label:"Email"},{key:"phone",label:"Phone"},{key:"duration",label:"Current Role Duration"},{key:"website",label:"Website"},{key:"actions",label:"Actions"}],I=P.useMemo(()=>{const _=new Set;return t.filter(U=>{const re=U.linkedinUrl||U.linkedin_url;return _.has(re)?!1:(_.add(re),!0)})},[t]),$=P.useMemo(()=>{let _=I;return d&&(_=_.filter(U=>`${U.fullName||""} ${U.headline||""} ${U.addressWithCountry||""} ${U.companyName||""}`.toLowerCase().includes(d.toLowerCase()))),_=_.filter(U=>{var re;return!(N.hasEmail&&!U.email||N.hasPhone&&!U.mobileNumber||N.hasWebsite&&!((re=U.creatorWebsite)!=null&&re.link)||N.hasSkills&&(!U.skills||U.skills.length===0)||N.hasExperience&&(!U.experiences||U.experiences.length===0)||N.hasEducation&&(!U.educations||U.educations.length===0)||N.hasCertifications&&(!U.licenseAndCertificates||U.licenseAndCertificates.length===0)||N.hasAbout&&!U.about||N.hasLocation&&!U.addressWithCountry&&!U.addressCountryOnly&&!U.addressWithoutCountry||N.hasCurrentJob&&!U.jobTitle&&!U.companyName)}),_},[I,d,N]),T=_=>{const U=new Set(c);U.has(_)?U.delete(_):U.add(_),u(U)},W=_=>{E(U=>({...U,[_]:!U[_]}))},ie=()=>{E({hasEmail:!1,hasPhone:!1,hasWebsite:!1,hasSkills:!1,hasExperience:!1,hasEducation:!1,hasCertifications:!1,hasAbout:!1,hasLocation:!1,hasCurrentJob:!1})},Z=()=>Object.values(N).filter(Boolean).length,ue=_=>{const U=new Set(m);U.has(_)?U.delete(_):U.add(_),y(U)},A=()=>{m.size===$.length?y(new Set):y(new Set($.map(_=>_.linkedinUrl)))},F=()=>{f.trim()&&!b.includes(f.trim())&&(g(_=>[..._,f.trim()]),p(""))},k=_=>{g(U=>U.filter(re=>re!==_))},O=async()=>{if(m.size!==0){j(!0);try{const _=$.filter(U=>m.has(U.linkedinUrl));s&&await s(_,b),w(!1),y(new Set),g([])}catch(_){console.error("Error storing profiles:",_)}finally{j(!1)}}},S=(_,U)=>{var re,ge,K,mr,Mt;switch(U){case"select":return a.jsx("button",{onClick:()=>ue(_.linkedinUrl),className:"text-blue-600 hover:text-blue-800",children:m.has(_.linkedinUrl)?a.jsx(yn,{className:"w-5 h-5"}):a.jsx(vn,{className:"w-5 h-5"})});case"picture":return a.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:_.profilePic?a.jsx("img",{src:_.profilePic,alt:_.fullName,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(ft,{className:"w-6 h-6 text-gray-400"})})});case"name":return a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900 truncate",children:_.fullName||`${_.firstName||""} ${_.lastName||""}`.trim()}),a.jsx("div",{className:"text-sm text-blue-600 hover:underline",children:a.jsxs("a",{href:_.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1",children:[a.jsx(on,{className:"w-3 h-3"}),"LinkedIn Profile"]})})]});case"headline":return a.jsx("div",{className:"max-w-xs",children:a.jsx("div",{className:"text-sm text-gray-900 line-clamp-2",title:_.headline,children:_.headline||"No headline"})});case"location":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(js,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:_.addressWithCountry||_.addressCountryOnly||"Not specified"})]});case"connections":return a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(Me,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"font-medium",children:((re=_.connections)==null?void 0:re.toLocaleString())||"0"})]});case"followers":return a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(Me,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"font-medium",children:((ge=_.followers)==null?void 0:ge.toLocaleString())||"0"})]});case"company":return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rc,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:_.companyName||"Not specified"}),_.companySize&&a.jsxs("div",{className:"text-xs text-gray-500",children:[_.companySize," employees"]})]})]});case"jobTitle":return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lr,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-gray-900 truncate",children:_.jobTitle||"Not specified"})]});case"industry":return a.jsx("span",{className:"text-sm text-gray-600",children:_.companyIndustry||"Not specified"});case"experience":return a.jsxs("div",{className:"text-sm text-gray-600",children:[((K=_.experiences)==null?void 0:K.length)||0," positions"]});case"education":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(bs,{className:"w-4 h-4"}),a.jsxs("span",{children:[((mr=_.educations)==null?void 0:mr.length)||0," schools"]})]});case"skills":return a.jsx("div",{className:"max-w-xs",children:_.skills&&_.skills.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[_.skills.slice(0,3).map((at,Lr)=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:at.title},Lr)),_.skills.length>3&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",_.skills.length-3," more"]})]}):a.jsx("span",{className:"text-sm text-gray-500",children:"No skills listed"})});case"email":return _.email?a.jsxs("a",{href:`mailto:${_.email}`,className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(Dt,{className:"w-4 h-4"}),_.email]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"phone":return _.mobileNumber?a.jsxs("a",{href:`tel:${_.mobileNumber}`,className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(xn,{className:"w-4 h-4"}),_.mobileNumber]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"duration":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(nc,{className:"w-4 h-4"}),a.jsx("span",{children:_.currentJobDuration||"Not specified"})]});case"website":return(Mt=_.creatorWebsite)!=null&&Mt.link?a.jsxs("a",{href:_.creatorWebsite.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(on,{className:"w-4 h-4"}),_.creatorWebsite.name||"Website"]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"actions":return a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>e(_),className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[a.jsx(gt,{className:"w-4 h-4"}),"Details"]}),l&&r&&a.jsxs("button",{onClick:()=>r(_.linkedinUrl),disabled:i,className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-gray-600 text-white rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx(ic,{className:`w-4 h-4 ${i?"animate-spin":""}`}),"Update"]})]});default:return null}};return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Profile Results (",$.length,")",m.size>0&&a.jsxs("span",{className:"ml-2 text-sm font-normal text-blue-600",children:["(",m.size," selected)"]}),Z()>0&&a.jsxs("span",{className:"ml-2 text-sm font-normal text-green-600",children:["(",Z()," filters active)"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Filter profiles...",value:d,onChange:_=>h(_.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>X(!L),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${Z()>0?"border-green-500 bg-green-50 text-green-700":"border-gray-300 hover:bg-gray-50"}`,children:[a.jsx(Hi,{className:"w-4 h-4"}),"Data Filters",Z()>0&&a.jsx("span",{className:"bg-green-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:Z()}),a.jsx(sc,{className:`w-4 h-4 transition-transform ${L?"rotate-180":""}`})]}),L&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Show profiles with:"}),a.jsx("button",{onClick:ie,className:"text-xs text-gray-500 hover:text-gray-700",children:"Clear all"})]}),a.jsx("div",{className:"space-y-2",children:[{key:"hasEmail",label:"Email address",icon:Dt},{key:"hasPhone",label:"Phone number",icon:xn},{key:"hasWebsite",label:"Website",icon:on},{key:"hasLocation",label:"Location",icon:js},{key:"hasCurrentJob",label:"Current job",icon:lr},{key:"hasAbout",label:"About section",icon:Me},{key:"hasSkills",label:"Skills",icon:At},{key:"hasExperience",label:"Experience",icon:lr},{key:"hasEducation",label:"Education",icon:bs},{key:"hasCertifications",label:"Certifications",icon:At}].map(({key:_,label:U,icon:re})=>a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[a.jsx("input",{type:"checkbox",checked:N[_],onChange:()=>W(_),className:"text-blue-600 focus:ring-blue-500"}),a.jsx(re,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-700",children:U})]},_))})]})]}),n&&a.jsxs("select",{onChange:_=>n(_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"",children:[a.jsx("option",{value:"",disabled:!0,children:"Export as..."}),a.jsx("option",{value:"csv",children:"CSV"}),a.jsx("option",{value:"json",children:"JSON"}),a.jsx("option",{value:"xlsx",children:"Excel"})]})]})]}),a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[m.size===$.length&&$.length>0?a.jsx(yn,{className:"w-4 h-4"}):a.jsx(vn,{className:"w-4 h-4"}),m.size===$.length&&$.length>0?"Deselect All":"Select All"]}),a.jsxs("span",{className:"text-sm text-gray-600",children:[m.size," of ",$.length," selected"]})]}),o&&m.size>0&&a.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(Tf,{className:"w-4 h-4"}),"Store Selected Profiles (",m.size,")"]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:B.map(_=>a.jsxs("button",{onClick:()=>T(_.key),className:`inline-flex items-center gap-1 px-3 py-1 text-sm rounded-full transition-colors ${c.has(_.key)?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[c.has(_.key)?a.jsx(gt,{className:"w-3 h-3"}):a.jsx($t,{className:"w-3 h-3"}),_.label,c.has(_.key)&&_.key!=="actions"&&_.key!=="select"&&a.jsx(Ki,{className:"w-3 h-3 ml-1 hover:text-red-500"})]},_.key))})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsx("tr",{children:B.filter(_=>c.has(_.key)).map(_=>a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:_.label},_.key))})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:$.map((_,U)=>a.jsx("tr",{className:`hover:bg-gray-50 ${m.has(_.linkedinUrl)?"bg-blue-50":""}`,children:B.filter(re=>c.has(re.key)).map(re=>a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S(_,re.key)},re.key))},_.linkedinUrl||U))})]})}),$.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ft,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("div",{className:"text-gray-500",children:Z()>0?"No profiles match the selected filters":"No profiles found"}),Z()>0&&a.jsx("button",{onClick:ie,className:"mt-2 text-blue-600 hover:text-blue-800 text-sm",children:"Clear all filters"})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Store ",m.size," Profiles"]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Tags (optional)"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:f,onChange:_=>p(_.target.value),onKeyPress:_=>_.key==="Enter"&&F(),placeholder:"Enter tag name",className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),a.jsx("button",{onClick:F,className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:a.jsx(Cf,{className:"w-4 h-4"})})]}),b.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(_=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[a.jsx(If,{className:"w-3 h-3"}),_,a.jsx("button",{onClick:()=>k(_),className:"hover:text-red-600",children:a.jsx(Ki,{className:"w-3 h-3"})})]},_))})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>w(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:O,disabled:v,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:v?"Storing...":"Store Profiles"})]})]})})]})},qy=({userId:t,selectedKeyId:e,onKeySelect:r})=>{const[n,s]=P.useState([]),[i,l]=P.useState(!1),[o,c]=P.useState(!1),[u,d]=P.useState(null),[h,m]=P.useState({}),[y,x]=P.useState({key_name:"",api_key:""}),[w,b]=P.useState(""),[g,f]=P.useState("");P.useEffect(()=>{t&&p()},[t]);const p=async()=>{try{b("");const{data:I,error:$}=await J.from("apify_keys").select("*").eq("user_id",t).order("created_at",{ascending:!1});if($){console.error("Error loading API keys:",$),b(`Failed to load API keys: ${$.message}`);return}if(s(I||[]),!e&&I&&I.length>0){const T=I.find(W=>W.is_active)||I[0];r(T)}}catch(I){console.error("Error loading API keys:",I),b("Failed to load API keys. Please try again.")}},v=()=>y.key_name.trim()?y.api_key.trim()?y.key_name.trim().length<2?(b("Key name must be at least 2 characters long"),!1):y.api_key.trim().length<10?(b("API key seems too short. Please check your key."),!1):!0:(b("Please enter an API key"),!1):(b("Please enter a key name"),!1),j=async()=>{if(v()){l(!0),b(""),f("");try{if(u){const{data:I,error:$}=await J.from("apify_keys").update({key_name:y.key_name.trim(),api_key:y.api_key.trim(),updated_at:new Date().toISOString()}).eq("id",u.id).select().single();if($){console.error("Error updating API key:",$),b(`Failed to update API key: ${$.message}`);return}s(T=>T.map(W=>W.id===u.id?I:W)),f("API key updated successfully!")}else{const{data:I,error:$}=await J.from("apify_keys").insert([{user_id:t,key_name:y.key_name.trim(),api_key:y.api_key.trim()}]).select().single();if($){console.error("Error creating API key:",$),$.code==="23505"?b("A key with this name already exists. Please choose a different name."):b(`Failed to create API key: ${$.message}`);return}s(T=>[I,...T]),f("API key created successfully!"),r(I)}x({key_name:"",api_key:""}),c(!1),d(null),setTimeout(()=>f(""),3e3)}catch(I){console.error("Error saving API key:",I),b("An unexpected error occurred. Please try again.")}finally{l(!1)}}},N=async I=>{if(confirm("Are you sure you want to delete this API key?"))try{b("");const{error:$}=await J.from("apify_keys").delete().eq("id",I);if($){console.error("Error deleting API key:",$),b(`Failed to delete API key: ${$.message}`);return}if(s(T=>T.filter(W=>W.id!==I)),f("API key deleted successfully!"),e===I&&n.length>1){const T=n.filter(W=>W.id!==I);T.length>0&&r(T[0])}setTimeout(()=>f(""),3e3)}catch($){console.error("Error deleting API key:",$),b("Failed to delete API key. Please try again.")}},E=I=>{m($=>({...$,[I]:!$[I]}))},L=I=>{d(I),x({key_name:I.key_name,api_key:I.api_key}),c(!0),b(""),f("")},X=()=>{d(null),x({key_name:"",api_key:""}),c(!1),b(""),f("")},B=I=>{I.preventDefault(),j()};return a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Apify API Keys"}),a.jsxs("button",{onClick:()=>{c(!o),b(""),f("")},className:"flex items-center gap-2 px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:[a.jsx(Cf,{className:"w-4 h-4"}),"Add Key"]})]}),w&&a.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2",children:[a.jsx(jt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-sm text-red-700",children:w})]}),g&&a.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg flex items-start gap-2",children:[a.jsx(et,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-sm text-green-700",children:g})]}),o&&a.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:u?"Edit API Key":"Add New API Key"}),a.jsxs("form",{onSubmit:B,className:"space-y-3",children:[a.jsx("input",{type:"text",placeholder:"Key Name (e.g., 'Main Key', 'Backup Key')",value:y.key_name,onChange:I=>{x($=>({...$,key_name:I.target.value})),b("")},className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:i,required:!0}),a.jsx("input",{type:"password",placeholder:"Apify API Key",value:y.api_key,onChange:I=>{x($=>({...$,api_key:I.target.value})),b("")},className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:i,required:!0}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"submit",disabled:i||!y.key_name.trim()||!y.api_key.trim(),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Saving...":u?"Update Key":"Add Key"}),a.jsx("button",{type:"button",onClick:X,disabled:i,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]}),a.jsx("div",{className:"space-y-3",children:n.map(I=>a.jsxs("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${e===I.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>r(I),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Du,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:I.key_name}),a.jsx("div",{className:"text-sm text-gray-500 font-mono",children:h[I.id]?I.api_key:"".repeat(Math.min(I.api_key.length,20))})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:$=>{$.stopPropagation(),E(I.id)},className:"p-1 text-gray-400 hover:text-gray-600",title:h[I.id]?"Hide API key":"Show API key",children:h[I.id]?a.jsx($t,{className:"w-4 h-4"}):a.jsx(gt,{className:"w-4 h-4"})}),a.jsx("button",{onClick:$=>{$.stopPropagation(),L(I)},className:"p-1 text-gray-400 hover:text-blue-600",title:"Edit API key",children:a.jsx(Pf,{className:"w-4 h-4"})}),a.jsx("button",{onClick:$=>{$.stopPropagation(),N(I.id)},className:"p-1 text-gray-400 hover:text-red-600",title:"Delete API key",children:a.jsx(ac,{className:"w-4 h-4"})})]})]}),e===I.id&&a.jsx("div",{className:"mt-2 text-xs text-blue-600 font-medium",children:" Currently selected for scraping"})]},I.id))}),n.length===0&&!o&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Du,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No API keys found. Add your first Apify API key to get started."})]})]})},Ky=({user:t,onOpenProfile:e})=>{var d;const[r,n]=P.useState(!1),s=P.useRef(null);P.useEffect(()=>{const h=m=>{s.current&&!s.current.contains(m.target)&&n(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]);const i=async()=>{try{await J.auth.signOut()}catch(h){console.error("Error signing out:",h)}},l=()=>{n(!1),e&&e()},o=()=>{var h,m,y;return(h=t==null?void 0:t.user_metadata)!=null&&h.full_name?t.user_metadata.full_name:(m=t==null?void 0:t.user_metadata)!=null&&m.first_name&&((y=t==null?void 0:t.user_metadata)!=null&&y.last_name)?`${t.user_metadata.first_name} ${t.user_metadata.last_name}`:t!=null&&t.email?t.email.split("@")[0]:"User"},c=()=>{const h=o(),m=h.split(" ");return m.length>=2?`${m[0][0]}${m[1][0]}`.toUpperCase():h.substring(0,2).toUpperCase()},u=()=>{var h;return((h=t==null?void 0:t.user_metadata)==null?void 0:h.avatar_url)||null};return a.jsxs("div",{className:"relative",ref:s,children:[a.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-blue-600 flex items-center justify-center text-white text-sm font-medium",children:u()?a.jsx("img",{src:u(),alt:"Profile",className:"w-full h-full object-cover"}):c()}),a.jsxs("div",{className:"hidden sm:block text-left",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:o()}),a.jsx("div",{className:"text-xs text-gray-500",children:t==null?void 0:t.email})]}),a.jsx(sc,{className:`w-4 h-4 text-gray-400 transition-transform ${r?"rotate-180":""}`})]}),r&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-blue-600 flex items-center justify-center text-white font-medium",children:u()?a.jsx("img",{src:u(),alt:"Profile",className:"w-full h-full object-cover"}):c()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:o()}),a.jsx("div",{className:"text-xs text-gray-500 truncate",children:t==null?void 0:t.email}),((d=t==null?void 0:t.user_metadata)==null?void 0:d.job_title)&&a.jsx("div",{className:"text-xs text-gray-400 truncate",children:t.user_metadata.job_title})]})]})}),a.jsx("div",{className:"py-2",children:a.jsxs("button",{onClick:l,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[a.jsx(ft,{className:"w-4 h-4"}),"View Profile"]})}),a.jsx("div",{className:"border-t border-gray-100 pt-2",children:a.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[a.jsx(Ly,{className:"w-4 h-4"}),"Sign Out"]})})]})]})},Jy=({user:t,onBack:e})=>{const[r,n]=P.useState("profile"),[s,i]=P.useState(!1),[l,o]=P.useState(!1),[c,u]=P.useState(!1),[d,h]=P.useState(!1),[m,y]=P.useState(null),[x,w]=P.useState({current:!1,new:!1,confirm:!1}),[b,g]=P.useState({firstName:"",lastName:"",email:"",profileImage:"",bio:"",company:"",jobTitle:"",location:"",website:"",phone:""}),[f,p]=P.useState({currentPassword:"",newPassword:"",confirmPassword:""});P.useEffect(()=>{v()},[t]);const v=async()=>{var T,W,ie,Z,ue,A,F,k,O;o(!0);try{const S={firstName:((T=t==null?void 0:t.user_metadata)==null?void 0:T.first_name)||"",lastName:((W=t==null?void 0:t.user_metadata)==null?void 0:W.last_name)||"",email:(t==null?void 0:t.email)||"",profileImage:((ie=t==null?void 0:t.user_metadata)==null?void 0:ie.avatar_url)||"",bio:((Z=t==null?void 0:t.user_metadata)==null?void 0:Z.bio)||"",company:((ue=t==null?void 0:t.user_metadata)==null?void 0:ue.company)||"",jobTitle:((A=t==null?void 0:t.user_metadata)==null?void 0:A.job_title)||"",location:((F=t==null?void 0:t.user_metadata)==null?void 0:F.location)||"",website:((k=t==null?void 0:t.user_metadata)==null?void 0:k.website)||"",phone:((O=t==null?void 0:t.user_metadata)==null?void 0:O.phone)||""};g(S)}catch(S){console.error("Error loading profile:",S),y({type:"error",text:"Failed to load profile data"})}finally{o(!1)}},j=(T,W)=>{g(ie=>({...ie,[T]:W}))},N=(T,W)=>{p(ie=>({...ie,[T]:W}))},E=async T=>{var ie;const W=(ie=T.target.files)==null?void 0:ie[0];if(W){if(!W.type.startsWith("image/")){y({type:"error",text:"Please select a valid image file"});return}if(W.size>5*1024*1024){y({type:"error",text:"Image size must be less than 5MB"});return}h(!0);try{const Z=new FileReader;Z.onloadend=()=>{const ue=Z.result;g(A=>({...A,profileImage:ue})),h(!1)},Z.onerror=()=>{y({type:"error",text:"Failed to process image"}),h(!1)},Z.readAsDataURL(W)}catch(Z){console.error("Error uploading image:",Z),y({type:"error",text:"Failed to upload image"}),h(!1)}}},L=async()=>{u(!0),y(null);try{const{error:T}=await J.auth.updateUser({email:b.email,data:{first_name:b.firstName,last_name:b.lastName,full_name:`${b.firstName} ${b.lastName}`,avatar_url:b.profileImage,bio:b.bio,company:b.company,job_title:b.jobTitle,location:b.location,website:b.website,phone:b.phone}});if(T)throw T;y({type:"success",text:"Profile updated successfully!"}),i(!1)}catch(T){console.error("Error updating profile:",T),y({type:"error",text:T instanceof Error?T.message:"Failed to update profile"})}finally{u(!1)}},X=T=>{const W=T.length>=8,ie=/[A-Z]/.test(T),Z=/[a-z]/.test(T),ue=/\d/.test(T),A=/[!@#$%^&*(),.?":{}|<>]/.test(T);return{minLength:W,hasUpperCase:ie,hasLowerCase:Z,hasNumbers:ue,hasSpecialChar:A,isValid:W&&ie&&Z&&ue&&A}},B=async()=>{if(u(!0),y(null),!f.currentPassword){y({type:"error",text:"Please enter your current password"}),u(!1);return}if(!X(f.newPassword).isValid){y({type:"error",text:"New password does not meet security requirements"}),u(!1);return}if(f.newPassword!==f.confirmPassword){y({type:"error",text:"New passwords do not match"}),u(!1);return}try{const{error:W}=await J.auth.updateUser({password:f.newPassword});if(W)throw W;y({type:"success",text:"Password changed successfully!"}),p({currentPassword:"",newPassword:"",confirmPassword:""})}catch(W){console.error("Error changing password:",W),y({type:"error",text:W instanceof Error?W.message:"Failed to change password"})}finally{u(!1)}},I=()=>{var Z,ue;const T=b.firstName||((Z=t==null?void 0:t.user_metadata)==null?void 0:Z.first_name)||"",W=b.lastName||((ue=t==null?void 0:t.user_metadata)==null?void 0:ue.last_name)||"";return T&&W?`${T[0]}${W[0]}`.toUpperCase():(b.email||(t==null?void 0:t.email)||"").substring(0,2).toUpperCase()},$=X(f.newPassword);return l?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(qe,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),a.jsx("div",{className:"text-gray-600",children:"Loading profile..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(ya,{className:"w-5 h-5 text-gray-600"})}),a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Profile Settings"})]}),r==="profile"&&a.jsx("div",{className:"flex gap-3",children:s?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{i(!1),v()},className:"px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:L,disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c?a.jsx(qe,{className:"w-4 h-4 animate-spin"}):a.jsx(Tf,{className:"w-4 h-4"}),c?"Saving...":"Save Changes"]})]}):a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Pf,{className:"w-4 h-4"}),"Edit Profile"]})})]})})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m&&a.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center gap-3 ${m.type==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[m.type==="success"?a.jsx(et,{className:"w-5 h-5"}):a.jsx(jt,{className:"w-5 h-5"}),a.jsx("span",{children:m.text}),a.jsx("button",{onClick:()=>y(null),className:"ml-auto hover:opacity-70",children:a.jsx(Ki,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"flex",children:[a.jsxs("button",{onClick:()=>n("profile"),className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors ${r==="profile"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[a.jsx(ft,{className:"w-5 h-5"}),"Profile Information"]}),a.jsxs("button",{onClick:()=>n("security"),className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors ${r==="security"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[a.jsx(Af,{className:"w-5 h-5"}),"Security"]})]})}),a.jsxs("div",{className:"p-8",children:[r==="profile"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center",children:b.profileImage?a.jsx("img",{src:b.profileImage,alt:"Profile",className:"w-full h-full object-cover"}):a.jsx("div",{className:"text-2xl font-bold text-gray-600",children:I()})}),s&&a.jsxs("label",{className:"absolute bottom-0 right-0 p-2 bg-blue-600 text-white rounded-full cursor-pointer hover:bg-blue-700 transition-colors",children:[d?a.jsx(qe,{className:"w-4 h-4 animate-spin"}):a.jsx($y,{className:"w-4 h-4"}),a.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"hidden",disabled:d})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[b.firstName," ",b.lastName]}),a.jsx("p",{className:"text-gray-600",children:b.email}),b.jobTitle&&a.jsx("p",{className:"text-sm text-gray-500",children:b.jobTitle})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),a.jsx("input",{type:"text",value:b.firstName,onChange:T=>j("firstName",T.target.value),disabled:!s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),a.jsx("input",{type:"text",value:b.lastName,onChange:T=>j("lastName",T.target.value),disabled:!s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:b.email,onChange:T=>j("email",T.target.value),disabled:!s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Title"}),a.jsx("input",{type:"text",value:b.jobTitle,onChange:T=>j("jobTitle",T.target.value),disabled:!s,placeholder:"e.g. Software Engineer",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),a.jsx("input",{type:"text",value:b.company,onChange:T=>j("company",T.target.value),disabled:!s,placeholder:"e.g. Acme Corp",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),a.jsx("input",{type:"text",value:b.location,onChange:T=>j("location",T.target.value),disabled:!s,placeholder:"e.g. San Francisco, CA",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:b.phone,onChange:T=>j("phone",T.target.value),disabled:!s,placeholder:"e.g. +1 (555) 123-4567",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),a.jsx("input",{type:"url",value:b.website,onChange:T=>j("website",T.target.value),disabled:!s,placeholder:"e.g. https://yourwebsite.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),a.jsx("textarea",{value:b.bio,onChange:T=>j("bio",T.target.value),disabled:!s,rows:4,placeholder:"Tell us about yourself...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors resize-none"})]})]})]}),r==="security"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),a.jsxs("div",{className:"space-y-6 max-w-md",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:x.current?"text":"password",value:f.currentPassword,onChange:T=>N("currentPassword",T.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter current password"}),a.jsx("button",{type:"button",onClick:()=>w(T=>({...T,current:!T.current})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x.current?a.jsx($t,{className:"w-5 h-5"}):a.jsx(gt,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:x.new?"text":"password",value:f.newPassword,onChange:T=>N("newPassword",T.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter new password"}),a.jsx("button",{type:"button",onClick:()=>w(T=>({...T,new:!T.new})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x.new?a.jsx($t,{className:"w-5 h-5"}):a.jsx(gt,{className:"w-5 h-5"})})]}),f.newPassword&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx("div",{className:"text-xs text-gray-600",children:"Password must contain:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:`flex items-center gap-1 ${$.minLength?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${$.minLength?"bg-green-600":"bg-gray-300"}`}),"8+ characters"]}),a.jsxs("div",{className:`flex items-center gap-1 ${$.hasUpperCase?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${$.hasUpperCase?"bg-green-600":"bg-gray-300"}`}),"Uppercase letter"]}),a.jsxs("div",{className:`flex items-center gap-1 ${$.hasLowerCase?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${$.hasLowerCase?"bg-green-600":"bg-gray-300"}`}),"Lowercase letter"]}),a.jsxs("div",{className:`flex items-center gap-1 ${$.hasNumbers?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${$.hasNumbers?"bg-green-600":"bg-gray-300"}`}),"Number"]}),a.jsxs("div",{className:`flex items-center gap-1 ${$.hasSpecialChar?"text-green-600":"text-gray-400"} col-span-2`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${$.hasSpecialChar?"bg-green-600":"bg-gray-300"}`}),"Special character (!@#$%^&*)"]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:x.confirm?"text":"password",value:f.confirmPassword,onChange:T=>N("confirmPassword",T.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Confirm new password"}),a.jsx("button",{type:"button",onClick:()=>w(T=>({...T,confirm:!T.confirm})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x.confirm?a.jsx($t,{className:"w-5 h-5"}):a.jsx(gt,{className:"w-5 h-5"})})]}),f.confirmPassword&&f.newPassword!==f.confirmPassword&&a.jsx("div",{className:"mt-2 text-xs text-red-600",children:"Passwords do not match"})]}),a.jsxs("button",{onClick:B,disabled:c||!f.currentPassword||!$.isValid||f.newPassword!==f.confirmPassword,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c?a.jsx(qe,{className:"w-4 h-4 animate-spin"}):a.jsx(ks,{className:"w-4 h-4"}),c?"Changing Password...":"Change Password"]})]})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Information"}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Account Created"}),a.jsx("div",{className:"text-sm text-gray-600",children:t!=null&&t.created_at?new Date(t.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown"})]})}),a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Last Sign In"}),a.jsx("div",{className:"text-sm text-gray-600",children:t!=null&&t.last_sign_in_at?new Date(t.last_sign_in_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown"})]})}),a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Email Verified"}),a.jsx("div",{className:"text-sm text-gray-600",children:t!=null&&t.email_confirmed_at?a.jsx("span",{className:"text-green-600",children:" Verified"}):a.jsx("span",{className:"text-amber-600",children:" Not verified"})})]})})]})]})]})]})]})]})]})},Qy=({jobs:t})=>{const e=s=>{switch(s){case"completed":return a.jsx(et,{className:"w-5 h-5 text-green-500"});case"failed":return a.jsx(Uy,{className:"w-5 h-5 text-red-500"});case"running":return a.jsx(qe,{className:"w-5 h-5 text-blue-500 animate-spin"});default:return a.jsx(Ef,{className:"w-5 h-5 text-yellow-500"})}},r=s=>{const i="inline-flex px-2 py-1 text-xs font-medium rounded-full";switch(s){case"completed":return`${i} bg-green-100 text-green-800`;case"failed":return`${i} bg-red-100 text-red-800`;case"running":return`${i} bg-blue-100 text-blue-800`;default:return`${i} bg-yellow-100 text-yellow-800`}},n=s=>{switch(s){case"post_comments":return"Post Comments";case"profile_details":return"Profile Details";case"mixed":return"Mixed (Post + Profiles)";default:return s}};return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Scraping Jobs (",t.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"URL"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Results"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(s=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[e(s.status),a.jsx("span",{className:r(s.status),children:s.status||"pending"})]}),s.error_message&&a.jsxs("div",{className:"text-xs text-red-600 mt-1",title:s.error_message,children:["Error: ",s.error_message.substring(0,50),"..."]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm font-medium text-gray-900",children:n(s.job_type)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"max-w-xs",children:a.jsx("a",{href:s.input_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline truncate block",title:s.input_url,children:s.input_url})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900",children:s.results_count!==null?s.results_count.toLocaleString():"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-500",children:s.created_at?new Date(s.created_at).toLocaleString():"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-500",children:s.completed_at?new Date(s.completed_at).toLocaleString():"-"})})]},s.id))})]})}),t.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"text-gray-500",children:"No scraping jobs yet"})})]})},rs=class rs{static async initializeBucket(){try{const{data:e}=await J.storage.listBuckets();if(!(e==null?void 0:e.some(n=>n.name===this.BUCKET_NAME))){const{error:n}=await J.storage.createBucket(this.BUCKET_NAME,{public:!0,allowedMimeTypes:this.ALLOWED_TYPES,fileSizeLimit:this.MAX_FILE_SIZE});n?console.error("Error creating storage bucket:",n):console.log("Profile images bucket created successfully")}}catch(e){console.error("Error initializing storage bucket:",e)}}static async uploadImageFromUrl(e,r){try{if(e.includes(".supabase.co/storage/"))return{url:e,path:r};if(e.startsWith("data:image/"))return{url:e,path:r};const n=await fetch(e,{mode:"cors",headers:{Accept:"image/*","User-Agent":"LinkedIn-Scraper/1.0"}});if(!n.ok)throw new Error(`Failed to fetch image: ${n.status}`);const s=await n.blob();if(!this.ALLOWED_TYPES.includes(s.type))throw new Error(`Unsupported image type: ${s.type}`);if(s.size>this.MAX_FILE_SIZE)throw new Error(`Image too large: ${s.size} bytes (max: ${this.MAX_FILE_SIZE})`);const i=s.type.split("/")[1],o=`profiles/${`${r}-${Date.now()}.${i}`}`,{data:c,error:u}=await J.storage.from(this.BUCKET_NAME).upload(o,s,{cacheControl:"3600",upsert:!1});if(u)throw new Error(`Upload failed: ${u.message}`);const{data:{publicUrl:d}}=J.storage.from(this.BUCKET_NAME).getPublicUrl(o);return{url:d,path:o}}catch(n){return console.error("Error uploading image:",n),{url:e,path:r,error:n instanceof Error?n.message:"Unknown error"}}}static async uploadImageFile(e,r){try{if(!this.ALLOWED_TYPES.includes(e.type))throw new Error(`Unsupported image type: ${e.type}`);if(e.size>this.MAX_FILE_SIZE)throw new Error(`Image too large: ${e.size} bytes (max: ${this.MAX_FILE_SIZE})`);const n=e.type.split("/")[1],i=`profiles/${`${r}-${Date.now()}.${n}`}`,{data:l,error:o}=await J.storage.from(this.BUCKET_NAME).upload(i,e,{cacheControl:"3600",upsert:!1});if(o)throw new Error(`Upload failed: ${o.message}`);const{data:{publicUrl:c}}=J.storage.from(this.BUCKET_NAME).getPublicUrl(i);return{url:c,path:i}}catch(n){return console.error("Error uploading image file:",n),{url:"",path:r,error:n instanceof Error?n.message:"Unknown error"}}}static async optimizeProfileImages(e,r){const n={...e},s=[];return e.profilePic&&!e.profilePic.startsWith("data:image/")&&!e.profilePic.includes(".supabase.co/storage/")&&s.push(this.uploadImageFromUrl(e.profilePic,`${r}-profile`).then(i=>{i.error||(n.profilePic=i.url,n.profilePicStoragePath=i.path)})),e.profilePicHighQuality&&!e.profilePicHighQuality.startsWith("data:image/")&&!e.profilePicHighQuality.includes(".supabase.co/storage/")&&s.push(this.uploadImageFromUrl(e.profilePicHighQuality,`${r}-profile-hq`).then(i=>{i.error||(n.profilePicHighQuality=i.url,n.profilePicHighQualityStoragePath=i.path)})),e.experiences&&Array.isArray(e.experiences)&&e.experiences.forEach((i,l)=>{i.logo&&!i.logo.startsWith("data:image/")&&!i.logo.includes(".supabase.co/storage/")&&s.push(this.uploadImageFromUrl(i.logo,`${r}-exp-${l}`).then(o=>{o.error||(n.experiences[l].logo=o.url,n.experiences[l].logoStoragePath=o.path)}))}),e.educations&&Array.isArray(e.educations)&&e.educations.forEach((i,l)=>{i.logo&&!i.logo.startsWith("data:image/")&&!i.logo.includes(".supabase.co/storage/")&&s.push(this.uploadImageFromUrl(i.logo,`${r}-edu-${l}`).then(o=>{o.error||(n.educations[l].logo=o.url,n.educations[l].logoStoragePath=o.path)}))}),e.licenseAndCertificates&&Array.isArray(e.licenseAndCertificates)&&e.licenseAndCertificates.forEach((i,l)=>{i.logo&&!i.logo.startsWith("data:image/")&&!i.logo.includes(".supabase.co/storage/")&&s.push(this.uploadImageFromUrl(i.logo,`${r}-cert-${l}`).then(o=>{o.error||(n.licenseAndCertificates[l].logo=o.url,n.licenseAndCertificates[l].logoStoragePath=o.path)}))}),await Promise.allSettled(s),n._imageOptimization={optimizedAt:new Date().toISOString(),totalImages:s.length,version:"1.0"},n}static async deleteImage(e){try{const{error:r}=await J.storage.from(this.BUCKET_NAME).remove([e]);return r?(console.error("Error deleting image:",r),!1):!0}catch(r){return console.error("Error deleting image:",r),!1}}static async cleanupOrphanedImages(){try{const{data:e,error:r}=await J.storage.from(this.BUCKET_NAME).list("profiles");if(r||!e)return console.error("Error listing files:",r),0;const{data:n,error:s}=await J.from("linkedin_profiles").select("profile_data");if(s||!n)return console.error("Error fetching profiles:",s),0;const i=new Set;n.forEach(o=>{const c=o.profile_data;c.profilePicStoragePath&&i.add(c.profilePicStoragePath),c.profilePicHighQualityStoragePath&&i.add(c.profilePicHighQualityStoragePath),c.experiences&&c.experiences.forEach(u=>{u.logoStoragePath&&i.add(u.logoStoragePath)}),c.educations&&c.educations.forEach(u=>{u.logoStoragePath&&i.add(u.logoStoragePath)}),c.licenseAndCertificates&&c.licenseAndCertificates.forEach(u=>{u.logoStoragePath&&i.add(u.logoStoragePath)})});const l=e.filter(o=>{const c=`profiles/${o.name}`;return!i.has(c)});if(l.length>0){const o=l.map(u=>`profiles/${u.name}`),{error:c}=await J.storage.from(this.BUCKET_NAME).remove(o);if(c)return console.error("Error deleting orphaned files:",c),0}return console.log(`Cleaned up ${l.length} orphaned images`),l.length}catch(e){return console.error("Error during cleanup:",e),0}}static async getStorageStats(){try{const{data:e}=await J.storage.listBuckets();if(!((e==null?void 0:e.some(o=>o.name===this.BUCKET_NAME))||!1))return{totalFiles:0,totalSize:0,bucketExists:!1};const{data:n,error:s}=await J.storage.from(this.BUCKET_NAME).list("profiles");if(s||!n)return{totalFiles:0,totalSize:0,bucketExists:!0};const i=n.length,l=n.reduce((o,c)=>{var u;return o+(((u=c.metadata)==null?void 0:u.size)||0)},0);return{totalFiles:i,totalSize:l,bucketExists:!0}}catch(e){return console.error("Error getting storage stats:",e),{totalFiles:0,totalSize:0,bucketExists:!1}}}};rs.BUCKET_NAME="profile-images",rs.MAX_FILE_SIZE=5*1024*1024,rs.ALLOWED_TYPES=["image/jpeg","image/jpg","image/png","image/webp"];let Sr=rs;const Gy=Object.freeze(Object.defineProperty({__proto__:null,ImageStorageService:Sr},Symbol.toStringTag,{value:"Module"})),Yy=()=>{const[t,e]=P.useState({totalFiles:0,totalSize:0,bucketExists:!1}),[r,n]=P.useState(!1),[s,i]=P.useState(!1),[l,o]=P.useState(null);P.useEffect(()=>{u(),c()},[]);const c=async()=>{try{await Sr.initializeBucket(),await u()}catch(m){console.error("Error initializing bucket:",m),o({type:"error",text:"Failed to initialize storage bucket"})}},u=async()=>{n(!0);try{const m=await Sr.getStorageStats();e(m)}catch(m){console.error("Error loading storage stats:",m),o({type:"error",text:"Failed to load storage statistics"})}finally{n(!1)}},d=async()=>{if(confirm("Are you sure you want to clean up orphaned images? This action cannot be undone.")){i(!0),o(null);try{const m=await Sr.cleanupOrphanedImages();o({type:"success",text:`Successfully cleaned up ${m} orphaned images`}),await u()}catch(m){console.error("Error during cleanup:",m),o({type:"error",text:"Failed to clean up orphaned images"})}finally{i(!1)}}},h=m=>{if(m===0)return"0 Bytes";const y=1024,x=["Bytes","KB","MB","GB"],w=Math.floor(Math.log(m)/Math.log(y));return parseFloat((m/Math.pow(y,w)).toFixed(2))+" "+x[w]};return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(eo,{className:"w-6 h-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Storage Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage profile images and storage optimization"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:u,disabled:r,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition-colors",children:[a.jsx(ic,{className:`w-4 h-4 ${r?"animate-spin":""}`}),"Refresh"]}),a.jsxs("button",{onClick:d,disabled:s||!t.bucketExists,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:[s?a.jsx(qe,{className:"w-4 h-4 animate-spin"}):a.jsx(ac,{className:"w-4 h-4"}),s?"Cleaning...":"Cleanup Orphaned"]})]})]}),l&&a.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center gap-3 ${l.type==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[l.type==="success"?a.jsx(et,{className:"w-5 h-5"}):a.jsx(jt,{className:"w-5 h-5"}),a.jsx("span",{children:l.text})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Oy,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r?"...":t.totalFiles.toLocaleString()}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Images"})]})]})}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(eo,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r?"...":h(t.totalSize)}),a.jsx("div",{className:"text-sm text-gray-600",children:"Storage Used"})]})]})}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(Zl,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:`text-2xl font-bold ${t.bucketExists?"text-green-600":"text-red-600"}`,children:r?"...":t.bucketExists?"Active":"Inactive"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Storage Bucket"})]})]})})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Image Storage Optimization"}),a.jsxs("div",{className:"space-y-3 text-sm text-blue-800",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(et,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"Profile images are automatically uploaded to Supabase Storage for permanent URLs"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(et,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"Images are optimized and compressed to reduce storage costs"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(et,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"Orphaned images can be cleaned up to free storage space"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(et,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"All images are served from a global CDN for fast loading"})]})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(jt,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm text-amber-800",children:[a.jsx("div",{className:"font-medium mb-1",children:"Storage Limits"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:" Maximum file size: 5MB per image"}),a.jsx("li",{children:" Supported formats: JPEG, PNG, WebP"}),a.jsx("li",{children:" Supabase free tier: 1GB storage included"}),a.jsx("li",{children:" Images are automatically optimized for web delivery"})]})]})]})})]})};async function ii(t,e={},r=3){for(let n=0;n<r;n++)try{const s=new AbortController,i=setTimeout(()=>s.abort(),6e4),l=await fetch(t,{...e,signal:s.signal});if(clearTimeout(i),l.ok)return l;if(l.status>=400&&l.status<500)throw new Error(`Apify API error ${l.status}: ${l.statusText}`);if(n===r-1)throw new Error(`Apify API error ${l.status}: ${l.statusText}`)}catch(s){if(s instanceof Error)if(s.name==="AbortError"){if(n===r-1)throw new Error("Apify API request timeout. The service may be slow to respond. Please try again.")}else if(s.message.includes("Failed to fetch")){if(n===r-1)throw new Error("Cannot reach Apify API. Please check your internet connection and try again.")}else throw s;n<r-1&&await new Promise(i=>setTimeout(i,Math.pow(2,n)*1e3))}throw new Error("Max retries exceeded for Apify API call")}const ai=t=>({async scrapePostComments(e){try{const n=await(await ii("https://api.apify.com/v2/acts/ZI6ykbLlGS3APaPE8/runs",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({posts:[e]})})).json();return await this.waitForRunCompletion(n.data.id),n.data.defaultDatasetId}catch(r){throw console.error("Error scraping post comments:",r),r instanceof Error?new Error(`Failed to scrape post comments: ${r.message}`):new Error("Failed to scrape post comments: Unknown error")}},async scrapeProfiles(e){try{const n=await(await ii("https://api.apify.com/v2/acts/2SyF0bVxmgGr8IVCZ/runs",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({profileUrls:e})})).json();return await this.waitForRunCompletion(n.data.id),n.data.defaultDatasetId}catch(r){throw console.error("Error scraping profiles:",r),r instanceof Error?new Error(`Failed to scrape profiles: ${r.message}`):new Error("Failed to scrape profiles: Unknown error")}},async waitForRunCompletion(e){const s=Date.now();for(;Date.now()-s<6e5;)try{const i=await this.checkRunStatus(e);if(i==="SUCCEEDED")return;if(i==="FAILED"||i==="ABORTED")throw new Error(`Apify run ${i.toLowerCase()}`);await new Promise(l=>setTimeout(l,5e3))}catch(i){if(console.error("Error checking run status:",i),Date.now()-s>=595e3)throw i;await new Promise(l=>setTimeout(l,5e3))}throw new Error("Apify run timed out after 10 minutes")},async getDatasetItems(e){try{return await(await ii(`https://api.apify.com/v2/datasets/${e}/items`,{headers:{Authorization:`Bearer ${t}`}})).json()}catch(r){throw console.error("Error fetching dataset items:",r),r instanceof Error?new Error(`Failed to fetch dataset items: ${r.message}`):new Error("Failed to fetch dataset items: Unknown error")}},async checkRunStatus(e){try{return(await(await ii(`https://api.apify.com/v2/actor-runs/${e}`,{headers:{Authorization:`Bearer ${t}`}})).json()).data.status}catch(r){throw console.error("Error checking run status:",r),r instanceof Error?new Error(`Failed to check run status: ${r.message}`):new Error("Failed to check run status: Unknown error")}}}),Fu=(t,e,r="linkedin_data",n)=>{let s=t;switch(e){case"csv":Bu(s,r);break;case"json":Xy(s,r);break;case"xlsx":Bu(s,r);break;default:console.error("Unsupported export format:",e)}},Bu=(t,e)=>{if(t.length===0)return;const r=t.map(i=>{var o,c,u,d,h,m,y,x,w,b,g,f,p,v,j,N,E,L,X,B,I,$,T,W,ie,Z,ue,A,F,k;const l=i.profile_data||{};return{id:i.id,linkedin_url:i.linkedin_url||l.linkedinUrl,public_identifier:l.publicIdentifier||"",first_name:l.firstName||"",last_name:l.lastName||"",full_name:l.fullName||`${l.firstName||""} ${l.lastName||""}`.trim(),headline:l.headline||"",about:l.about||"",address_with_country:l.addressWithCountry||"",address_country_only:l.addressCountryOnly||"",address_without_country:l.addressWithoutCountry||"",connections:l.connections||0,followers:l.followers||0,job_title:l.jobTitle||"",company_name:l.companyName||"",company_industry:l.companyIndustry||"",company_website:l.companyWebsite||"",company_linkedin:l.companyLinkedin||"",company_founded_in:l.companyFoundedIn||"",company_size:l.companySize||"",current_job_duration:l.currentJobDuration||"",current_job_duration_years:l.currentJobDurationInYrs||0,email:l.email||"",mobile_number:l.mobileNumber||"",profile_pic:l.profilePic||"",profile_pic_high_quality:l.profilePicHighQuality||"",creator_website_name:((o=l.creatorWebsite)==null?void 0:o.name)||"",creator_website_link:((c=l.creatorWebsite)==null?void 0:c.link)||"",experience_count:((u=l.experiences)==null?void 0:u.length)||0,education_count:((d=l.educations)==null?void 0:d.length)||0,skills_count:((h=l.skills)==null?void 0:h.length)||0,certifications_count:((m=l.licenseAndCertificates)==null?void 0:m.length)||0,publications_count:((y=l.publications)==null?void 0:y.length)||0,volunteer_count:((x=l.volunteerAndAwards)==null?void 0:x.length)||0,top_skills:((w=l.skills)==null?void 0:w.slice(0,10).map(O=>O.title).join("; "))||"",latest_experience_title:((g=(b=l.experiences)==null?void 0:b[0])==null?void 0:g.title)||"",latest_experience_company:((v=(p=(f=l.experiences)==null?void 0:f[0])==null?void 0:p.subtitle)==null?void 0:v.split("  ")[0])||"",latest_experience_duration:((N=(j=l.experiences)==null?void 0:j[0])==null?void 0:N.caption)||"",latest_experience_location:((L=(E=l.experiences)==null?void 0:E[0])==null?void 0:L.metadata)||"",latest_education_school:((B=(X=l.educations)==null?void 0:X[0])==null?void 0:B.title)||"",latest_education_degree:(($=(I=l.educations)==null?void 0:I[0])==null?void 0:$.subtitle)||"",latest_education_period:((W=(T=l.educations)==null?void 0:T[0])==null?void 0:W.caption)||"",latest_certification:((Z=(ie=l.licenseAndCertificates)==null?void 0:ie[0])==null?void 0:Z.title)||"",latest_certification_issuer:((A=(ue=l.licenseAndCertificates)==null?void 0:ue[0])==null?void 0:A.subtitle)||"",latest_certification_date:((k=(F=l.licenseAndCertificates)==null?void 0:F[0])==null?void 0:k.caption)||"",open_connection:l.openConnection||!1,urn:l.urn||"",top_skills_by_endorsements:l.topSkillsByEndorsements||"",last_updated:i.last_updated||"",created_at:i.created_at||""}}),n=Object.keys(r[0]),s=[n.join(","),...r.map(i=>n.map(l=>{const o=i[l];return typeof o=="string"&&(o.includes(",")||o.includes('"')||o.includes(`
`))?`"${o.replace(/"/g,'""')}"`:o}).join(","))].join(`
`);Of(s,`${e}.csv`,"text/csv")},Xy=(t,e)=>{const r=JSON.stringify(t,null,2);Of(r,`${e}.json`,"application/json")},Of=(t,e,r)=>{const n=new Blob([t],{type:r}),s=URL.createObjectURL(n),i=document.createElement("a");i.href=s,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)};function Zy(){const[t,e]=P.useState(null),[r,n]=P.useState(null),[s,i]=P.useState(!0),[l,o]=P.useState(""),[c,u]=P.useState([]),[d,h]=P.useState([]),[m,y]=P.useState([]),[x,w]=P.useState(null),[b,g]=P.useState([]),[f,p]=P.useState("scraper"),[v,j]=P.useState("form"),[N,E]=P.useState("form"),[L,X]=P.useState(!1),[B,I]=P.useState(!1),[$,T]=P.useState(""),[W,ie]=P.useState("starting"),[Z,ue]=P.useState(0),[A,F]=P.useState(""),[k,O]=P.useState(""),[S,_]=P.useState("post_comments"),U=async(M=3)=>{for(let D=1;D<=M;D++)try{console.log(`Checking Supabase connection (attempt ${D}/${M})...`);const z=15e3,Q=J.auth.getSession(),H=new Promise((te,ne)=>setTimeout(()=>ne(new Error(`Connection timeout (attempt ${D})`)),z));return await Promise.race([Q,H]),console.log("Supabase connection successful"),!0}catch(z){if(console.warn(`Connection attempt ${D} failed:`,z),D===M)throw z;const Q=Math.min(1e3*Math.pow(2,D-1),5e3);console.log(`Retrying in ${Q}ms...`),await new Promise(H=>setTimeout(H,Q))}return!1};P.useEffect(()=>{(async()=>{try{console.log("Initializing authentication..."),o("");const z="https://gemidmleolewepelgrln.supabase.co",Q="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdlbWlkbWxlb2xld2VwZWxncmxuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA0OTIzODIsImV4cCI6MjA2NjA2ODM4Mn0.66_oBrCVSLHsUxtGQbY3aZW_fyKZmOFZt3M34Y3-UrI";if(!z.startsWith("https://")||!z.includes(".supabase.co"))throw new Error("Invalid Supabase URL format. Please check your VITE_SUPABASE_URL in the .env file.");if(Q.length<100)throw new Error("Invalid Supabase anonymous key format. Please check your VITE_SUPABASE_ANON_KEY in the .env file.");console.log("Environment variables validated, checking connection..."),await U(3),await Sr.initializeBucket(),console.log("Getting current session...");const{data:{session:H},error:te}=await J.auth.getSession();if(te)throw console.error("Session error:",te),new Error(`Authentication error: ${te.message}`);if(H!=null&&H.user){console.log("User session found, loading profile..."),e(H.user);try{const ne=await Lu(H.user.id);ne?(n(ne),await re(ne.id)):(console.warn("No user profile found, but user is authenticated"),o("User profile not found. Please try signing out and back in."))}catch(ne){console.error("Error loading user profile:",ne),o("Failed to load user profile. Please try refreshing the page.")}}else console.log("No active session found")}catch(z){console.error("Auth initialization error:",z),z instanceof Error?z.message.includes("Failed to fetch")||z.message.includes("network")?o("Network connection failed. Please check your internet connection and try again."):z.message.includes("timeout")||z.message.includes("Connection timeout")?o("Connection to Supabase timed out. This may be due to network issues or your Supabase project being paused. Please check your Supabase dashboard and try again."):z.message.includes("environment variables")||z.message.includes("Invalid Supabase")?o("Application configuration error. Please ensure your .env file contains valid Supabase credentials."):z.message.includes("CORS")?o("Cross-origin request blocked. Please check your Supabase project settings."):o(`Authentication failed: ${z.message}`):o("An unexpected error occurred during initialization.")}finally{i(!1)}})();const{data:{subscription:D}}=J.auth.onAuthStateChange(async(z,Q)=>{try{if(console.log("Auth state changed:",z),o(""),z==="SIGNED_IN"&&(Q!=null&&Q.user)){e(Q.user);const H=await Lu(Q.user.id);n(H),H&&await re(H.id)}else z==="SIGNED_OUT"?(e(null),n(null),u([]),g([])):z==="TOKEN_REFRESHED"&&console.log("Token refreshed successfully")}catch(H){console.error("Auth state change error:",H),o("Authentication state change failed. Please refresh the page.")}});return()=>D.unsubscribe()},[]);const re=async M=>{try{console.log("Loading user data for:",M);const[D,z]=await Promise.all([Wt(M),ge(M)]);u(D),g(z),console.log(`Loaded ${D.length} profiles and ${z.length} jobs`)}catch(D){console.error("Error loading user data:",D),o("Failed to load user data. Some features may not work properly.")}},ge=async M=>{try{const{data:D,error:z}=await J.from("scraping_jobs").select("*").eq("user_id",M).order("created_at",{ascending:!1}).limit(50);return z?(console.error("Error loading scraping jobs:",z),[]):D||[]}catch(D){return console.error("Error loading scraping jobs:",D),[]}},K=(M,D=0,z="")=>{ie(M),ue(D),F(z)},mr=M=>{T(M.id)},Mt=async(M,D)=>{if(!r)throw new Error("User not authenticated");const{data:z,error:Q}=await J.from("scraping_jobs").insert({user_id:r.id,apify_key_id:$||null,job_type:M,input_url:D,status:"running"}).select().single();if(Q)throw Q;const H=await ge(r.id);return g(H),z.id},at=async(M,D,z,Q)=>{if(!r)return;const H={status:D,...z!==void 0&&{results_count:z},...Q&&{error_message:Q},...D==="completed"&&{completed_at:new Date().toISOString()}};await J.from("scraping_jobs").update(H).eq("id",M);const te=await ge(r.id);g(te)},Lr=async(M,D)=>{if(!r){alert("Please sign in to start scraping");return}if(!$){alert("Please select an Apify API key first");return}const{data:z,error:Q}=await J.from("apify_keys").select("api_key").eq("id",$).single();if(Q||!z){alert("Invalid API key selected");return}I(!0),_(M),O(""),K("starting",0,"Initializing scraping process...");let H=null;try{H=await Mt(M,D);const te=ai(z.api_key);if(M==="post_comments"){K("scraping_comments",25,"Extracting comments from LinkedIn post...");const ne=await te.scrapePostComments(D);K("saving_data",75,"Processing comment data...");const Ye=await te.getDatasetItems(ne);h(Ye),j("comments"),K("completed",100,"Comments extracted successfully!"),await at(H,"completed",Ye.length)}else if(M==="profile_details"){K("scraping_profiles",25,"Checking existing profiles in database...");const ne=Array.isArray(D)?D:[D],Ye=await Ft(ne,te,r.id);K("saving_data",75,"Saving profile data with image optimization..."),y(Ye),E("form"),j("profile-table"),K("completed",100,"Profile details scraped successfully!"),await at(H,"completed",Ye.length)}else if(M==="mixed"){K("scraping_comments",20,"Extracting comments from LinkedIn post...");const ne=await te.scrapePostComments(D),Ye=await te.getDatasetItems(ne);K("extracting_profiles",40,"Extracting profile URLs from comments...");const _t=Ye.map(xa=>{var cc;return(cc=xa.actor)==null?void 0:cc.linkedinUrl}).filter(Boolean).slice(0,50);if(_t.length>0){K("scraping_profiles",60,`Checking and scraping ${_t.length} profiles...`);const xa=await Ft(_t,te,r.id);K("saving_data",85,"Saving all data with image optimization..."),y(xa),E("form"),j("profile-table")}K("completed",100,"Mixed scraping completed successfully!"),await at(H,"completed",_t.length)}if(f!=="profiles"){const ne=await Wt(r.id);u(ne)}else{const ne=await gr();u(ne)}}catch(te){console.error("Scraping error:",te);let ne="Unknown error occurred";te instanceof Error&&(ne=te.message),O(ne),K("error",0,"Scraping failed"),H&&await at(H,"failed",void 0,ne)}finally{I(!1)}},Ft=async(M,D,z)=>{const Q=[],H=[];let te=0;K("scraping_profiles",30,"Checking database for existing profiles...");for(const ne of M){const Ye=await Cy(ne);Ye?(Q.push(Ye.profile_data),te++):H.push(ne)}if(H.length>0){K("scraping_profiles",50,`Scraping ${H.length} new profiles (saved ${te} API calls)...`);const ne=await D.scrapeProfiles(H),Ye=await D.getDatasetItems(ne);K("scraping_profiles",70,"Optimizing and saving new profiles...");for(const _t of Ye)_t.linkedinUrl&&(await Ru(z,_t.linkedinUrl,_t),Q.push(_t))}return K("scraping_profiles",90,`Completed! Saved ${te} API calls by using cached profiles.`),Q},As=async M=>{if(!r||!$){alert("Please ensure you are signed in and have selected an API key");return}const{data:D,error:z}=await J.from("apify_keys").select("api_key").eq("id",$).single();if(z||!D){alert("Invalid API key selected");return}I(!0),_("profile_details"),O(""),K("scraping_profiles",25,`Checking and scraping ${M.length} selected profiles...`);let Q=null;try{Q=await Mt("profile_details",M.join(","));const H=ai(D.api_key),te=await Ft(M,H,r.id);if(K("saving_data",75,"Processing profile data with image optimization..."),y(te),E("comments"),j("profile-table"),K("completed",100,"Selected profiles scraped successfully!"),await at(Q,"completed",te.length),f==="profiles"){const ne=await gr();u(ne)}else{const ne=await Wt(r.id);u(ne)}}catch(H){console.error("Error scraping selected profiles:",H);let te="Unknown error occurred";H instanceof Error&&(te=H.message),O(te),K("error",0,"Failed to scrape selected profiles"),Q&&await at(Q,"failed",void 0,te)}finally{I(!1)}},Is=async(M,D)=>{if(r)try{for(const z of M)z.linkedinUrl&&await Ru(r.id,z.linkedinUrl,z,D);if(f==="profiles"){const z=await gr();u(z)}else{const z=await Wt(r.id);u(z)}alert(`Successfully stored ${M.length} profiles${D.length>0?` with tags: ${D.join(", ")}`:""}`)}catch(z){console.error("Error storing profiles:",z),alert("Error storing profiles. Please try again.")}},$s=async M=>{if(!r||!$){alert("Please ensure you are signed in and have selected an API key");return}const{data:D,error:z}=await J.from("apify_keys").select("api_key").eq("id",$).single();if(z||!D){alert("Invalid API key selected");return}try{const Q=ai(D.api_key);if((await Ft([M],Q,r.id)).length>0){if(f==="profiles"){const te=await gr();u(te)}else{const te=await Wt(r.id);u(te)}alert("Profile updated successfully!")}}catch(Q){console.error("Error updating profile:",Q),alert("Error updating profile. Please try again.")}},Os=async M=>{if(!r||!$){alert("Please ensure you are signed in and have selected an API key");return}const{data:D,error:z}=await J.from("apify_keys").select("api_key").eq("id",$).single();if(z||!D){alert("Invalid API key selected");return}try{const Q=ai(D.api_key);if(await Ft(M,Q,r.id),f==="profiles"){const H=await gr();u(H)}else{const H=await Wt(r.id);u(H)}alert(`Successfully updated ${M.length} profiles!`)}catch(Q){console.error("Error updating profiles:",Q),alert("Error updating profiles. Please try again.")}},Ls=async M=>{if(r)try{const{error:D}=await J.from("linkedin_profiles").delete().in("id",M);if(D)throw D;if(f==="profiles"){const z=await gr();u(z)}else{const z=await Wt(r.id);u(z)}alert(`Successfully deleted ${M.length} profiles`)}catch(D){console.error("Error deleting profiles:",D),alert("Error deleting profiles. Please try again.")}},Sn=(M,D=!1)=>{Fu(c,M,"linkedin_profiles")},En=M=>{Fu(m.map(D=>({profile_data:D})),M,"profile_results")},Pn=()=>{j("form"),h([]),y([]),w(null),E("form"),ie("starting"),ue(0),F(""),O("")},lc=()=>{N==="comments"?j("comments"):N==="profiles-list"?(j("profiles-list"),p("profiles")):j(N==="profile-table"?"profile-table":"form")},oc=M=>{f==="profiles"?(E("profiles-list"),w(M),j("single-profile-details")):(E(v),y([M]),j("profile-details"))},Lf=()=>{j("profiles-list"),w(null)},Rs=async M=>{if(p(M),M==="profiles"){j("profiles-list"),X(!0);try{const D=await gr();u(D)}catch(D){console.error("Error loading all profiles:",D)}finally{X(!1)}}else if(M==="scraper"){if(j("form"),r)try{const D=await Wt(r.id);u(D)}catch(D){console.error("Error loading user profiles:",D)}}else M==="jobs"?j("form"):M==="storage"&&j("storage")},Rf=()=>{j("user-profile")},Uf=()=>{};return l&&!t?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg border border-gray-100 p-8 text-center",children:[a.jsx("div",{className:"p-3 bg-red-100 rounded-full w-16 h-16 mx-auto mb-6 flex items-center justify-center",children:a.jsx(jt,{className:"w-8 h-8 text-red-600"})}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Connection Error"}),a.jsx("p",{className:"text-gray-600 mb-6",children:l}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Page"}),a.jsx("button",{onClick:()=>{o(""),i(!0),window.location.reload()},className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Try Again"})]}),a.jsx("div",{className:"mt-6 text-xs text-gray-500",children:"If this problem persists, please check your internet connection or contact support."}),a.jsxs("details",{className:"mt-4 text-left",children:[a.jsx("summary",{className:"text-sm text-gray-600 cursor-pointer hover:text-gray-800",children:"Troubleshooting Steps"}),a.jsxs("div",{className:"mt-2 text-xs text-gray-600 space-y-2",children:[a.jsx("p",{children:"1. Check your .env file contains valid Supabase credentials"}),a.jsx("p",{children:"2. Verify your Supabase project is active (not paused)"}),a.jsx("p",{children:"3. Ensure stable internet connection"}),a.jsx("p",{children:"4. Try disabling browser extensions or VPN"}),a.jsx("p",{children:"5. Check browser console for additional error details"})]})]})]})}):s?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("div",{className:"text-gray-600",children:"Loading..."}),l&&a.jsx("div",{className:"mt-4 text-sm text-amber-600 max-w-md",children:l})]})}):!t||!r?a.jsx(Fy,{onAuthSuccess:Uf}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(ts,{className:"w-6 h-6 text-blue-600"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"LinkedIn Scraper"})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("nav",{className:"flex space-x-1",children:[a.jsxs("button",{onClick:()=>Rs("scraper"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f==="scraper"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[a.jsx(Uu,{className:"w-4 h-4 inline mr-2"}),"Scraper"]}),a.jsxs("button",{onClick:()=>Rs("profiles"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f==="profiles"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[a.jsx(Zl,{className:"w-4 h-4 inline mr-2"}),"Profiles (",c.length,")"]}),a.jsxs("button",{onClick:()=>Rs("jobs"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f==="jobs"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[a.jsx(Ef,{className:"w-4 h-4 inline mr-2"}),"Jobs (",b.length,")"]}),a.jsxs("button",{onClick:()=>Rs("storage"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f==="storage"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[a.jsx(eo,{className:"w-4 h-4 inline mr-2"}),"Storage"]})]}),a.jsx(Ky,{user:t,onOpenProfile:Rf})]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:v==="user-profile"?a.jsx(Jy,{user:t,onBack:()=>j("form")}):v==="storage"?a.jsx(Yy,{}):a.jsxs(a.Fragment,{children:[f==="scraper"&&v==="form"&&a.jsx("div",{className:"mb-8",children:a.jsx(qy,{userId:r.id,selectedKeyId:$,onKeySelect:mr})}),f==="scraper"&&a.jsxs("div",{className:"space-y-8",children:[v==="form"&&a.jsxs(a.Fragment,{children:[a.jsx(By,{onScrape:Lr,isLoading:B,disabled:!$}),B&&a.jsx($f,{type:S,stage:W,progress:Z,message:A,error:k}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Zl,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:c.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Your Profiles"})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Uu,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b.filter(M=>M.status==="completed").length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Completed Jobs"})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(ts,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:d.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Last Comments"})]})]})})]})]}),v==="comments"&&a.jsx(Vy,{comments:d,onScrapeSelectedProfiles:As,isLoading:B,onBack:Pn,loadingStage:W,loadingProgress:Z,loadingMessage:A,loadingError:k}),v==="profile-table"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(Hy,{profiles:m,onViewDetails:oc,onExport:En,onStoreSelectedProfiles:Is,showActions:!1,showStoreOption:!0}),a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{onClick:lc,className:"px-6 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:N==="comments"?"Back to Comments":"Back to Scraper"})})]}),v==="profile-details"&&a.jsx(Mu,{profiles:m,onBack:lc})]}),f==="profiles"&&a.jsx(a.Fragment,{children:v==="single-profile-details"?a.jsx(Mu,{profiles:x?[x.profile_data]:[],onBack:Lf}):L?a.jsx("div",{className:"min-h-[400px] flex items-center justify-center bg-white rounded-xl shadow-lg border border-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx(qe,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),a.jsx("div",{className:"text-gray-600 text-lg font-medium",children:"Loading all profiles..."}),a.jsx("div",{className:"text-gray-500 text-sm mt-2",children:"This may take a moment"})]})}):a.jsx(Wy,{profiles:c,onUpdateProfile:$s,onUpdateSelectedProfiles:Os,onDeleteSelectedProfiles:Ls,onExport:Sn,onViewDetails:M=>oc(M),isUpdating:!1})}),f==="jobs"&&a.jsx(Qy,{jobs:b})]})})]})}tf(document.getElementById("root")).render(a.jsx(P.StrictMode,{children:a.jsx(Zy,{})}));
