(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Lu={exports:{}},Hi={},Ru={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bs=Symbol.for("react.element"),Af=Symbol.for("react.portal"),$f=Symbol.for("react.fragment"),Of=Symbol.for("react.strict_mode"),If=Symbol.for("react.profiler"),Lf=Symbol.for("react.provider"),Rf=Symbol.for("react.context"),Df=Symbol.for("react.forward_ref"),Uf=Symbol.for("react.suspense"),zf=Symbol.for("react.memo"),Mf=Symbol.for("react.lazy"),tc=Symbol.iterator;function Ff(e){return e===null||typeof e!="object"?null:(e=tc&&e[tc]||e["@@iterator"],typeof e=="function"?e:null)}var Du={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uu=Object.assign,zu={};function xn(e,t,r){this.props=e,this.context=t,this.refs=zu,this.updater=r||Du}xn.prototype.isReactComponent={};xn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mu(){}Mu.prototype=xn.prototype;function Yl(e,t,r){this.props=e,this.context=t,this.refs=zu,this.updater=r||Du}var Xl=Yl.prototype=new Mu;Xl.constructor=Yl;Uu(Xl,xn.prototype);Xl.isPureReactComponent=!0;var rc=Array.isArray,Fu=Object.prototype.hasOwnProperty,Zl={current:null},Bu={key:!0,ref:!0,__self:!0,__source:!0};function Wu(e,t,r){var n,s={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Fu.call(t,n)&&!Bu.hasOwnProperty(n)&&(s[n]=t[n]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var o=Array(c),u=0;u<c;u++)o[u]=arguments[u+2];s.children=o}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:bs,type:e,key:i,ref:l,props:s,_owner:Zl.current}}function Bf(e,t){return{$$typeof:bs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function eo(e){return typeof e=="object"&&e!==null&&e.$$typeof===bs}function Wf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var nc=/\/+/g;function ga(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wf(""+e.key):t.toString(36)}function si(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case bs:case Af:l=!0}}if(l)return l=e,s=s(l),e=n===""?"."+ga(l,0):n,rc(s)?(r="",e!=null&&(r=e.replace(nc,"$&/")+"/"),si(s,t,r,"",function(u){return u})):s!=null&&(eo(s)&&(s=Bf(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(nc,"$&/")+"/")+e)),t.push(s)),1;if(l=0,n=n===""?".":n+":",rc(e))for(var c=0;c<e.length;c++){i=e[c];var o=n+ga(i,c);l+=si(i,t,r,o,s)}else if(o=Ff(e),typeof o=="function")for(e=o.call(e),c=0;!(i=e.next()).done;)i=i.value,o=n+ga(i,c++),l+=si(i,t,r,o,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Is(e,t,r){if(e==null)return e;var n=[],s=0;return si(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Vf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},ii={transition:null},Hf={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:ii,ReactCurrentOwner:Zl};function Vu(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:Is,forEach:function(e,t,r){Is(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Is(e,function(){t++}),t},toArray:function(e){return Is(e,function(t){return t})||[]},only:function(e){if(!eo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=xn;K.Fragment=$f;K.Profiler=If;K.PureComponent=Yl;K.StrictMode=Of;K.Suspense=Uf;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hf;K.act=Vu;K.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Uu({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Zl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)Fu.call(t,o)&&!Bu.hasOwnProperty(o)&&(n[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){c=Array(o);for(var u=0;u<o;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:bs,type:e.type,key:s,ref:i,props:n,_owner:l}};K.createContext=function(e){return e={$$typeof:Rf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Lf,_context:e},e.Consumer=e};K.createElement=Wu;K.createFactory=function(e){var t=Wu.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:Df,render:e}};K.isValidElement=eo;K.lazy=function(e){return{$$typeof:Mf,_payload:{_status:-1,_result:e},_init:Vf}};K.memo=function(e,t){return{$$typeof:zf,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=ii.transition;ii.transition={};try{e()}finally{ii.transition=t}};K.unstable_act=Vu;K.useCallback=function(e,t){return Oe.current.useCallback(e,t)};K.useContext=function(e){return Oe.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};K.useEffect=function(e,t){return Oe.current.useEffect(e,t)};K.useId=function(){return Oe.current.useId()};K.useImperativeHandle=function(e,t,r){return Oe.current.useImperativeHandle(e,t,r)};K.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return Oe.current.useMemo(e,t)};K.useReducer=function(e,t,r){return Oe.current.useReducer(e,t,r)};K.useRef=function(e){return Oe.current.useRef(e)};K.useState=function(e){return Oe.current.useState(e)};K.useSyncExternalStore=function(e,t,r){return Oe.current.useSyncExternalStore(e,t,r)};K.useTransition=function(){return Oe.current.useTransition()};K.version="18.3.1";Ru.exports=K;var T=Ru.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf=T,Kf=Symbol.for("react.element"),Jf=Symbol.for("react.fragment"),Qf=Object.prototype.hasOwnProperty,Gf=qf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yf={key:!0,ref:!0,__self:!0,__source:!0};function Hu(e,t,r){var n,s={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)Qf.call(t,n)&&!Yf.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Kf,type:e,key:i,ref:l,props:s,_owner:Gf.current}}Hi.Fragment=Jf;Hi.jsx=Hu;Hi.jsxs=Hu;Lu.exports=Hi;var a=Lu.exports,qu={exports:{}},Ke={},Ku={exports:{}},Ju={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,R){var j=A.length;A.push(R);e:for(;0<j;){var O=j-1>>>1,N=A[O];if(0<s(N,R))A[O]=R,A[j]=N,j=O;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var R=A[0],j=A.pop();if(j!==R){A[0]=j;e:for(var O=0,N=A.length,S=N>>>1;O<S;){var L=2*(O+1)-1,Q=A[L],ye=L+1,fe=A[ye];if(0>s(Q,j))ye<N&&0>s(fe,Q)?(A[O]=fe,A[ye]=j,O=ye):(A[O]=Q,A[L]=j,O=L);else if(ye<N&&0>s(fe,j))A[O]=fe,A[ye]=j,O=ye;else break e}}return R}function s(A,R){var j=A.sortIndex-R.sortIndex;return j!==0?j:A.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var o=[],u=[],d=1,h=null,m=3,y=!1,x=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(A){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=A)n(u),R.sortIndex=R.expirationTime,t(o,R);else break;R=r(u)}}function b(A){if(w=!1,p(A),!x)if(r(o)!==null)x=!0,J(v);else{var R=r(u);R!==null&&te(b,R.startTime-A)}}function v(A,R){x=!1,w&&(w=!1,g(P),P=-1),y=!0;var j=m;try{for(p(R),h=r(o);h!==null&&(!(h.expirationTime>R)||A&&!X());){var O=h.callback;if(typeof O=="function"){h.callback=null,m=h.priorityLevel;var N=O(h.expirationTime<=R);R=e.unstable_now(),typeof N=="function"?h.callback=N:h===r(o)&&n(o),p(R)}else n(o);h=r(o)}if(h!==null)var S=!0;else{var L=r(u);L!==null&&te(b,L.startTime-R),S=!1}return S}finally{h=null,m=j,y=!1}}var k=!1,C=null,P=-1,G=5,U=-1;function X(){return!(e.unstable_now()-U<G)}function W(){if(C!==null){var A=e.unstable_now();U=A;var R=!0;try{R=C(!0,A)}finally{R?$():(k=!1,C=null)}}else k=!1}var $;if(typeof f=="function")$=function(){f(W)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,re=V.port2;V.port1.onmessage=W,$=function(){re.postMessage(null)}}else $=function(){_(W,0)};function J(A){C=A,k||(k=!0,$())}function te(A,R){P=_(function(){A(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,J(v))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(o)},e.unstable_next=function(A){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var j=m;m=R;try{return A()}finally{m=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,R){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var j=m;m=A;try{return R()}finally{m=j}},e.unstable_scheduleCallback=function(A,R,j){var O=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?O+j:O):j=O,A){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=j+N,A={id:d++,callback:R,priorityLevel:A,startTime:j,expirationTime:N,sortIndex:-1},j>O?(A.sortIndex=j,t(u,A),r(o)===null&&A===r(u)&&(w?(g(P),P=-1):w=!0,te(b,j-O))):(A.sortIndex=N,t(o,A),x||y||(x=!0,J(v))),A},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(A){var R=m;return function(){var j=m;m=R;try{return A.apply(this,arguments)}finally{m=j}}}})(Ju);Ku.exports=Ju;var Xf=Ku.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=T,qe=Xf;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qu=new Set,es={};function Cr(e,t){sn(e,t),sn(e+"Capture",t)}function sn(e,t){for(es[e]=t,e=0;e<t.length;e++)Qu.add(t[e])}var At=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qa=Object.prototype.hasOwnProperty,em=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sc={},ic={};function tm(e){return Qa.call(ic,e)?!0:Qa.call(sc,e)?!1:em.test(e)?ic[e]=!0:(sc[e]=!0,!1)}function rm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nm(e,t,r,n){if(t===null||typeof t>"u"||rm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ie(e,t,r,n,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ne[e]=new Ie(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ne[t]=new Ie(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ne[e]=new Ie(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ne[e]=new Ie(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ne[e]=new Ie(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ne[e]=new Ie(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ne[e]=new Ie(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ne[e]=new Ie(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ne[e]=new Ie(e,5,!1,e.toLowerCase(),null,!1,!1)});var to=/[\-:]([a-z])/g;function ro(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(to,ro);Ne[t]=new Ie(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(to,ro);Ne[t]=new Ie(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(to,ro);Ne[t]=new Ie(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ne[e]=new Ie(e,1,!1,e.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ne[e]=new Ie(e,1,!1,e.toLowerCase(),null,!0,!0)});function no(e,t,r,n){var s=Ne.hasOwnProperty(t)?Ne[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nm(t,r,s,n)&&(r=null),n||s===null?tm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Rt=Zf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ls=Symbol.for("react.element"),Ur=Symbol.for("react.portal"),zr=Symbol.for("react.fragment"),so=Symbol.for("react.strict_mode"),Ga=Symbol.for("react.profiler"),Gu=Symbol.for("react.provider"),Yu=Symbol.for("react.context"),io=Symbol.for("react.forward_ref"),Ya=Symbol.for("react.suspense"),Xa=Symbol.for("react.suspense_list"),ao=Symbol.for("react.memo"),zt=Symbol.for("react.lazy"),Xu=Symbol.for("react.offscreen"),ac=Symbol.iterator;function Cn(e){return e===null||typeof e!="object"?null:(e=ac&&e[ac]||e["@@iterator"],typeof e=="function"?e:null)}var he=Object.assign,ya;function Rn(e){if(ya===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ya=t&&t[1]||""}return`
`+ya+e}var xa=!1;function va(e,t){if(!e||xa)return"";xa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),l=s.length-1,c=i.length-1;1<=l&&0<=c&&s[l]!==i[c];)c--;for(;1<=l&&0<=c;l--,c--)if(s[l]!==i[c]){if(l!==1||c!==1)do if(l--,c--,0>c||s[l]!==i[c]){var o=`
`+s[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=l&&0<=c);break}}}finally{xa=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Rn(e):""}function sm(e){switch(e.tag){case 5:return Rn(e.type);case 16:return Rn("Lazy");case 13:return Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 2:case 15:return e=va(e.type,!1),e;case 11:return e=va(e.type.render,!1),e;case 1:return e=va(e.type,!0),e;default:return""}}function Za(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zr:return"Fragment";case Ur:return"Portal";case Ga:return"Profiler";case so:return"StrictMode";case Ya:return"Suspense";case Xa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yu:return(e.displayName||"Context")+".Consumer";case Gu:return(e._context.displayName||"Context")+".Provider";case io:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ao:return t=e.displayName||null,t!==null?t:Za(e.type)||"Memo";case zt:t=e._payload,e=e._init;try{return Za(e(t))}catch{}}return null}function im(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Za(t);case 8:return t===so?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function am(e){var t=Zu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rs(e){e._valueTracker||(e._valueTracker=am(e))}function ed(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Zu(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function el(e,t){var r=t.checked;return he({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function lc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=rr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function td(e,t){t=t.checked,t!=null&&no(e,"checked",t,!1)}function tl(e,t){td(e,t);var r=rr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?rl(e,t.type,r):t.hasOwnProperty("defaultValue")&&rl(e,t.type,rr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function oc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function rl(e,t,r){(t!=="number"||gi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Dn=Array.isArray;function Gr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+rr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function nl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return he({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(E(92));if(Dn(r)){if(1<r.length)throw Error(E(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:rr(r)}}function rd(e,t){var r=rr(t.value),n=rr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function uc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ds,sd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ds=Ds||document.createElement("div"),Ds.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ds.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ts(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Fn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lm=["Webkit","ms","Moz","O"];Object.keys(Fn).forEach(function(e){lm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fn[t]=Fn[e]})});function id(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Fn.hasOwnProperty(e)&&Fn[e]?(""+t).trim():t+"px"}function ad(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=id(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var om=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function il(e,t){if(t){if(om[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function al(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ll=null;function lo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ol=null,Yr=null,Xr=null;function dc(e){if(e=js(e)){if(typeof ol!="function")throw Error(E(280));var t=e.stateNode;t&&(t=Gi(t),ol(e.stateNode,e.type,t))}}function ld(e){Yr?Xr?Xr.push(e):Xr=[e]:Yr=e}function od(){if(Yr){var e=Yr,t=Xr;if(Xr=Yr=null,dc(e),t)for(e=0;e<t.length;e++)dc(t[e])}}function cd(e,t){return e(t)}function ud(){}var wa=!1;function dd(e,t,r){if(wa)return e(t,r);wa=!0;try{return cd(e,t,r)}finally{wa=!1,(Yr!==null||Xr!==null)&&(ud(),od())}}function rs(e,t){var r=e.stateNode;if(r===null)return null;var n=Gi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(E(231,t,typeof r));return r}var cl=!1;if(At)try{var En={};Object.defineProperty(En,"passive",{get:function(){cl=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{cl=!1}function cm(e,t,r,n,s,i,l,c,o){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Bn=!1,yi=null,xi=!1,ul=null,um={onError:function(e){Bn=!0,yi=e}};function dm(e,t,r,n,s,i,l,c,o){Bn=!1,yi=null,cm.apply(um,arguments)}function hm(e,t,r,n,s,i,l,c,o){if(dm.apply(this,arguments),Bn){if(Bn){var u=yi;Bn=!1,yi=null}else throw Error(E(198));xi||(xi=!0,ul=u)}}function Er(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function hd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hc(e){if(Er(e)!==e)throw Error(E(188))}function fm(e){var t=e.alternate;if(!t){if(t=Er(e),t===null)throw Error(E(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return hc(s),e;if(i===n)return hc(s),t;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var l=!1,c=s.child;c;){if(c===r){l=!0,r=s,n=i;break}if(c===n){l=!0,n=s,r=i;break}c=c.sibling}if(!l){for(c=i.child;c;){if(c===r){l=!0,r=i,n=s;break}if(c===n){l=!0,n=i,r=s;break}c=c.sibling}if(!l)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?e:t}function fd(e){return e=fm(e),e!==null?md(e):null}function md(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=md(e);if(t!==null)return t;e=e.sibling}return null}var pd=qe.unstable_scheduleCallback,fc=qe.unstable_cancelCallback,mm=qe.unstable_shouldYield,pm=qe.unstable_requestPaint,pe=qe.unstable_now,gm=qe.unstable_getCurrentPriorityLevel,oo=qe.unstable_ImmediatePriority,gd=qe.unstable_UserBlockingPriority,vi=qe.unstable_NormalPriority,ym=qe.unstable_LowPriority,yd=qe.unstable_IdlePriority,qi=null,wt=null;function xm(e){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(qi,e,void 0,(e.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:bm,vm=Math.log,wm=Math.LN2;function bm(e){return e>>>=0,e===0?32:31-(vm(e)/wm|0)|0}var Us=64,zs=4194304;function Un(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var c=l&~s;c!==0?n=Un(c):(i&=l,i!==0&&(n=Un(i)))}else l=r&~s,l!==0?n=Un(l):i!==0&&(n=Un(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ht(t),s=1<<r,n|=e[r],t&=~s;return n}function _m(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function km(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-ht(i),c=1<<l,o=s[l];o===-1?(!(c&r)||c&n)&&(s[l]=_m(c,t)):o<=t&&(e.expiredLanes|=c),i&=~c}}function dl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xd(){var e=Us;return Us<<=1,!(Us&4194240)&&(Us=64),e}function ba(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function _s(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ht(t),e[t]=r}function jm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ht(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function co(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ht(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Z=0;function vd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wd,uo,bd,_d,kd,hl=!1,Ms=[],Kt=null,Jt=null,Qt=null,ns=new Map,ss=new Map,Bt=[],Nm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mc(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":ns.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(t.pointerId)}}function Pn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=js(t),t!==null&&uo(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Sm(e,t,r,n,s){switch(t){case"focusin":return Kt=Pn(Kt,e,t,r,n,s),!0;case"dragenter":return Jt=Pn(Jt,e,t,r,n,s),!0;case"mouseover":return Qt=Pn(Qt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ns.set(i,Pn(ns.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ss.set(i,Pn(ss.get(i)||null,e,t,r,n,s)),!0}return!1}function jd(e){var t=yr(e.target);if(t!==null){var r=Er(t);if(r!==null){if(t=r.tag,t===13){if(t=hd(r),t!==null){e.blockedOn=t,kd(e.priority,function(){bd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ai(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=fl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ll=n,r.target.dispatchEvent(n),ll=null}else return t=js(r),t!==null&&uo(t),e.blockedOn=r,!1;t.shift()}return!0}function pc(e,t,r){ai(e)&&r.delete(t)}function Cm(){hl=!1,Kt!==null&&ai(Kt)&&(Kt=null),Jt!==null&&ai(Jt)&&(Jt=null),Qt!==null&&ai(Qt)&&(Qt=null),ns.forEach(pc),ss.forEach(pc)}function Tn(e,t){e.blockedOn===t&&(e.blockedOn=null,hl||(hl=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,Cm)))}function is(e){function t(s){return Tn(s,e)}if(0<Ms.length){Tn(Ms[0],e);for(var r=1;r<Ms.length;r++){var n=Ms[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Kt!==null&&Tn(Kt,e),Jt!==null&&Tn(Jt,e),Qt!==null&&Tn(Qt,e),ns.forEach(t),ss.forEach(t),r=0;r<Bt.length;r++)n=Bt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Bt.length&&(r=Bt[0],r.blockedOn===null);)jd(r),r.blockedOn===null&&Bt.shift()}var Zr=Rt.ReactCurrentBatchConfig,bi=!0;function Em(e,t,r,n){var s=Z,i=Zr.transition;Zr.transition=null;try{Z=1,ho(e,t,r,n)}finally{Z=s,Zr.transition=i}}function Pm(e,t,r,n){var s=Z,i=Zr.transition;Zr.transition=null;try{Z=4,ho(e,t,r,n)}finally{Z=s,Zr.transition=i}}function ho(e,t,r,n){if(bi){var s=fl(e,t,r,n);if(s===null)Aa(e,t,n,_i,r),mc(e,n);else if(Sm(s,e,t,r,n))n.stopPropagation();else if(mc(e,n),t&4&&-1<Nm.indexOf(e)){for(;s!==null;){var i=js(s);if(i!==null&&wd(i),i=fl(e,t,r,n),i===null&&Aa(e,t,n,_i,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Aa(e,t,n,null,r)}}var _i=null;function fl(e,t,r,n){if(_i=null,e=lo(n),e=yr(e),e!==null)if(t=Er(e),t===null)e=null;else if(r=t.tag,r===13){if(e=hd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _i=e,null}function Nd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gm()){case oo:return 1;case gd:return 4;case vi:case ym:return 16;case yd:return 536870912;default:return 16}default:return 16}}var Ht=null,fo=null,li=null;function Sd(){if(li)return li;var e,t=fo,r=t.length,n,s="value"in Ht?Ht.value:Ht.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===s[i-n];n++);return li=s.slice(e,1<n?1-n:void 0)}function oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fs(){return!0}function gc(){return!1}function Je(e){function t(r,n,s,i,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fs:gc,this.isPropagationStopped=gc,this}return he(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),t}var vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=Je(vn),ks=he({},vn,{view:0,detail:0}),Tm=Je(ks),_a,ka,An,Ki=he({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:po,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==An&&(An&&e.type==="mousemove"?(_a=e.screenX-An.screenX,ka=e.screenY-An.screenY):ka=_a=0,An=e),_a)},movementY:function(e){return"movementY"in e?e.movementY:ka}}),yc=Je(Ki),Am=he({},Ki,{dataTransfer:0}),$m=Je(Am),Om=he({},ks,{relatedTarget:0}),ja=Je(Om),Im=he({},vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Lm=Je(Im),Rm=he({},vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dm=Je(Rm),Um=he({},vn,{data:0}),xc=Je(Um),zm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fm[e])?!!t[e]:!1}function po(){return Bm}var Wm=he({},ks,{key:function(e){if(e.key){var t=zm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:po,charCode:function(e){return e.type==="keypress"?oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vm=Je(Wm),Hm=he({},Ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vc=Je(Hm),qm=he({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:po}),Km=Je(qm),Jm=he({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qm=Je(Jm),Gm=he({},Ki,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ym=Je(Gm),Xm=[9,13,27,32],go=At&&"CompositionEvent"in window,Wn=null;At&&"documentMode"in document&&(Wn=document.documentMode);var Zm=At&&"TextEvent"in window&&!Wn,Cd=At&&(!go||Wn&&8<Wn&&11>=Wn),wc=" ",bc=!1;function Ed(e,t){switch(e){case"keyup":return Xm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mr=!1;function ep(e,t){switch(e){case"compositionend":return Pd(t);case"keypress":return t.which!==32?null:(bc=!0,wc);case"textInput":return e=t.data,e===wc&&bc?null:e;default:return null}}function tp(e,t){if(Mr)return e==="compositionend"||!go&&Ed(e,t)?(e=Sd(),li=fo=Ht=null,Mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cd&&t.locale!=="ko"?null:t.data;default:return null}}var rp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rp[e.type]:t==="textarea"}function Td(e,t,r,n){ld(n),t=ki(t,"onChange"),0<t.length&&(r=new mo("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Vn=null,as=null;function np(e){Fd(e,0)}function Ji(e){var t=Wr(e);if(ed(t))return e}function sp(e,t){if(e==="change")return t}var Ad=!1;if(At){var Na;if(At){var Sa="oninput"in document;if(!Sa){var kc=document.createElement("div");kc.setAttribute("oninput","return;"),Sa=typeof kc.oninput=="function"}Na=Sa}else Na=!1;Ad=Na&&(!document.documentMode||9<document.documentMode)}function jc(){Vn&&(Vn.detachEvent("onpropertychange",$d),as=Vn=null)}function $d(e){if(e.propertyName==="value"&&Ji(as)){var t=[];Td(t,as,e,lo(e)),dd(np,t)}}function ip(e,t,r){e==="focusin"?(jc(),Vn=t,as=r,Vn.attachEvent("onpropertychange",$d)):e==="focusout"&&jc()}function ap(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ji(as)}function lp(e,t){if(e==="click")return Ji(t)}function op(e,t){if(e==="input"||e==="change")return Ji(t)}function cp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:cp;function ls(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Qa.call(t,s)||!pt(e[s],t[s]))return!1}return!0}function Nc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sc(e,t){var r=Nc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Nc(r)}}function Od(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Od(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Id(){for(var e=window,t=gi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=gi(e.document)}return t}function yo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function up(e){var t=Id(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Od(r.ownerDocument.documentElement,r)){if(n!==null&&yo(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Sc(r,i);var l=Sc(r,n);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dp=At&&"documentMode"in document&&11>=document.documentMode,Fr=null,ml=null,Hn=null,pl=!1;function Cc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;pl||Fr==null||Fr!==gi(n)||(n=Fr,"selectionStart"in n&&yo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hn&&ls(Hn,n)||(Hn=n,n=ki(ml,"onSelect"),0<n.length&&(t=new mo("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Fr)))}function Bs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Br={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionend:Bs("Transition","TransitionEnd")},Ca={},Ld={};At&&(Ld=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function Qi(e){if(Ca[e])return Ca[e];if(!Br[e])return e;var t=Br[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ld)return Ca[e]=t[r];return e}var Rd=Qi("animationend"),Dd=Qi("animationiteration"),Ud=Qi("animationstart"),zd=Qi("transitionend"),Md=new Map,Ec="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sr(e,t){Md.set(e,t),Cr(t,[e])}for(var Ea=0;Ea<Ec.length;Ea++){var Pa=Ec[Ea],hp=Pa.toLowerCase(),fp=Pa[0].toUpperCase()+Pa.slice(1);sr(hp,"on"+fp)}sr(Rd,"onAnimationEnd");sr(Dd,"onAnimationIteration");sr(Ud,"onAnimationStart");sr("dblclick","onDoubleClick");sr("focusin","onFocus");sr("focusout","onBlur");sr(zd,"onTransitionEnd");sn("onMouseEnter",["mouseout","mouseover"]);sn("onMouseLeave",["mouseout","mouseover"]);sn("onPointerEnter",["pointerout","pointerover"]);sn("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mp=new Set("cancel close invalid load scroll toggle".split(" ").concat(zn));function Pc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,hm(n,t,void 0,e),e.currentTarget=null}function Fd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var c=n[l],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==i&&s.isPropagationStopped())break e;Pc(s,c,u),i=o}else for(l=0;l<n.length;l++){if(c=n[l],o=c.instance,u=c.currentTarget,c=c.listener,o!==i&&s.isPropagationStopped())break e;Pc(s,c,u),i=o}}}if(xi)throw e=ul,xi=!1,ul=null,e}function ae(e,t){var r=t[wl];r===void 0&&(r=t[wl]=new Set);var n=e+"__bubble";r.has(n)||(Bd(t,e,2,!1),r.add(n))}function Ta(e,t,r){var n=0;t&&(n|=4),Bd(r,e,n,t)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function os(e){if(!e[Ws]){e[Ws]=!0,Qu.forEach(function(r){r!=="selectionchange"&&(mp.has(r)||Ta(r,!1,e),Ta(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ws]||(t[Ws]=!0,Ta("selectionchange",!1,t))}}function Bd(e,t,r,n){switch(Nd(t)){case 1:var s=Em;break;case 4:s=Pm;break;default:s=ho}r=s.bind(null,t,r,e),s=void 0,!cl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Aa(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var c=n.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var o=l.tag;if((o===3||o===4)&&(o=l.stateNode.containerInfo,o===s||o.nodeType===8&&o.parentNode===s))return;l=l.return}for(;c!==null;){if(l=yr(c),l===null)return;if(o=l.tag,o===5||o===6){n=i=l;continue e}c=c.parentNode}}n=n.return}dd(function(){var u=i,d=lo(r),h=[];e:{var m=Md.get(e);if(m!==void 0){var y=mo,x=e;switch(e){case"keypress":if(oi(r)===0)break e;case"keydown":case"keyup":y=Vm;break;case"focusin":x="focus",y=ja;break;case"focusout":x="blur",y=ja;break;case"beforeblur":case"afterblur":y=ja;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=$m;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Km;break;case Rd:case Dd:case Ud:y=Lm;break;case zd:y=Qm;break;case"scroll":y=Tm;break;case"wheel":y=Ym;break;case"copy":case"cut":case"paste":y=Dm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=vc}var w=(t&4)!==0,_=!w&&e==="scroll",g=w?m!==null?m+"Capture":null:m;w=[];for(var f=u,p;f!==null;){p=f;var b=p.stateNode;if(p.tag===5&&b!==null&&(p=b,g!==null&&(b=rs(f,g),b!=null&&w.push(cs(f,b,p)))),_)break;f=f.return}0<w.length&&(m=new y(m,x,null,r,d),h.push({event:m,listeners:w}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&r!==ll&&(x=r.relatedTarget||r.fromElement)&&(yr(x)||x[$t]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(x=r.relatedTarget||r.toElement,y=u,x=x?yr(x):null,x!==null&&(_=Er(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(w=yc,b="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=vc,b="onPointerLeave",g="onPointerEnter",f="pointer"),_=y==null?m:Wr(y),p=x==null?m:Wr(x),m=new w(b,f+"leave",y,r,d),m.target=_,m.relatedTarget=p,b=null,yr(d)===u&&(w=new w(g,f+"enter",x,r,d),w.target=p,w.relatedTarget=_,b=w),_=b,y&&x)t:{for(w=y,g=x,f=0,p=w;p;p=$r(p))f++;for(p=0,b=g;b;b=$r(b))p++;for(;0<f-p;)w=$r(w),f--;for(;0<p-f;)g=$r(g),p--;for(;f--;){if(w===g||g!==null&&w===g.alternate)break t;w=$r(w),g=$r(g)}w=null}else w=null;y!==null&&Tc(h,m,y,w,!1),x!==null&&_!==null&&Tc(h,_,x,w,!0)}}e:{if(m=u?Wr(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var v=sp;else if(_c(m))if(Ad)v=op;else{v=ap;var k=ip}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(v=lp);if(v&&(v=v(e,u))){Td(h,v,r,d);break e}k&&k(e,m,u),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&rl(m,"number",m.value)}switch(k=u?Wr(u):window,e){case"focusin":(_c(k)||k.contentEditable==="true")&&(Fr=k,ml=u,Hn=null);break;case"focusout":Hn=ml=Fr=null;break;case"mousedown":pl=!0;break;case"contextmenu":case"mouseup":case"dragend":pl=!1,Cc(h,r,d);break;case"selectionchange":if(dp)break;case"keydown":case"keyup":Cc(h,r,d)}var C;if(go)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Mr?Ed(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Cd&&r.locale!=="ko"&&(Mr||P!=="onCompositionStart"?P==="onCompositionEnd"&&Mr&&(C=Sd()):(Ht=d,fo="value"in Ht?Ht.value:Ht.textContent,Mr=!0)),k=ki(u,P),0<k.length&&(P=new xc(P,e,null,r,d),h.push({event:P,listeners:k}),C?P.data=C:(C=Pd(r),C!==null&&(P.data=C)))),(C=Zm?ep(e,r):tp(e,r))&&(u=ki(u,"onBeforeInput"),0<u.length&&(d=new xc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=C))}Fd(h,t)})}function cs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ki(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=rs(e,r),i!=null&&n.unshift(cs(e,i,s)),i=rs(e,t),i!=null&&n.push(cs(e,i,s))),e=e.return}return n}function $r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Tc(e,t,r,n,s){for(var i=t._reactName,l=[];r!==null&&r!==n;){var c=r,o=c.alternate,u=c.stateNode;if(o!==null&&o===n)break;c.tag===5&&u!==null&&(c=u,s?(o=rs(r,i),o!=null&&l.unshift(cs(r,o,c))):s||(o=rs(r,i),o!=null&&l.push(cs(r,o,c)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var pp=/\r\n?/g,gp=/\u0000|\uFFFD/g;function Ac(e){return(typeof e=="string"?e:""+e).replace(pp,`
`).replace(gp,"")}function Vs(e,t,r){if(t=Ac(t),Ac(e)!==t&&r)throw Error(E(425))}function ji(){}var gl=null,yl=null;function xl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vl=typeof setTimeout=="function"?setTimeout:void 0,yp=typeof clearTimeout=="function"?clearTimeout:void 0,$c=typeof Promise=="function"?Promise:void 0,xp=typeof queueMicrotask=="function"?queueMicrotask:typeof $c<"u"?function(e){return $c.resolve(null).then(e).catch(vp)}:vl;function vp(e){setTimeout(function(){throw e})}function $a(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),is(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);is(t)}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Oc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wn=Math.random().toString(36).slice(2),vt="__reactFiber$"+wn,us="__reactProps$"+wn,$t="__reactContainer$"+wn,wl="__reactEvents$"+wn,wp="__reactListeners$"+wn,bp="__reactHandles$"+wn;function yr(e){var t=e[vt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[$t]||r[vt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Oc(e);e!==null;){if(r=e[vt])return r;e=Oc(e)}return t}e=r,r=e.parentNode}return null}function js(e){return e=e[vt]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function Gi(e){return e[us]||null}var bl=[],Vr=-1;function ir(e){return{current:e}}function oe(e){0>Vr||(e.current=bl[Vr],bl[Vr]=null,Vr--)}function se(e,t){Vr++,bl[Vr]=e.current,e.current=t}var nr={},Pe=ir(nr),Me=ir(!1),_r=nr;function an(e,t){var r=e.type.contextTypes;if(!r)return nr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Fe(e){return e=e.childContextTypes,e!=null}function Ni(){oe(Me),oe(Pe)}function Ic(e,t,r){if(Pe.current!==nr)throw Error(E(168));se(Pe,t),se(Me,r)}function Wd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(E(108,im(e)||"Unknown",s));return he({},r,n)}function Si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nr,_r=Pe.current,se(Pe,e),se(Me,Me.current),!0}function Lc(e,t,r){var n=e.stateNode;if(!n)throw Error(E(169));r?(e=Wd(e,t,_r),n.__reactInternalMemoizedMergedChildContext=e,oe(Me),oe(Pe),se(Pe,e)):oe(Me),se(Me,r)}var Nt=null,Yi=!1,Oa=!1;function Vd(e){Nt===null?Nt=[e]:Nt.push(e)}function _p(e){Yi=!0,Vd(e)}function ar(){if(!Oa&&Nt!==null){Oa=!0;var e=0,t=Z;try{var r=Nt;for(Z=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Nt=null,Yi=!1}catch(s){throw Nt!==null&&(Nt=Nt.slice(e+1)),pd(oo,ar),s}finally{Z=t,Oa=!1}}return null}var Hr=[],qr=0,Ci=null,Ei=0,Ye=[],Xe=0,kr=null,St=1,Ct="";function fr(e,t){Hr[qr++]=Ei,Hr[qr++]=Ci,Ci=e,Ei=t}function Hd(e,t,r){Ye[Xe++]=St,Ye[Xe++]=Ct,Ye[Xe++]=kr,kr=e;var n=St;e=Ct;var s=32-ht(n)-1;n&=~(1<<s),r+=1;var i=32-ht(t)+s;if(30<i){var l=s-s%5;i=(n&(1<<l)-1).toString(32),n>>=l,s-=l,St=1<<32-ht(t)+s|r<<s|n,Ct=i+e}else St=1<<i|r<<s|n,Ct=e}function xo(e){e.return!==null&&(fr(e,1),Hd(e,1,0))}function vo(e){for(;e===Ci;)Ci=Hr[--qr],Hr[qr]=null,Ei=Hr[--qr],Hr[qr]=null;for(;e===kr;)kr=Ye[--Xe],Ye[Xe]=null,Ct=Ye[--Xe],Ye[Xe]=null,St=Ye[--Xe],Ye[Xe]=null}var He=null,Ve=null,ce=!1,ct=null;function qd(e,t){var r=Ze(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Rc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,He=e,Ve=Gt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,He=e,Ve=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=kr!==null?{id:St,overflow:Ct}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ze(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,He=e,Ve=null,!0):!1;default:return!1}}function _l(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kl(e){if(ce){var t=Ve;if(t){var r=t;if(!Rc(e,t)){if(_l(e))throw Error(E(418));t=Gt(r.nextSibling);var n=He;t&&Rc(e,t)?qd(n,r):(e.flags=e.flags&-4097|2,ce=!1,He=e)}}else{if(_l(e))throw Error(E(418));e.flags=e.flags&-4097|2,ce=!1,He=e}}}function Dc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;He=e}function Hs(e){if(e!==He)return!1;if(!ce)return Dc(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xl(e.type,e.memoizedProps)),t&&(t=Ve)){if(_l(e))throw Kd(),Error(E(418));for(;t;)qd(e,t),t=Gt(t.nextSibling)}if(Dc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ve=Gt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ve=null}}else Ve=He?Gt(e.stateNode.nextSibling):null;return!0}function Kd(){for(var e=Ve;e;)e=Gt(e.nextSibling)}function ln(){Ve=He=null,ce=!1}function wo(e){ct===null?ct=[e]:ct.push(e)}var kp=Rt.ReactCurrentBatchConfig;function $n(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var c=s.refs;l===null?delete c[i]:c[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,e))}return e}function qs(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uc(e){var t=e._init;return t(e._payload)}function Jd(e){function t(g,f){if(e){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function r(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function n(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=er(g,f),g.index=0,g.sibling=null,g}function i(g,f,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=2,f):p):(g.flags|=2,f)):(g.flags|=1048576,f)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function c(g,f,p,b){return f===null||f.tag!==6?(f=Ma(p,g.mode,b),f.return=g,f):(f=s(f,p),f.return=g,f)}function o(g,f,p,b){var v=p.type;return v===zr?d(g,f,p.props.children,b,p.key):f!==null&&(f.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===zt&&Uc(v)===f.type)?(b=s(f,p.props),b.ref=$n(g,f,p),b.return=g,b):(b=pi(p.type,p.key,p.props,null,g.mode,b),b.ref=$n(g,f,p),b.return=g,b)}function u(g,f,p,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=Fa(p,g.mode,b),f.return=g,f):(f=s(f,p.children||[]),f.return=g,f)}function d(g,f,p,b,v){return f===null||f.tag!==7?(f=br(p,g.mode,b,v),f.return=g,f):(f=s(f,p),f.return=g,f)}function h(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ma(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ls:return p=pi(f.type,f.key,f.props,null,g.mode,p),p.ref=$n(g,null,f),p.return=g,p;case Ur:return f=Fa(f,g.mode,p),f.return=g,f;case zt:var b=f._init;return h(g,b(f._payload),p)}if(Dn(f)||Cn(f))return f=br(f,g.mode,p,null),f.return=g,f;qs(g,f)}return null}function m(g,f,p,b){var v=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return v!==null?null:c(g,f,""+p,b);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ls:return p.key===v?o(g,f,p,b):null;case Ur:return p.key===v?u(g,f,p,b):null;case zt:return v=p._init,m(g,f,v(p._payload),b)}if(Dn(p)||Cn(p))return v!==null?null:d(g,f,p,b,null);qs(g,p)}return null}function y(g,f,p,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(p)||null,c(f,g,""+b,v);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ls:return g=g.get(b.key===null?p:b.key)||null,o(f,g,b,v);case Ur:return g=g.get(b.key===null?p:b.key)||null,u(f,g,b,v);case zt:var k=b._init;return y(g,f,p,k(b._payload),v)}if(Dn(b)||Cn(b))return g=g.get(p)||null,d(f,g,b,v,null);qs(f,b)}return null}function x(g,f,p,b){for(var v=null,k=null,C=f,P=f=0,G=null;C!==null&&P<p.length;P++){C.index>P?(G=C,C=null):G=C.sibling;var U=m(g,C,p[P],b);if(U===null){C===null&&(C=G);break}e&&C&&U.alternate===null&&t(g,C),f=i(U,f,P),k===null?v=U:k.sibling=U,k=U,C=G}if(P===p.length)return r(g,C),ce&&fr(g,P),v;if(C===null){for(;P<p.length;P++)C=h(g,p[P],b),C!==null&&(f=i(C,f,P),k===null?v=C:k.sibling=C,k=C);return ce&&fr(g,P),v}for(C=n(g,C);P<p.length;P++)G=y(C,g,P,p[P],b),G!==null&&(e&&G.alternate!==null&&C.delete(G.key===null?P:G.key),f=i(G,f,P),k===null?v=G:k.sibling=G,k=G);return e&&C.forEach(function(X){return t(g,X)}),ce&&fr(g,P),v}function w(g,f,p,b){var v=Cn(p);if(typeof v!="function")throw Error(E(150));if(p=v.call(p),p==null)throw Error(E(151));for(var k=v=null,C=f,P=f=0,G=null,U=p.next();C!==null&&!U.done;P++,U=p.next()){C.index>P?(G=C,C=null):G=C.sibling;var X=m(g,C,U.value,b);if(X===null){C===null&&(C=G);break}e&&C&&X.alternate===null&&t(g,C),f=i(X,f,P),k===null?v=X:k.sibling=X,k=X,C=G}if(U.done)return r(g,C),ce&&fr(g,P),v;if(C===null){for(;!U.done;P++,U=p.next())U=h(g,U.value,b),U!==null&&(f=i(U,f,P),k===null?v=U:k.sibling=U,k=U);return ce&&fr(g,P),v}for(C=n(g,C);!U.done;P++,U=p.next())U=y(C,g,P,U.value,b),U!==null&&(e&&U.alternate!==null&&C.delete(U.key===null?P:U.key),f=i(U,f,P),k===null?v=U:k.sibling=U,k=U);return e&&C.forEach(function(W){return t(g,W)}),ce&&fr(g,P),v}function _(g,f,p,b){if(typeof p=="object"&&p!==null&&p.type===zr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ls:e:{for(var v=p.key,k=f;k!==null;){if(k.key===v){if(v=p.type,v===zr){if(k.tag===7){r(g,k.sibling),f=s(k,p.props.children),f.return=g,g=f;break e}}else if(k.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===zt&&Uc(v)===k.type){r(g,k.sibling),f=s(k,p.props),f.ref=$n(g,k,p),f.return=g,g=f;break e}r(g,k);break}else t(g,k);k=k.sibling}p.type===zr?(f=br(p.props.children,g.mode,b,p.key),f.return=g,g=f):(b=pi(p.type,p.key,p.props,null,g.mode,b),b.ref=$n(g,f,p),b.return=g,g=b)}return l(g);case Ur:e:{for(k=p.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){r(g,f.sibling),f=s(f,p.children||[]),f.return=g,g=f;break e}else{r(g,f);break}else t(g,f);f=f.sibling}f=Fa(p,g.mode,b),f.return=g,g=f}return l(g);case zt:return k=p._init,_(g,f,k(p._payload),b)}if(Dn(p))return x(g,f,p,b);if(Cn(p))return w(g,f,p,b);qs(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(r(g,f.sibling),f=s(f,p),f.return=g,g=f):(r(g,f),f=Ma(p,g.mode,b),f.return=g,g=f),l(g)):r(g,f)}return _}var on=Jd(!0),Qd=Jd(!1),Pi=ir(null),Ti=null,Kr=null,bo=null;function _o(){bo=Kr=Ti=null}function ko(e){var t=Pi.current;oe(Pi),e._currentValue=t}function jl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function en(e,t){Ti=e,bo=Kr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ue=!0),e.firstContext=null)}function rt(e){var t=e._currentValue;if(bo!==e)if(e={context:e,memoizedValue:t,next:null},Kr===null){if(Ti===null)throw Error(E(308));Kr=e,Ti.dependencies={lanes:0,firstContext:e}}else Kr=Kr.next=e;return t}var xr=null;function jo(e){xr===null?xr=[e]:xr.push(e)}function Gd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,jo(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ot(e,n)}function Ot(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Mt=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Y&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ot(e,r)}return s=n.interleaved,s===null?(t.next=t,jo(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ot(e,r)}function ci(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,co(e,r)}}function zc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ai(e,t,r,n){var s=e.updateQueue;Mt=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var o=c,u=o.next;o.next=null,l===null?i=u:l.next=u,l=o;var d=e.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==l&&(c===null?d.firstBaseUpdate=u:c.next=u,d.lastBaseUpdate=o))}if(i!==null){var h=s.baseState;l=0,d=u=o=null,c=i;do{var m=c.lane,y=c.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var x=e,w=c;switch(m=t,y=r,w.tag){case 1:if(x=w.payload,typeof x=="function"){h=x.call(y,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,m=typeof x=="function"?x.call(y,h,m):x,m==null)break e;h=he({},h,m);break e;case 2:Mt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[c]:m.push(c))}else y={eventTime:y,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(u=d=y,o=h):d=d.next=y,l|=m;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;m=c,c=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(o=h),s.baseState=o,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Nr|=l,e.lanes=l,e.memoizedState=h}}function Mc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var Ns={},bt=ir(Ns),ds=ir(Ns),hs=ir(Ns);function vr(e){if(e===Ns)throw Error(E(174));return e}function So(e,t){switch(se(hs,t),se(ds,e),se(bt,Ns),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sl(t,e)}oe(bt),se(bt,t)}function cn(){oe(bt),oe(ds),oe(hs)}function Xd(e){vr(hs.current);var t=vr(bt.current),r=sl(t,e.type);t!==r&&(se(ds,e),se(bt,r))}function Co(e){ds.current===e&&(oe(bt),oe(ds))}var ue=ir(0);function $i(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ia=[];function Eo(){for(var e=0;e<Ia.length;e++)Ia[e]._workInProgressVersionPrimary=null;Ia.length=0}var ui=Rt.ReactCurrentDispatcher,La=Rt.ReactCurrentBatchConfig,jr=0,de=null,xe=null,be=null,Oi=!1,qn=!1,fs=0,jp=0;function Se(){throw Error(E(321))}function Po(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pt(e[r],t[r]))return!1;return!0}function To(e,t,r,n,s,i){if(jr=i,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ui.current=e===null||e.memoizedState===null?Ep:Pp,e=r(n,s),qn){i=0;do{if(qn=!1,fs=0,25<=i)throw Error(E(301));i+=1,be=xe=null,t.updateQueue=null,ui.current=Tp,e=r(n,s)}while(qn)}if(ui.current=Ii,t=xe!==null&&xe.next!==null,jr=0,be=xe=de=null,Oi=!1,t)throw Error(E(300));return e}function Ao(){var e=fs!==0;return fs=0,e}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?de.memoizedState=be=e:be=be.next=e,be}function nt(){if(xe===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=be===null?de.memoizedState:be.next;if(t!==null)be=t,xe=e;else{if(e===null)throw Error(E(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},be===null?de.memoizedState=be=e:be=be.next=e}return be}function ms(e,t){return typeof t=="function"?t(e):t}function Ra(e){var t=nt(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=xe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var c=l=null,o=null,u=i;do{var d=u.lane;if((jr&d)===d)o!==null&&(o=o.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};o===null?(c=o=h,l=n):o=o.next=h,de.lanes|=d,Nr|=d}u=u.next}while(u!==null&&u!==i);o===null?l=n:o.next=c,pt(n,t.memoizedState)||(Ue=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=o,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,de.lanes|=i,Nr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Da(e){var t=nt(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);pt(i,t.memoizedState)||(Ue=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Zd(){}function eh(e,t){var r=de,n=nt(),s=t(),i=!pt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ue=!0),n=n.queue,$o(nh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||be!==null&&be.memoizedState.tag&1){if(r.flags|=2048,ps(9,rh.bind(null,r,n,s,t),void 0,null),_e===null)throw Error(E(349));jr&30||th(r,t,s)}return s}function th(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function rh(e,t,r,n){t.value=r,t.getSnapshot=n,sh(t)&&ih(e)}function nh(e,t,r){return r(function(){sh(t)&&ih(e)})}function sh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pt(e,r)}catch{return!0}}function ih(e){var t=Ot(e,1);t!==null&&ft(t,e,1,-1)}function Fc(e){var t=xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},t.queue=e,e=e.dispatch=Cp.bind(null,de,e),[t.memoizedState,e]}function ps(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ah(){return nt().memoizedState}function di(e,t,r,n){var s=xt();de.flags|=e,s.memoizedState=ps(1|t,r,void 0,n===void 0?null:n)}function Xi(e,t,r,n){var s=nt();n=n===void 0?null:n;var i=void 0;if(xe!==null){var l=xe.memoizedState;if(i=l.destroy,n!==null&&Po(n,l.deps)){s.memoizedState=ps(t,r,i,n);return}}de.flags|=e,s.memoizedState=ps(1|t,r,i,n)}function Bc(e,t){return di(8390656,8,e,t)}function $o(e,t){return Xi(2048,8,e,t)}function lh(e,t){return Xi(4,2,e,t)}function oh(e,t){return Xi(4,4,e,t)}function ch(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uh(e,t,r){return r=r!=null?r.concat([e]):null,Xi(4,4,ch.bind(null,t,e),r)}function Oo(){}function dh(e,t){var r=nt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Po(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function hh(e,t){var r=nt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Po(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function fh(e,t,r){return jr&21?(pt(r,t)||(r=xd(),de.lanes|=r,Nr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ue=!0),e.memoizedState=r)}function Np(e,t){var r=Z;Z=r!==0&&4>r?r:4,e(!0);var n=La.transition;La.transition={};try{e(!1),t()}finally{Z=r,La.transition=n}}function mh(){return nt().memoizedState}function Sp(e,t,r){var n=Zt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ph(e))gh(t,r);else if(r=Gd(e,t,r,n),r!==null){var s=$e();ft(r,e,n,s),yh(r,t,n)}}function Cp(e,t,r){var n=Zt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ph(e))gh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,c=i(l,r);if(s.hasEagerState=!0,s.eagerState=c,pt(c,l)){var o=t.interleaved;o===null?(s.next=s,jo(t)):(s.next=o.next,o.next=s),t.interleaved=s;return}}catch{}finally{}r=Gd(e,t,s,n),r!==null&&(s=$e(),ft(r,e,n,s),yh(r,t,n))}}function ph(e){var t=e.alternate;return e===de||t!==null&&t===de}function gh(e,t){qn=Oi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function yh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,co(e,r)}}var Ii={readContext:rt,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},Ep={readContext:rt,useCallback:function(e,t){return xt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Bc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,di(4194308,4,ch.bind(null,t,e),r)},useLayoutEffect:function(e,t){return di(4194308,4,e,t)},useInsertionEffect:function(e,t){return di(4,2,e,t)},useMemo:function(e,t){var r=xt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Sp.bind(null,de,e),[n.memoizedState,e]},useRef:function(e){var t=xt();return e={current:e},t.memoizedState=e},useState:Fc,useDebugValue:Oo,useDeferredValue:function(e){return xt().memoizedState=e},useTransition:function(){var e=Fc(!1),t=e[0];return e=Np.bind(null,e[1]),xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=de,s=xt();if(ce){if(r===void 0)throw Error(E(407));r=r()}else{if(r=t(),_e===null)throw Error(E(349));jr&30||th(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Bc(nh.bind(null,n,i,e),[e]),n.flags|=2048,ps(9,rh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=xt(),t=_e.identifierPrefix;if(ce){var r=Ct,n=St;r=(n&~(1<<32-ht(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=fs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=jp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pp={readContext:rt,useCallback:dh,useContext:rt,useEffect:$o,useImperativeHandle:uh,useInsertionEffect:lh,useLayoutEffect:oh,useMemo:hh,useReducer:Ra,useRef:ah,useState:function(){return Ra(ms)},useDebugValue:Oo,useDeferredValue:function(e){var t=nt();return fh(t,xe.memoizedState,e)},useTransition:function(){var e=Ra(ms)[0],t=nt().memoizedState;return[e,t]},useMutableSource:Zd,useSyncExternalStore:eh,useId:mh,unstable_isNewReconciler:!1},Tp={readContext:rt,useCallback:dh,useContext:rt,useEffect:$o,useImperativeHandle:uh,useInsertionEffect:lh,useLayoutEffect:oh,useMemo:hh,useReducer:Da,useRef:ah,useState:function(){return Da(ms)},useDebugValue:Oo,useDeferredValue:function(e){var t=nt();return xe===null?t.memoizedState=e:fh(t,xe.memoizedState,e)},useTransition:function(){var e=Da(ms)[0],t=nt().memoizedState;return[e,t]},useMutableSource:Zd,useSyncExternalStore:eh,useId:mh,unstable_isNewReconciler:!1};function at(e,t){if(e&&e.defaultProps){t=he({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Nl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:he({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Zi={isMounted:function(e){return(e=e._reactInternals)?Er(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=$e(),s=Zt(e),i=Pt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Yt(e,i,s),t!==null&&(ft(t,e,s,n),ci(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=$e(),s=Zt(e),i=Pt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Yt(e,i,s),t!==null&&(ft(t,e,s,n),ci(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=$e(),n=Zt(e),s=Pt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Yt(e,s,n),t!==null&&(ft(t,e,n,r),ci(t,e,n))}};function Wc(e,t,r,n,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!ls(r,n)||!ls(s,i):!0}function xh(e,t,r){var n=!1,s=nr,i=t.contextType;return typeof i=="object"&&i!==null?i=rt(i):(s=Fe(t)?_r:Pe.current,n=t.contextTypes,i=(n=n!=null)?an(e,s):nr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Vc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Zi.enqueueReplaceState(t,t.state,null)}function Sl(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},No(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=rt(i):(i=Fe(t)?_r:Pe.current,s.context=an(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Nl(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Zi.enqueueReplaceState(s,s.state,null),Ai(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function un(e,t){try{var r="",n=t;do r+=sm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ua(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Cl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ap=typeof WeakMap=="function"?WeakMap:Map;function vh(e,t,r){r=Pt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ri||(Ri=!0,Dl=n),Cl(e,t)},r}function wh(e,t,r){r=Pt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Cl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Cl(e,t),typeof n!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Hc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Ap;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Hp.bind(null,e,t,r),t.then(e,e))}function qc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Kc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Pt(-1,1),t.tag=2,Yt(r,t,1))),r.lanes|=1),e)}var $p=Rt.ReactCurrentOwner,Ue=!1;function Ae(e,t,r,n){t.child=e===null?Qd(t,null,r,n):on(t,e.child,r,n)}function Jc(e,t,r,n,s){r=r.render;var i=t.ref;return en(t,s),n=To(e,t,r,n,i,s),r=Ao(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,It(e,t,s)):(ce&&r&&xo(t),t.flags|=1,Ae(e,t,n,s),t.child)}function Qc(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Fo(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,bh(e,t,i,n,s)):(e=pi(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:ls,r(l,n)&&e.ref===t.ref)return It(e,t,s)}return t.flags|=1,e=er(i,n),e.ref=t.ref,e.return=t,t.child=e}function bh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ls(i,n)&&e.ref===t.ref)if(Ue=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ue=!0);else return t.lanes=e.lanes,It(e,t,s)}return El(e,t,r,n,s)}function _h(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Qr,We),We|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(Qr,We),We|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,se(Qr,We),We|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,se(Qr,We),We|=n;return Ae(e,t,s,r),t.child}function kh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function El(e,t,r,n,s){var i=Fe(r)?_r:Pe.current;return i=an(t,i),en(t,s),r=To(e,t,r,n,i,s),n=Ao(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,It(e,t,s)):(ce&&n&&xo(t),t.flags|=1,Ae(e,t,r,s),t.child)}function Gc(e,t,r,n,s){if(Fe(r)){var i=!0;Si(t)}else i=!1;if(en(t,s),t.stateNode===null)hi(e,t),xh(t,r,n),Sl(t,r,n,s),n=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var o=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=rt(u):(u=Fe(r)?_r:Pe.current,u=an(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==n||o!==u)&&Vc(t,l,n,u),Mt=!1;var m=t.memoizedState;l.state=m,Ai(t,n,l,s),o=t.memoizedState,c!==n||m!==o||Me.current||Mt?(typeof d=="function"&&(Nl(t,r,d,n),o=t.memoizedState),(c=Mt||Wc(t,r,c,n,m,o,u))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),l.props=n,l.state=o,l.context=u,n=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Yd(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:at(t.type,c),l.props=u,h=t.pendingProps,m=l.context,o=r.contextType,typeof o=="object"&&o!==null?o=rt(o):(o=Fe(r)?_r:Pe.current,o=an(t,o));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==h||m!==o)&&Vc(t,l,n,o),Mt=!1,m=t.memoizedState,l.state=m,Ai(t,n,l,s);var x=t.memoizedState;c!==h||m!==x||Me.current||Mt?(typeof y=="function"&&(Nl(t,r,y,n),x=t.memoizedState),(u=Mt||Wc(t,r,u,n,m,x,o)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,x,o),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,x,o)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),l.props=n,l.state=x,l.context=o,n=u):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Pl(e,t,r,n,i,s)}function Pl(e,t,r,n,s,i){kh(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return s&&Lc(t,r,!1),It(e,t,i);n=t.stateNode,$p.current=t;var c=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=on(t,e.child,null,i),t.child=on(t,null,c,i)):Ae(e,t,c,i),t.memoizedState=n.state,s&&Lc(t,r,!0),t.child}function jh(e){var t=e.stateNode;t.pendingContext?Ic(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ic(e,t.context,!1),So(e,t.containerInfo)}function Yc(e,t,r,n,s){return ln(),wo(s),t.flags|=256,Ae(e,t,r,n),t.child}var Tl={dehydrated:null,treeContext:null,retryLane:0};function Al(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nh(e,t,r){var n=t.pendingProps,s=ue.current,i=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),se(ue,s&1),e===null)return kl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=ra(l,n,0,null),e=br(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Al(r),t.memoizedState=Tl,e):Io(t,l));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return Op(e,t,l,n,c,s,r);if(i){i=n.fallback,l=t.mode,s=e.child,c=s.sibling;var o={mode:"hidden",children:n.children};return!(l&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=o,t.deletions=null):(n=er(s,o),n.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=er(c,i):(i=br(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?Al(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Tl,n}return i=e.child,e=i.sibling,n=er(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Io(e,t){return t=ra({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ks(e,t,r,n){return n!==null&&wo(n),on(t,e.child,null,r),e=Io(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Op(e,t,r,n,s,i,l){if(r)return t.flags&256?(t.flags&=-257,n=Ua(Error(E(422))),Ks(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=ra({mode:"visible",children:n.children},s,0,null),i=br(i,s,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&on(t,e.child,null,l),t.child.memoizedState=Al(l),t.memoizedState=Tl,i);if(!(t.mode&1))return Ks(e,t,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var c=n.dgst;return n=c,i=Error(E(419)),n=Ua(i,n,void 0),Ks(e,t,l,n)}if(c=(l&e.childLanes)!==0,Ue||c){if(n=_e,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ot(e,s),ft(n,e,s,-1))}return Mo(),n=Ua(Error(E(421))),Ks(e,t,l,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=qp.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ve=Gt(s.nextSibling),He=t,ce=!0,ct=null,e!==null&&(Ye[Xe++]=St,Ye[Xe++]=Ct,Ye[Xe++]=kr,St=e.id,Ct=e.overflow,kr=t),t=Io(t,n.children),t.flags|=4096,t)}function Xc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),jl(e.return,t,r)}function za(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Sh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ae(e,t,n.children,r),n=ue.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xc(e,r,t);else if(e.tag===19)Xc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(se(ue,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&$i(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),za(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&$i(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}za(t,!0,r,null,i);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function It(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Nr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,r=er(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=er(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ip(e,t,r){switch(t.tag){case 3:jh(t),ln();break;case 5:Xd(t);break;case 1:Fe(t.type)&&Si(t);break;case 4:So(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;se(Pi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(se(ue,ue.current&1),t.flags|=128,null):r&t.child.childLanes?Nh(e,t,r):(se(ue,ue.current&1),e=It(e,t,r),e!==null?e.sibling:null);se(ue,ue.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Sh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),se(ue,ue.current),n)break;return null;case 22:case 23:return t.lanes=0,_h(e,t,r)}return It(e,t,r)}var Ch,$l,Eh,Ph;Ch=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};$l=function(){};Eh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,vr(bt.current);var i=null;switch(r){case"input":s=el(e,s),n=el(e,n),i=[];break;case"select":s=he({},s,{value:void 0}),n=he({},n,{value:void 0}),i=[];break;case"textarea":s=nl(e,s),n=nl(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ji)}il(r,n);var l;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var c=s[u];for(l in c)c.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(es.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var o=n[u];if(c=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&o!==c&&(o!=null||c!=null))if(u==="style")if(c){for(l in c)!c.hasOwnProperty(l)||o&&o.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in o)o.hasOwnProperty(l)&&c[l]!==o[l]&&(r||(r={}),r[l]=o[l])}else r||(i||(i=[]),i.push(u,r)),r=o;else u==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(i=i||[]).push(u,o)):u==="children"?typeof o!="string"&&typeof o!="number"||(i=i||[]).push(u,""+o):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(es.hasOwnProperty(u)?(o!=null&&u==="onScroll"&&ae("scroll",e),i||c===o||(i=[])):(i=i||[]).push(u,o))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Ph=function(e,t,r,n){r!==n&&(t.flags|=4)};function On(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Lp(e,t,r){var n=t.pendingProps;switch(vo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return Fe(t.type)&&Ni(),Ce(t),null;case 3:return n=t.stateNode,cn(),oe(Me),oe(Pe),Eo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Hs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ct!==null&&(Ml(ct),ct=null))),$l(e,t),Ce(t),null;case 5:Co(t);var s=vr(hs.current);if(r=t.type,e!==null&&t.stateNode!=null)Eh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(E(166));return Ce(t),null}if(e=vr(bt.current),Hs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[vt]=t,n[us]=i,e=(t.mode&1)!==0,r){case"dialog":ae("cancel",n),ae("close",n);break;case"iframe":case"object":case"embed":ae("load",n);break;case"video":case"audio":for(s=0;s<zn.length;s++)ae(zn[s],n);break;case"source":ae("error",n);break;case"img":case"image":case"link":ae("error",n),ae("load",n);break;case"details":ae("toggle",n);break;case"input":lc(n,i),ae("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ae("invalid",n);break;case"textarea":cc(n,i),ae("invalid",n)}il(r,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="children"?typeof c=="string"?n.textContent!==c&&(i.suppressHydrationWarning!==!0&&Vs(n.textContent,c,e),s=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Vs(n.textContent,c,e),s=["children",""+c]):es.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&ae("scroll",n)}switch(r){case"input":Rs(n),oc(n,i,!0);break;case"textarea":Rs(n),uc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ji)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[vt]=t,e[us]=n,Ch(e,t,!1,!1),t.stateNode=e;e:{switch(l=al(r,n),r){case"dialog":ae("cancel",e),ae("close",e),s=n;break;case"iframe":case"object":case"embed":ae("load",e),s=n;break;case"video":case"audio":for(s=0;s<zn.length;s++)ae(zn[s],e);s=n;break;case"source":ae("error",e),s=n;break;case"img":case"image":case"link":ae("error",e),ae("load",e),s=n;break;case"details":ae("toggle",e),s=n;break;case"input":lc(e,n),s=el(e,n),ae("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=he({},n,{value:void 0}),ae("invalid",e);break;case"textarea":cc(e,n),s=nl(e,n),ae("invalid",e);break;default:s=n}il(r,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var o=c[i];i==="style"?ad(e,o):i==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&sd(e,o)):i==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&ts(e,o):typeof o=="number"&&ts(e,""+o):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(es.hasOwnProperty(i)?o!=null&&i==="onScroll"&&ae("scroll",e):o!=null&&no(e,i,o,l))}switch(r){case"input":Rs(e),oc(e,n,!1);break;case"textarea":Rs(e),uc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+rr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Gr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Gr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ji)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ce(t),null;case 6:if(e&&t.stateNode!=null)Ph(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(r=vr(hs.current),vr(bt.current),Hs(t)){if(n=t.stateNode,r=t.memoizedProps,n[vt]=t,(i=n.nodeValue!==r)&&(e=He,e!==null))switch(e.tag){case 3:Vs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vt]=t,t.stateNode=n}return Ce(t),null;case 13:if(oe(ue),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&Ve!==null&&t.mode&1&&!(t.flags&128))Kd(),ln(),t.flags|=98560,i=!1;else if(i=Hs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[vt]=t}else ln(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),i=!1}else ct!==null&&(Ml(ct),ct=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?ve===0&&(ve=3):Mo())),t.updateQueue!==null&&(t.flags|=4),Ce(t),null);case 4:return cn(),$l(e,t),e===null&&os(t.stateNode.containerInfo),Ce(t),null;case 10:return ko(t.type._context),Ce(t),null;case 17:return Fe(t.type)&&Ni(),Ce(t),null;case 19:if(oe(ue),i=t.memoizedState,i===null)return Ce(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)On(i,!1);else{if(ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=$i(e),l!==null){for(t.flags|=128,On(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return se(ue,ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&pe()>dn&&(t.flags|=128,n=!0,On(i,!1),t.lanes=4194304)}else{if(!n)if(e=$i(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),On(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ce)return Ce(t),null}else 2*pe()-i.renderingStartTime>dn&&r!==1073741824&&(t.flags|=128,n=!0,On(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pe(),t.sibling=null,r=ue.current,se(ue,n?r&1|2:r&1),t):(Ce(t),null);case 22:case 23:return zo(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?We&1073741824&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function Rp(e,t){switch(vo(t),t.tag){case 1:return Fe(t.type)&&Ni(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cn(),oe(Me),oe(Pe),Eo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Co(t),null;case 13:if(oe(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));ln()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(ue),null;case 4:return cn(),null;case 10:return ko(t.type._context),null;case 22:case 23:return zo(),null;case 24:return null;default:return null}}var Js=!1,Ee=!1,Dp=typeof WeakSet=="function"?WeakSet:Set,I=null;function Jr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){me(e,t,n)}else r.current=null}function Ol(e,t,r){try{r()}catch(n){me(e,t,n)}}var Zc=!1;function Up(e,t){if(gl=bi,e=Id(),yo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,c=-1,o=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(c=l+s),h!==i||n!==0&&h.nodeType!==3||(o=l+n),h.nodeType===3&&(l+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===e)break t;if(m===r&&++u===s&&(c=l),m===i&&++d===n&&(o=l),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}r=c===-1||o===-1?null:{start:c,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(yl={focusedElem:e,selectionRange:r},bi=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,_=x.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:at(t.type,w),_);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(b){me(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return x=Zc,Zc=!1,x}function Kn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ol(t,r,i)}s=s.next}while(s!==n)}}function ea(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Il(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Th(e){var t=e.alternate;t!==null&&(e.alternate=null,Th(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vt],delete t[us],delete t[wl],delete t[wp],delete t[bp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ah(e){return e.tag===5||e.tag===3||e.tag===4}function eu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ah(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ll(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ji));else if(n!==4&&(e=e.child,e!==null))for(Ll(e,t,r),e=e.sibling;e!==null;)Ll(e,t,r),e=e.sibling}function Rl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Rl(e,t,r),e=e.sibling;e!==null;)Rl(e,t,r),e=e.sibling}var ke=null,lt=!1;function Dt(e,t,r){for(r=r.child;r!==null;)$h(e,t,r),r=r.sibling}function $h(e,t,r){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(qi,r)}catch{}switch(r.tag){case 5:Ee||Jr(r,t);case 6:var n=ke,s=lt;ke=null,Dt(e,t,r),ke=n,lt=s,ke!==null&&(lt?(e=ke,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ke.removeChild(r.stateNode));break;case 18:ke!==null&&(lt?(e=ke,r=r.stateNode,e.nodeType===8?$a(e.parentNode,r):e.nodeType===1&&$a(e,r),is(e)):$a(ke,r.stateNode));break;case 4:n=ke,s=lt,ke=r.stateNode.containerInfo,lt=!0,Dt(e,t,r),ke=n,lt=s;break;case 0:case 11:case 14:case 15:if(!Ee&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Ol(r,t,l),s=s.next}while(s!==n)}Dt(e,t,r);break;case 1:if(!Ee&&(Jr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){me(r,t,c)}Dt(e,t,r);break;case 21:Dt(e,t,r);break;case 22:r.mode&1?(Ee=(n=Ee)||r.memoizedState!==null,Dt(e,t,r),Ee=n):Dt(e,t,r);break;default:Dt(e,t,r)}}function tu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Dp),t.forEach(function(n){var s=Kp.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function st(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:ke=c.stateNode,lt=!1;break e;case 3:ke=c.stateNode.containerInfo,lt=!0;break e;case 4:ke=c.stateNode.containerInfo,lt=!0;break e}c=c.return}if(ke===null)throw Error(E(160));$h(i,l,s),ke=null,lt=!1;var o=s.alternate;o!==null&&(o.return=null),s.return=null}catch(u){me(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Oh(t,e),t=t.sibling}function Oh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(st(t,e),yt(e),n&4){try{Kn(3,e,e.return),ea(3,e)}catch(w){me(e,e.return,w)}try{Kn(5,e,e.return)}catch(w){me(e,e.return,w)}}break;case 1:st(t,e),yt(e),n&512&&r!==null&&Jr(r,r.return);break;case 5:if(st(t,e),yt(e),n&512&&r!==null&&Jr(r,r.return),e.flags&32){var s=e.stateNode;try{ts(s,"")}catch(w){me(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&td(s,i),al(c,l);var u=al(c,i);for(l=0;l<o.length;l+=2){var d=o[l],h=o[l+1];d==="style"?ad(s,h):d==="dangerouslySetInnerHTML"?sd(s,h):d==="children"?ts(s,h):no(s,d,h,u)}switch(c){case"input":tl(s,i);break;case"textarea":rd(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Gr(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Gr(s,!!i.multiple,i.defaultValue,!0):Gr(s,!!i.multiple,i.multiple?[]:"",!1))}s[us]=i}catch(w){me(e,e.return,w)}}break;case 6:if(st(t,e),yt(e),n&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){me(e,e.return,w)}}break;case 3:if(st(t,e),yt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{is(t.containerInfo)}catch(w){me(e,e.return,w)}break;case 4:st(t,e),yt(e);break;case 13:st(t,e),yt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Do=pe())),n&4&&tu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ee=(u=Ee)||d,st(t,e),Ee=u):st(t,e),yt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(I=e,d=e.child;d!==null;){for(h=I=d;I!==null;){switch(m=I,y=m.child,m.tag){case 0:case 11:case 14:case 15:Kn(4,m,m.return);break;case 1:Jr(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){me(n,r,w)}}break;case 5:Jr(m,m.return);break;case 22:if(m.memoizedState!==null){nu(h);continue}}y!==null?(y.return=m,I=y):nu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=h.stateNode,o=h.memoizedProps.style,l=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=id("display",l))}catch(w){me(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){me(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:st(t,e),yt(e),n&4&&tu(e);break;case 21:break;default:st(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ah(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ts(s,""),n.flags&=-33);var i=eu(e);Rl(e,i,s);break;case 3:case 4:var l=n.stateNode.containerInfo,c=eu(e);Ll(e,c,l);break;default:throw Error(E(161))}}catch(o){me(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zp(e,t,r){I=e,Ih(e)}function Ih(e,t,r){for(var n=(e.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||Js;if(!l){var c=s.alternate,o=c!==null&&c.memoizedState!==null||Ee;c=Js;var u=Ee;if(Js=l,(Ee=o)&&!u)for(I=s;I!==null;)l=I,o=l.child,l.tag===22&&l.memoizedState!==null?su(s):o!==null?(o.return=l,I=o):su(s);for(;i!==null;)I=i,Ih(i),i=i.sibling;I=s,Js=c,Ee=u}ru(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):ru(e)}}function ru(e){for(;I!==null;){var t=I;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ee||ea(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ee)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:at(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Mc(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Mc(t,l,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&is(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Ee||t.flags&512&&Il(t)}catch(m){me(t,t.return,m)}}if(t===e){I=null;break}if(r=t.sibling,r!==null){r.return=t.return,I=r;break}I=t.return}}function nu(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var r=t.sibling;if(r!==null){r.return=t.return,I=r;break}I=t.return}}function su(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ea(4,t)}catch(o){me(t,r,o)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(o){me(t,s,o)}}var i=t.return;try{Il(t)}catch(o){me(t,i,o)}break;case 5:var l=t.return;try{Il(t)}catch(o){me(t,l,o)}}}catch(o){me(t,t.return,o)}if(t===e){I=null;break}var c=t.sibling;if(c!==null){c.return=t.return,I=c;break}I=t.return}}var Mp=Math.ceil,Li=Rt.ReactCurrentDispatcher,Lo=Rt.ReactCurrentOwner,et=Rt.ReactCurrentBatchConfig,Y=0,_e=null,ge=null,je=0,We=0,Qr=ir(0),ve=0,gs=null,Nr=0,ta=0,Ro=0,Jn=null,Re=null,Do=0,dn=1/0,kt=null,Ri=!1,Dl=null,Xt=null,Qs=!1,qt=null,Di=0,Qn=0,Ul=null,fi=-1,mi=0;function $e(){return Y&6?pe():fi!==-1?fi:fi=pe()}function Zt(e){return e.mode&1?Y&2&&je!==0?je&-je:kp.transition!==null?(mi===0&&(mi=xd()),mi):(e=Z,e!==0||(e=window.event,e=e===void 0?16:Nd(e.type)),e):1}function ft(e,t,r,n){if(50<Qn)throw Qn=0,Ul=null,Error(E(185));_s(e,r,n),(!(Y&2)||e!==_e)&&(e===_e&&(!(Y&2)&&(ta|=r),ve===4&&Wt(e,je)),Be(e,n),r===1&&Y===0&&!(t.mode&1)&&(dn=pe()+500,Yi&&ar()))}function Be(e,t){var r=e.callbackNode;km(e,t);var n=wi(e,e===_e?je:0);if(n===0)r!==null&&fc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&fc(r),t===1)e.tag===0?_p(iu.bind(null,e)):Vd(iu.bind(null,e)),xp(function(){!(Y&6)&&ar()}),r=null;else{switch(vd(n)){case 1:r=oo;break;case 4:r=gd;break;case 16:r=vi;break;case 536870912:r=yd;break;default:r=vi}r=Bh(r,Lh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Lh(e,t){if(fi=-1,mi=0,Y&6)throw Error(E(327));var r=e.callbackNode;if(tn()&&e.callbackNode!==r)return null;var n=wi(e,e===_e?je:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ui(e,n);else{t=n;var s=Y;Y|=2;var i=Dh();(_e!==e||je!==t)&&(kt=null,dn=pe()+500,wr(e,t));do try{Wp();break}catch(c){Rh(e,c)}while(!0);_o(),Li.current=i,Y=s,ge!==null?t=0:(_e=null,je=0,t=ve)}if(t!==0){if(t===2&&(s=dl(e),s!==0&&(n=s,t=zl(e,s))),t===1)throw r=gs,wr(e,0),Wt(e,n),Be(e,pe()),r;if(t===6)Wt(e,n);else{if(s=e.current.alternate,!(n&30)&&!Fp(s)&&(t=Ui(e,n),t===2&&(i=dl(e),i!==0&&(n=i,t=zl(e,i))),t===1))throw r=gs,wr(e,0),Wt(e,n),Be(e,pe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(E(345));case 2:mr(e,Re,kt);break;case 3:if(Wt(e,n),(n&130023424)===n&&(t=Do+500-pe(),10<t)){if(wi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){$e(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=vl(mr.bind(null,e,Re,kt),t);break}mr(e,Re,kt);break;case 4:if(Wt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var l=31-ht(n);i=1<<l,l=t[l],l>s&&(s=l),n&=~i}if(n=s,n=pe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Mp(n/1960))-n,10<n){e.timeoutHandle=vl(mr.bind(null,e,Re,kt),n);break}mr(e,Re,kt);break;case 5:mr(e,Re,kt);break;default:throw Error(E(329))}}}return Be(e,pe()),e.callbackNode===r?Lh.bind(null,e):null}function zl(e,t){var r=Jn;return e.current.memoizedState.isDehydrated&&(wr(e,t).flags|=256),e=Ui(e,t),e!==2&&(t=Re,Re=r,t!==null&&Ml(t)),e}function Ml(e){Re===null?Re=e:Re.push.apply(Re,e)}function Fp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!pt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wt(e,t){for(t&=~Ro,t&=~ta,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ht(t),n=1<<r;e[r]=-1,t&=~n}}function iu(e){if(Y&6)throw Error(E(327));tn();var t=wi(e,0);if(!(t&1))return Be(e,pe()),null;var r=Ui(e,t);if(e.tag!==0&&r===2){var n=dl(e);n!==0&&(t=n,r=zl(e,n))}if(r===1)throw r=gs,wr(e,0),Wt(e,t),Be(e,pe()),r;if(r===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mr(e,Re,kt),Be(e,pe()),null}function Uo(e,t){var r=Y;Y|=1;try{return e(t)}finally{Y=r,Y===0&&(dn=pe()+500,Yi&&ar())}}function Sr(e){qt!==null&&qt.tag===0&&!(Y&6)&&tn();var t=Y;Y|=1;var r=et.transition,n=Z;try{if(et.transition=null,Z=1,e)return e()}finally{Z=n,et.transition=r,Y=t,!(Y&6)&&ar()}}function zo(){We=Qr.current,oe(Qr)}function wr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,yp(r)),ge!==null)for(r=ge.return;r!==null;){var n=r;switch(vo(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ni();break;case 3:cn(),oe(Me),oe(Pe),Eo();break;case 5:Co(n);break;case 4:cn();break;case 13:oe(ue);break;case 19:oe(ue);break;case 10:ko(n.type._context);break;case 22:case 23:zo()}r=r.return}if(_e=e,ge=e=er(e.current,null),je=We=t,ve=0,gs=null,Ro=ta=Nr=0,Re=Jn=null,xr!==null){for(t=0;t<xr.length;t++)if(r=xr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=s,n.next=l}r.pending=n}xr=null}return e}function Rh(e,t){do{var r=ge;try{if(_o(),ui.current=Ii,Oi){for(var n=de.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Oi=!1}if(jr=0,be=xe=de=null,qn=!1,fs=0,Lo.current=null,r===null||r.return===null){ve=1,gs=t,ge=null;break}e:{var i=e,l=r.return,c=r,o=t;if(t=je,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=o,d=c,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=qc(l);if(y!==null){y.flags&=-257,Kc(y,l,c,i,t),y.mode&1&&Hc(i,u,t),t=y,o=u;var x=t.updateQueue;if(x===null){var w=new Set;w.add(o),t.updateQueue=w}else x.add(o);break e}else{if(!(t&1)){Hc(i,u,t),Mo();break e}o=Error(E(426))}}else if(ce&&c.mode&1){var _=qc(l);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Kc(_,l,c,i,t),wo(un(o,c));break e}}i=o=un(o,c),ve!==4&&(ve=2),Jn===null?Jn=[i]:Jn.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=vh(i,o,t);zc(i,g);break e;case 1:c=o;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Xt===null||!Xt.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=wh(i,c,t);zc(i,b);break e}}i=i.return}while(i!==null)}zh(r)}catch(v){t=v,ge===r&&r!==null&&(ge=r=r.return);continue}break}while(!0)}function Dh(){var e=Li.current;return Li.current=Ii,e===null?Ii:e}function Mo(){(ve===0||ve===3||ve===2)&&(ve=4),_e===null||!(Nr&268435455)&&!(ta&268435455)||Wt(_e,je)}function Ui(e,t){var r=Y;Y|=2;var n=Dh();(_e!==e||je!==t)&&(kt=null,wr(e,t));do try{Bp();break}catch(s){Rh(e,s)}while(!0);if(_o(),Y=r,Li.current=n,ge!==null)throw Error(E(261));return _e=null,je=0,ve}function Bp(){for(;ge!==null;)Uh(ge)}function Wp(){for(;ge!==null&&!mm();)Uh(ge)}function Uh(e){var t=Fh(e.alternate,e,We);e.memoizedProps=e.pendingProps,t===null?zh(e):ge=t,Lo.current=null}function zh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Rp(r,t),r!==null){r.flags&=32767,ge=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ve=6,ge=null;return}}else if(r=Lp(r,t,We),r!==null){ge=r;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);ve===0&&(ve=5)}function mr(e,t,r){var n=Z,s=et.transition;try{et.transition=null,Z=1,Vp(e,t,r,n)}finally{et.transition=s,Z=n}return null}function Vp(e,t,r,n){do tn();while(qt!==null);if(Y&6)throw Error(E(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(jm(e,i),e===_e&&(ge=_e=null,je=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Qs||(Qs=!0,Bh(vi,function(){return tn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=et.transition,et.transition=null;var l=Z;Z=1;var c=Y;Y|=4,Lo.current=null,Up(e,r),Oh(r,e),up(yl),bi=!!gl,yl=gl=null,e.current=r,zp(r),pm(),Y=c,Z=l,et.transition=i}else e.current=r;if(Qs&&(Qs=!1,qt=e,Di=s),i=e.pendingLanes,i===0&&(Xt=null),xm(r.stateNode),Be(e,pe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ri)throw Ri=!1,e=Dl,Dl=null,e;return Di&1&&e.tag!==0&&tn(),i=e.pendingLanes,i&1?e===Ul?Qn++:(Qn=0,Ul=e):Qn=0,ar(),null}function tn(){if(qt!==null){var e=vd(Di),t=et.transition,r=Z;try{if(et.transition=null,Z=16>e?16:e,qt===null)var n=!1;else{if(e=qt,qt=null,Di=0,Y&6)throw Error(E(331));var s=Y;for(Y|=4,I=e.current;I!==null;){var i=I,l=i.child;if(I.flags&16){var c=i.deletions;if(c!==null){for(var o=0;o<c.length;o++){var u=c[o];for(I=u;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:Kn(8,d,i)}var h=d.child;if(h!==null)h.return=d,I=h;else for(;I!==null;){d=I;var m=d.sibling,y=d.return;if(Th(d),d===u){I=null;break}if(m!==null){m.return=y,I=m;break}I=y}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}I=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,I=l;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,I=g;break e}I=i.return}}var f=e.current;for(I=f;I!==null;){l=I;var p=l.child;if(l.subtreeFlags&2064&&p!==null)p.return=l,I=p;else e:for(l=f;I!==null;){if(c=I,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:ea(9,c)}}catch(v){me(c,c.return,v)}if(c===l){I=null;break e}var b=c.sibling;if(b!==null){b.return=c.return,I=b;break e}I=c.return}}if(Y=s,ar(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(qi,e)}catch{}n=!0}return n}finally{Z=r,et.transition=t}}return!1}function au(e,t,r){t=un(r,t),t=vh(e,t,1),e=Yt(e,t,1),t=$e(),e!==null&&(_s(e,1,t),Be(e,t))}function me(e,t,r){if(e.tag===3)au(e,e,r);else for(;t!==null;){if(t.tag===3){au(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xt===null||!Xt.has(n))){e=un(r,e),e=wh(t,e,1),t=Yt(t,e,1),e=$e(),t!==null&&(_s(t,1,e),Be(t,e));break}}t=t.return}}function Hp(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&r,_e===e&&(je&r)===r&&(ve===4||ve===3&&(je&130023424)===je&&500>pe()-Do?wr(e,0):Ro|=r),Be(e,t)}function Mh(e,t){t===0&&(e.mode&1?(t=zs,zs<<=1,!(zs&130023424)&&(zs=4194304)):t=1);var r=$e();e=Ot(e,t),e!==null&&(_s(e,t,r),Be(e,r))}function qp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Mh(e,r)}function Kp(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(t),Mh(e,r)}var Fh;Fh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Me.current)Ue=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ue=!1,Ip(e,t,r);Ue=!!(e.flags&131072)}else Ue=!1,ce&&t.flags&1048576&&Hd(t,Ei,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;hi(e,t),e=t.pendingProps;var s=an(t,Pe.current);en(t,r),s=To(null,t,n,e,s,r);var i=Ao();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(n)?(i=!0,Si(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,No(t),s.updater=Zi,t.stateNode=s,s._reactInternals=t,Sl(t,n,e,r),t=Pl(null,t,n,!0,i,r)):(t.tag=0,ce&&i&&xo(t),Ae(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(hi(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Qp(n),e=at(n,e),s){case 0:t=El(null,t,n,e,r);break e;case 1:t=Gc(null,t,n,e,r);break e;case 11:t=Jc(null,t,n,e,r);break e;case 14:t=Qc(null,t,n,at(n.type,e),r);break e}throw Error(E(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),El(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),Gc(e,t,n,s,r);case 3:e:{if(jh(t),e===null)throw Error(E(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Yd(e,t),Ai(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=un(Error(E(423)),t),t=Yc(e,t,n,r,s);break e}else if(n!==s){s=un(Error(E(424)),t),t=Yc(e,t,n,r,s);break e}else for(Ve=Gt(t.stateNode.containerInfo.firstChild),He=t,ce=!0,ct=null,r=Qd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ln(),n===s){t=It(e,t,r);break e}Ae(e,t,n,r)}t=t.child}return t;case 5:return Xd(t),e===null&&kl(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,xl(n,s)?l=null:i!==null&&xl(n,i)&&(t.flags|=32),kh(e,t),Ae(e,t,l,r),t.child;case 6:return e===null&&kl(t),null;case 13:return Nh(e,t,r);case 4:return So(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=on(t,null,n,r):Ae(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),Jc(e,t,n,s,r);case 7:return Ae(e,t,t.pendingProps,r),t.child;case 8:return Ae(e,t,t.pendingProps.children,r),t.child;case 12:return Ae(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,se(Pi,n._currentValue),n._currentValue=l,i!==null)if(pt(i.value,l)){if(i.children===s.children&&!Me.current){t=It(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){l=i.child;for(var o=c.firstContext;o!==null;){if(o.context===n){if(i.tag===1){o=Pt(-1,r&-r),o.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?o.next=o:(o.next=d.next,d.next=o),u.pending=o}}i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),jl(i.return,r,t),c.lanes|=r;break}o=o.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(E(341));l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),jl(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ae(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,en(t,r),s=rt(s),n=n(s),t.flags|=1,Ae(e,t,n,r),t.child;case 14:return n=t.type,s=at(n,t.pendingProps),s=at(n.type,s),Qc(e,t,n,s,r);case 15:return bh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),hi(e,t),t.tag=1,Fe(n)?(e=!0,Si(t)):e=!1,en(t,r),xh(t,n,s),Sl(t,n,s,r),Pl(null,t,n,!0,e,r);case 19:return Sh(e,t,r);case 22:return _h(e,t,r)}throw Error(E(156,t.tag))};function Bh(e,t){return pd(e,t)}function Jp(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(e,t,r,n){return new Jp(e,t,r,n)}function Fo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qp(e){if(typeof e=="function")return Fo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===io)return 11;if(e===ao)return 14}return 2}function er(e,t){var r=e.alternate;return r===null?(r=Ze(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function pi(e,t,r,n,s,i){var l=2;if(n=e,typeof e=="function")Fo(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case zr:return br(r.children,s,i,t);case so:l=8,s|=8;break;case Ga:return e=Ze(12,r,t,s|2),e.elementType=Ga,e.lanes=i,e;case Ya:return e=Ze(13,r,t,s),e.elementType=Ya,e.lanes=i,e;case Xa:return e=Ze(19,r,t,s),e.elementType=Xa,e.lanes=i,e;case Xu:return ra(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gu:l=10;break e;case Yu:l=9;break e;case io:l=11;break e;case ao:l=14;break e;case zt:l=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=Ze(l,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function br(e,t,r,n){return e=Ze(7,e,n,t),e.lanes=r,e}function ra(e,t,r,n){return e=Ze(22,e,n,t),e.elementType=Xu,e.lanes=r,e.stateNode={isHidden:!1},e}function Ma(e,t,r){return e=Ze(6,e,null,t),e.lanes=r,e}function Fa(e,t,r){return t=Ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gp(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ba(0),this.expirationTimes=ba(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bo(e,t,r,n,s,i,l,c,o){return e=new Gp(e,t,r,c,o),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ze(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(i),e}function Yp(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ur,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Wh(e){if(!e)return nr;e=e._reactInternals;e:{if(Er(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var r=e.type;if(Fe(r))return Wd(e,r,t)}return t}function Vh(e,t,r,n,s,i,l,c,o){return e=Bo(r,n,!0,e,s,i,l,c,o),e.context=Wh(null),r=e.current,n=$e(),s=Zt(r),i=Pt(n,s),i.callback=t??null,Yt(r,i,s),e.current.lanes=s,_s(e,s,n),Be(e,n),e}function na(e,t,r,n){var s=t.current,i=$e(),l=Zt(s);return r=Wh(r),t.context===null?t.context=r:t.pendingContext=r,t=Pt(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Yt(s,t,l),e!==null&&(ft(e,s,l,i),ci(e,s,l)),l}function zi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Wo(e,t){lu(e,t),(e=e.alternate)&&lu(e,t)}function Xp(){return null}var Hh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vo(e){this._internalRoot=e}sa.prototype.render=Vo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));na(e,t,null,null)};sa.prototype.unmount=Vo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sr(function(){na(null,e,null,null)}),t[$t]=null}};function sa(e){this._internalRoot=e}sa.prototype.unstable_scheduleHydration=function(e){if(e){var t=_d();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Bt.length&&t!==0&&t<Bt[r].priority;r++);Bt.splice(r,0,e),r===0&&jd(e)}};function Ho(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ia(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ou(){}function Zp(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=zi(l);i.call(u)}}var l=Vh(t,n,e,0,null,!1,!1,"",ou);return e._reactRootContainer=l,e[$t]=l.current,os(e.nodeType===8?e.parentNode:e),Sr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var c=n;n=function(){var u=zi(o);c.call(u)}}var o=Bo(e,0,!1,null,null,!1,!1,"",ou);return e._reactRootContainer=o,e[$t]=o.current,os(e.nodeType===8?e.parentNode:e),Sr(function(){na(t,o,r,n)}),o}function aa(e,t,r,n,s){var i=r._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var c=s;s=function(){var o=zi(l);c.call(o)}}na(t,l,e,s)}else l=Zp(r,t,e,s,n);return zi(l)}wd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Un(t.pendingLanes);r!==0&&(co(t,r|1),Be(t,pe()),!(Y&6)&&(dn=pe()+500,ar()))}break;case 13:Sr(function(){var n=Ot(e,1);if(n!==null){var s=$e();ft(n,e,1,s)}}),Wo(e,1)}};uo=function(e){if(e.tag===13){var t=Ot(e,134217728);if(t!==null){var r=$e();ft(t,e,134217728,r)}Wo(e,134217728)}};bd=function(e){if(e.tag===13){var t=Zt(e),r=Ot(e,t);if(r!==null){var n=$e();ft(r,e,t,n)}Wo(e,t)}};_d=function(){return Z};kd=function(e,t){var r=Z;try{return Z=e,t()}finally{Z=r}};ol=function(e,t,r){switch(t){case"input":if(tl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Gi(n);if(!s)throw Error(E(90));ed(n),tl(n,s)}}}break;case"textarea":rd(e,r);break;case"select":t=r.value,t!=null&&Gr(e,!!r.multiple,t,!1)}};cd=Uo;ud=Sr;var e0={usingClientEntryPoint:!1,Events:[js,Wr,Gi,ld,od,Uo]},In={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t0={bundleType:In.bundleType,version:In.version,rendererPackageName:In.rendererPackageName,rendererConfig:In.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fd(e),e===null?null:e.stateNode},findFiberByHostInstance:In.findFiberByHostInstance||Xp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gs.isDisabled&&Gs.supportsFiber)try{qi=Gs.inject(t0),wt=Gs}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e0;Ke.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ho(t))throw Error(E(200));return Yp(e,t,null,r)};Ke.createRoot=function(e,t){if(!Ho(e))throw Error(E(299));var r=!1,n="",s=Hh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bo(e,1,!1,null,null,r,!1,n,s),e[$t]=t.current,os(e.nodeType===8?e.parentNode:e),new Vo(t)};Ke.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=fd(t),e=e===null?null:e.stateNode,e};Ke.flushSync=function(e){return Sr(e)};Ke.hydrate=function(e,t,r){if(!ia(t))throw Error(E(200));return aa(null,e,t,!0,r)};Ke.hydrateRoot=function(e,t,r){if(!Ho(e))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",l=Hh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Vh(t,null,e,1,r??null,s,!1,i,l),e[$t]=t.current,os(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new sa(t)};Ke.render=function(e,t,r){if(!ia(t))throw Error(E(200));return aa(null,e,t,!1,r)};Ke.unmountComponentAtNode=function(e){if(!ia(e))throw Error(E(40));return e._reactRootContainer?(Sr(function(){aa(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1};Ke.unstable_batchedUpdates=Uo;Ke.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ia(r))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return aa(e,t,r,!1,n)};Ke.version="18.3.1-next-f1338f8080-20240426";function qh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qh)}catch(e){console.error(e)}}qh(),qu.exports=Ke;var r0=qu.exports,Kh,cu=r0;Kh=cu.createRoot,cu.hydrateRoot;const n0="modulepreload",s0=function(e){return"/"+e},uu={},Ss=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(o=>{if(o=s0(o),o in uu)return;uu[o]=!0;const u=o.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":n0,u||(h.as="script"),h.crossOrigin="",h.href=o,c&&h.setAttribute("nonce",c),document.head.appendChild(h),u)return new Promise((m,y)=>{h.addEventListener("load",m),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${o}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})},i0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>bn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class qo extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class a0 extends qo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class l0 extends qo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class o0 extends qo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Fl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Fl||(Fl={}));var c0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};class u0{constructor(t,{headers:r={},customFetch:n,region:s=Fl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=i0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return c0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:l}=r;let c={},{region:o}=r;o||(o=this.region),o&&o!=="any"&&(c["x-region"]=o);let u;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=l):typeof l=="string"?(c["Content-Type"]="text/plain",u=l):typeof FormData<"u"&&l instanceof FormData?u=l:(c["Content-Type"]="application/json",u=JSON.stringify(l)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:u}).catch(x=>{throw new a0(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new l0(d);if(!d.ok)throw new o0(d);let m=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield d.json():m==="application/octet-stream"?y=yield d.blob():m==="text/event-stream"?y=d:m==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var De={},Ko={},la={},Cs={},oa={},ca={},d0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hn=d0();const h0=hn.fetch,Jh=hn.fetch.bind(hn),Qh=hn.Headers,f0=hn.Request,m0=hn.Response,bn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Qh,Request:f0,Response:m0,default:Jh,fetch:h0},Symbol.toStringTag,{value:"Module"})),p0=Tf(bn);var ua={};Object.defineProperty(ua,"__esModule",{value:!0});let g0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ua.default=g0;var Gh=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ca,"__esModule",{value:!0});const y0=Gh(p0),x0=Gh(ua);let v0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=y0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,c,o;let u=null,d=null,h=null,m=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const w=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),_=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&_&&_.length>1&&(h=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,y="OK")}catch{i.status===404&&w===""?(m=204,y="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((o=u==null?void 0:u.details)===null||o===void 0)&&o.includes("0 rows"))&&(u=null,m=200,y="OK"),u&&this.shouldThrowOnError)throw new x0.default(u)}return{error:u,data:d,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var l,c,o;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(c=i==null?void 0:i.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(o=i==null?void 0:i.code)!==null&&o!==void 0?o:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};ca.default=v0;var w0=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oa,"__esModule",{value:!0});const b0=w0(ca);let _0=class extends b0.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const l=i?`${i}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:l="text"}={}){var c;const o=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${u}"; options=${o};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};oa.default=_0;var k0=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cs,"__esModule",{value:!0});const j0=k0(oa);let N0=class extends j0.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Cs.default=N0;var S0=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(la,"__esModule",{value:!0});const Ln=S0(Cs);let C0=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new Ln.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const l=t.reduce((c,o)=>c.concat(Object.keys(o)),[]);if(l.length>0){const c=[...new Set(l)].map(o=>`"${o}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ln.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const l="POST",c=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),i||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const o=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(o.length>0){const u=[...new Set(o)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ln.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Ln.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ln.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};la.default=C0;var da={},ha={};Object.defineProperty(ha,"__esModule",{value:!0});ha.version=void 0;ha.version="0.0.0-automated";Object.defineProperty(da,"__esModule",{value:!0});da.DEFAULT_HEADERS=void 0;const E0=ha;da.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${E0.version}`};var Yh=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ko,"__esModule",{value:!0});const P0=Yh(la),T0=Yh(Cs),A0=da;let $0=class Xh{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},A0.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new P0.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Xh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let l;const c=new URL(`${this.url}/rpc/${t}`);let o;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(l="POST",o=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new T0.default({method:l,url:c,headers:u,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}};Ko.default=$0;var _n=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(De,"__esModule",{value:!0});De.PostgrestError=De.PostgrestBuilder=De.PostgrestTransformBuilder=De.PostgrestFilterBuilder=De.PostgrestQueryBuilder=De.PostgrestClient=void 0;const Zh=_n(Ko);De.PostgrestClient=Zh.default;const ef=_n(la);De.PostgrestQueryBuilder=ef.default;const tf=_n(Cs);De.PostgrestFilterBuilder=tf.default;const rf=_n(oa);De.PostgrestTransformBuilder=rf.default;const nf=_n(ca);De.PostgrestBuilder=nf.default;const sf=_n(ua);De.PostgrestError=sf.default;var O0=De.default={PostgrestClient:Zh.default,PostgrestQueryBuilder:ef.default,PostgrestFilterBuilder:tf.default,PostgrestTransformBuilder:rf.default,PostgrestBuilder:nf.default,PostgrestError:sf.default};const{PostgrestClient:I0,PostgrestQueryBuilder:Qy,PostgrestFilterBuilder:Gy,PostgrestTransformBuilder:Yy,PostgrestBuilder:Xy,PostgrestError:Zy}=O0;let Bl;typeof window>"u"?Bl=require("ws"):Bl=window.WebSocket;const L0=Bl,R0="2.11.10",D0={"X-Client-Info":`realtime-js/${R0}`},U0="1.0.0",af=1e4,z0=1e3;var rn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(rn||(rn={}));var Te;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Te||(Te={}));var ot;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ot||(ot={}));var Wl;(function(e){e.websocket="websocket"})(Wl||(Wl={}));var gr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(gr||(gr={}));class M0{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const c=n.decode(t.slice(l,l+s));l=l+s;const o=n.decode(t.slice(l,l+i));l=l+i;const u=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:c,event:o,payload:u}}}class lf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ne||(ne={}));const du=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,l)=>(i[l]=F0(l,e,t,s),i),{})},F0=(e,t,r,n)=>{const s=t.find(c=>c.name===e),i=s==null?void 0:s.type,l=r[e];return i&&!n.includes(i)?of(i,l):Vl(l)},of=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return H0(t,r)}switch(e){case ne.bool:return B0(t);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return W0(t);case ne.json:case ne.jsonb:return V0(t);case ne.timestamp:return q0(t);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return Vl(t);default:return Vl(t)}},Vl=e=>e,B0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},W0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},V0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},H0=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(c=>of(t,c))}return e},q0=e=>typeof e=="string"?e.replace(" ","T"):e,cf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ba{constructor(t,r,n={},s=af){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var hu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(hu||(hu={}));class Gn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gn.syncState(this.state,s,i,l),this.pendingDiffs.forEach(o=>{this.state=Gn.syncDiff(this.state,o,i,l)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Gn.syncDiff(this.state,s,i,l),c())}),this.onJoin((s,i,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:l})}),this.onLeave((s,i,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),l=this.transformState(r),c={},o={};return this.map(i,(u,d)=>{l[u]||(o[u]=d)}),this.map(l,(u,d)=>{const h=i[u];if(h){const m=d.map(_=>_.presence_ref),y=h.map(_=>_.presence_ref),x=d.filter(_=>y.indexOf(_.presence_ref)<0),w=h.filter(_=>m.indexOf(_.presence_ref)<0);x.length>0&&(c[u]=x),w.length>0&&(o[u]=w)}else c[u]=d}),this.syncDiff(i,{joins:c,leaves:o},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(c,o)=>{var u;const d=(u=t[c])!==null&&u!==void 0?u:[];if(t[c]=this.cloneDeep(o),d.length>0){const h=t[c].map(y=>y.presence_ref),m=d.filter(y=>h.indexOf(y.presence_ref)<0);t[c].unshift(...m)}n(c,d,o)}),this.map(l,(c,o)=>{let u=t[c];if(!u)return;const d=o.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[c]=u,s(c,u,o),u.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(fu||(fu={}));var mu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(mu||(mu={}));var jt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(jt||(jt={}));class Jo{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Te.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ba(this,ot.join,this.params,this.timeout),this.rejoinTimer=new lf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Te.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Te.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ot.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Gn(this),this.broadcastEndpointURL=cf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:l,private:c}}=this.params;this._onError(d=>t==null?void 0:t(jt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(jt.CLOSED));const o={},u={broadcast:i,presence:l,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:c};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},o)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(jt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,x=[];for(let w=0;w<y;w++){const _=m[w],{filter:{event:g,schema:f,table:p,filter:b}}=_,v=d&&d[w];if(v&&v.event===g&&v.schema===f&&v.table===p&&v.filter===b)x.push(Object.assign(Object.assign({},_),{id:v.id}));else{this.unsubscribe(),this.state=Te.errored,t==null||t(jt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(jt.SUBSCRIBED);return}}).receive("error",d=>{this.state=Te.errored,t==null||t(jt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(jt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:l}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,c,o;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||o===void 0)&&o.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Te.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ot.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new Ba(this,ot.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ba(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const l=t.toLocaleLowerCase(),{close:c,error:o,leave:u,join:d}=ot;if(n&&[c,o,u,d].indexOf(l)>=0&&n!==this._joinRef())return;let m=this._onMessage(l,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var x,w,_;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(w=y.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(y=>y.callback(m,n)):(i=this.bindings[l])===null||i===void 0||i.filter(y=>{var x,w,_,g,f,p;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const b=y.id,v=(x=y.filter)===null||x===void 0?void 0:x.event;return b&&((w=r.ids)===null||w===void 0?void 0:w.includes(b))&&(v==="*"||(v==null?void 0:v.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const b=(f=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return b==="*"||b===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:w,table:_,commit_timestamp:g,type:f,errors:p}=x;m=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:g,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(x))}y.callback(m,n)})}_isClosed(){return this.state===Te.closed}_isJoined(){return this.state===Te.joined}_isJoining(){return this.state===Te.joining}_isLeaving(){return this.state===Te.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Jo.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ot.close,{},t)}_onError(t){this._on(ot.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Te.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=du(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=du(t.columns,t.old_record)),r}}const pu=()=>{},K0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class J0{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=D0,this.params={},this.timeout=af,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pu,this.ref=0,this.logger=pu,this.conn=null,this.sendBuffer=[],this.serializer=new M0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...c)=>Ss(async()=>{const{default:o}=await Promise.resolve().then(()=>bn);return{default:o}},void 0).then(({default:o})=>o(...c)):l=fetch,(...c)=>l(...c)},this.endPoint=`${t}/${Wl.websocket}`,this.httpEndpoint=cf(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,l)=>l(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new lf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=L0),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Q0(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:U0}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case rn.connecting:return gr.Connecting;case rn.open:return gr.Open;case rn.closing:return gr.Closing;default:return gr.Closed}}isConnected(){return this.connectionState()===gr.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Jo(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,l=()=>{this.encode(t,c=>{var o;(o=this.conn)===null||o===void 0||o.send(c)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(ot.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(z0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:l}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${l&&"("+l+")"||""}`,i),Array.from(this.channels).filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,l)),this.stateChangeCallbacks.message.forEach(c=>c(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ot.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([K0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Q0{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=rn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Qo extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function we(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class G0 extends Qo{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Hl extends Qo{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Y0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const uf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>bn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},X0=()=>Y0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ss(()=>Promise.resolve().then(()=>bn),void 0)).Response:Response}),ql=e=>{if(Array.isArray(e))return e.map(r=>ql(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=ql(n)}),t};var Pr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const Wa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Z0=(e,t,r)=>Pr(void 0,void 0,void 0,function*(){const n=yield X0();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new G0(Wa(s),e.status||500))}).catch(s=>{t(new Hl(Wa(s),s))}):t(new Hl(Wa(e),e))}),eg=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Es(e,t,r,n,s,i){return Pr(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(r,eg(t,n,s,i)).then(o=>{if(!o.ok)throw o;return n!=null&&n.noResolveJson?o:o.json()}).then(o=>l(o)).catch(o=>Z0(o,c,n))})})}function Mi(e,t,r,n){return Pr(this,void 0,void 0,function*(){return Es(e,"GET",t,r,n)})}function Ft(e,t,r,n,s){return Pr(this,void 0,void 0,function*(){return Es(e,"POST",t,n,s,r)})}function tg(e,t,r,n,s){return Pr(this,void 0,void 0,function*(){return Es(e,"PUT",t,n,s,r)})}function rg(e,t,r,n){return Pr(this,void 0,void 0,function*(){return Es(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function df(e,t,r,n,s){return Pr(this,void 0,void 0,function*(){return Es(e,"DELETE",t,n,s,r)})}var Le=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const ng={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sg{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=uf(s)}uploadOrUpdate(t,r,n,s){return Le(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},gu),s);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const o=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),o&&i.append("metadata",this.encodeMetadata(o)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl),o&&i.append("metadata",this.encodeMetadata(o))):(i=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,o&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{})),m=yield h.json();return h.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(we(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Le(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",r);try{let o;const u=Object.assign({upsert:gu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",u.cacheControl)):(o=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(c.toString(),{method:"PUT",body:o,headers:d}),m=yield h.json();return h.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(o){if(we(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,r){return Le(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ft(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+i.url),c=l.searchParams.get("token");if(!c)throw new Qo("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}update(t,r,n){return Le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Le(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Le(this,void 0,void 0,function*(){try{return{data:{path:(yield Ft(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Le(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ft(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Le(this,void 0,void 0,function*(){try{const s=yield Ft(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}download(t,r){return Le(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield Mi(this.fetch,`${this.url}/${s}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(we(c))return{data:null,error:c};throw c}})}info(t){return Le(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Mi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ql(n),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}exists(t){return Le(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield rg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(we(n)&&n instanceof Hl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});o!==""&&s.push(o);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${u}`)}}}remove(t){return Le(this,void 0,void 0,function*(){try{return{data:yield df(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}list(t,r,n){return Le(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ng),r),{prefix:t||""});return{data:yield Ft(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const ig="2.7.1",ag={"X-Client-Info":`storage-js/${ig}`};var Or=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};class lg{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},ag),r),this.fetch=uf(n)}listBuckets(){return Or(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(we(t))return{data:null,error:t};throw t}})}getBucket(t){return Or(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Or(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Or(this,void 0,void 0,function*(){try{return{data:yield tg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Or(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Or(this,void 0,void 0,function*(){try{return{data:yield df(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}}class og extends lg{constructor(t,r={},n){super(t,r,n)}from(t){return new sg(this.url,this.headers,t,this.fetch)}}const cg="2.50.0";let Mn="";typeof Deno<"u"?Mn="deno":typeof document<"u"?Mn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mn="react-native":Mn="node";const ug={"X-Client-Info":`supabase-js-${Mn}/${cg}`},dg={headers:ug},hg={schema:"public"},fg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mg={};var pg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const gg=e=>{let t;return e?t=e:typeof fetch>"u"?t=Jh:t=fetch,(...r)=>t(...r)},yg=()=>typeof Headers>"u"?Qh:Headers,xg=(e,t,r)=>{const n=gg(r),s=yg();return(i,l)=>pg(void 0,void 0,void 0,function*(){var c;const o=(c=yield t())!==null&&c!==void 0?c:e;let u=new s(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),n(i,Object.assign(Object.assign({},l),{headers:u}))})};var vg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};function wg(e){return e.endsWith("/")?e:e+"/"}function bg(e,t){var r,n;const{db:s,auth:i,realtime:l,global:c}=e,{db:o,auth:u,realtime:d,global:h}=t,m={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),l),global:Object.assign(Object.assign(Object.assign({},h),c),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>vg(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const hf="2.70.0",Dr=30*1e3,Kl=3,Va=Kl*Dr,_g="http://localhost:9999",kg="supabase.auth.token",jg={"X-Client-Info":`gotrue-js/${hf}`},Jl="X-Supabase-Api-Version",ff={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ng=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Sg=6e5;class Go extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function F(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Cg extends Go{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Eg(e){return F(e)&&e.name==="AuthApiError"}class mf extends Go{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class lr extends Go{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ut extends lr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Pg(e){return F(e)&&e.name==="AuthSessionMissingError"}class Ys extends lr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xs extends lr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zs extends lr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tg(e){return F(e)&&e.name==="AuthImplicitGrantRedirectError"}class yu extends lr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ql extends lr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ha(e){return F(e)&&e.name==="AuthRetryableFetchError"}class xu extends lr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Yn extends lr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vu=` 	
\r=`.split(""),Ag=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vu.length;t+=1)e[vu[t].charCodeAt(0)]=-2;for(let t=0;t<Fi.length;t+=1)e[Fi[t].charCodeAt(0)]=t;return e})();function wu(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Fi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Fi[n]),t.queuedBits-=6}}function pf(e,t,r){const n=Ag[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function bu(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=l=>{Ig(l,n,r)};for(let l=0;l<e.length;l+=1)pf(e.charCodeAt(l),s,i);return t.join("")}function $g(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Og(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}$g(n,t)}}function Ig(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Lg(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)pf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Rg(e){const t=[];return Og(e,r=>t.push(r)),new Uint8Array(t)}function Dg(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>wu(s,r,n)),wu(null,r,n),t.join("")}function Ug(e){return Math.round(Date.now()/1e3)+e}function zg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const it=()=>typeof window<"u"&&typeof document<"u",dr={tested:!1,writable:!1},Xn=()=>{if(!it())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dr.tested)return dr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),dr.tested=!0,dr.writable=!0}catch{dr.tested=!0,dr.writable=!1}return dr.writable};function Mg(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const gf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>bn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Fg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",yf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ei=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ti=async(e,t)=>{await e.removeItem(t)};class fa{constructor(){this.promise=new fa.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}fa.promiseConstructor=Promise;function qa(e){const t=e.split(".");if(t.length!==3)throw new Yn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Ng.test(t[n]))throw new Yn("JWT not in base64url format");return{header:JSON.parse(bu(t[0])),payload:JSON.parse(bu(t[1])),signature:Lg(t[2]),raw:{header:t[0],payload:t[1]}}}async function Bg(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Wg(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){n(l);return}}catch(l){if(!t(i,l)){s(l);return}}})()})}function Vg(e){return("0"+e.toString(16)).substr(-2)}function Hg(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Vg).join("")}async function qg(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Kg(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await qg(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ir(e,t,r=!1){const n=Hg();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await yf(e,`${t}-code-verifier`,s);const i=await Kg(n);return[i,n===i?"plain":"s256"]}const Jg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qg(e){const t=e.headers.get(Jl);if(!t||!t.match(Jg))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Gg(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Yg(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Xg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Lr(e){if(!Xg.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Zg=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const pr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ey=[502,503,504];async function _u(e){var t;if(!Fg(e))throw new Ql(pr(e),0);if(ey.includes(e.status))throw new Ql(pr(e),e.status);let r;try{r=await e.json()}catch(i){throw new mf(pr(i),i)}let n;const s=Qg(e);if(s&&s.getTime()>=ff["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xu(pr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ut}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new xu(pr(r),e.status,r.weak_password.reasons);throw new Cg(pr(r),e.status||500,n)}const ty=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function q(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Jl]||(i[Jl]=ff["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",o=await ry(e,t,r+c,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(o):{data:Object.assign({},o),error:null}}async function ry(e,t,r,n,s,i){const l=ty(t,n,s,i);let c;try{c=await e(r,Object.assign({},l))}catch(o){throw console.error(o),new Ql(pr(o),0)}if(c.ok||await _u(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(o){await _u(o)}}function _t(e){var t;let r=null;ay(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ug(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function ku(e){const t=_t(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Vt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ny(e){return{data:e,error:null}}function sy(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,l=Zg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},o=Object.assign({},l);return{data:{properties:c,user:o},error:null}}function iy(e){return e}function ay(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ka=["global","local","others"];var ly=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class oy{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=gf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ka[0]){if(Ka.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ka.join(", ")}`);try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Vt})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ly(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:sy,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(F(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Vt})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,l,c,o;try{const u={nextPage:null,lastPage:0,total:0},d=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:iy});if(d.error)throw d.error;const h=await d.json(),m=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(o=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&o!==void 0?o:[];return y.length>0&&(y.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(F(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Lr(t);try{return await q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Vt})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Lr(t);try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Vt})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Lr(t);try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Vt})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Lr(t.userId);try{const{data:r,error:n}=await q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(F(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Lr(t.userId),Lr(t.id);try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}}const cy={getItem:e=>Xn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Xn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Xn()&&globalThis.localStorage.removeItem(e)}};function ju(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function uy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rr={debug:!!(globalThis&&Xn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dy extends xf{}async function hy(e,t,r){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}uy();const fy={url:_g,storageKey:kg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Nu(e,t,r){return await r()}class ys{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ys.nextInstanceID,ys.nextInstanceID+=1,this.instanceID>0&&it()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},fy),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new oy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=gf(s.fetch),this.lock=s.lock||Nu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:it()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=hy:this.lock=Nu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Xn()?this.storage=cy:(this.memoryStorage={},this.storage=ju(this.memoryStorage)):(this.memoryStorage={},this.storage=ju(this.memoryStorage)),it()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Mg(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),it()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Tg(i)){const o=(t=i.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return F(r)?{error:r}:{error:new mf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:_t}),{data:l,error:c}=i;if(c||!l)return{data:{user:null,session:null},error:c};const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:m}=t;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await Ir(this.storage,this.storageKey)),i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:x},xform:_t})}else if("phone"in t){const{phone:d,password:h,options:m}=t;i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:_t})}else throw new Xs("You must provide either an email or phone number and a password");const{data:l,error:c}=i;if(c||!l)return{data:{user:null,session:null},error:c};const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:c}=t;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:ku})}else if("phone"in t){const{phone:i,password:l,options:c}=t;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:ku})}else throw new Xs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ys}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,l,c,o,u,d,h,m,y;let x,w;if("message"in t)x=t.message,w=t.signature;else{const{chain:_,wallet:g,statement:f,options:p}=t;let b;if(it())if(typeof g=="object")b=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))b=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const v=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const k=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),f?{statement:f}:null));let C;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")C=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)C=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)x=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),w=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${v.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${v.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const k=await b.signMessage(new TextEncoder().encode(x),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=k}}try{const{data:_,error:g}=await q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Dg(w)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:_t});if(g)throw g;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Ys}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:g})}catch(_){if(F(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const r=await ei(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:l}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:_t});if(await ti(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ys}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:l})}catch(i){if(F(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:l}=t,c=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:_t}),{data:o,error:u}=c;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Ys}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,l;try{if("email"in t){const{email:c,options:o}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ir(this.storage,this.storageKey));const{error:h}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(n=o==null?void 0:o.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:c,options:o}=t,{data:u,error:d}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=o==null?void 0:o.data)!==null&&s!==void 0?s:{},create_user:(i=o==null?void 0:o.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(l=o==null?void 0:o.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Xs("You must provide either an email or phone number.")}catch(c){if(F(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:c}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:_t});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const o=l.session,u=l.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(s){if(F(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await Ir(this.storage,this.storageKey)),await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:ny})}catch(i){if(F(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ut;const{error:s}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(F(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:l}=await q(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:l,error:c}=await q(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new Xs("You must provide either an email or phone number and a type")}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ei(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Va:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(o,u,d)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(o,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Vt}):await this._useSession(async r=>{var n,s,i;const{data:l,error:c}=r;if(c)throw c;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ut}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Vt})})}catch(r){if(F(r))return Pg(r)&&(await this._removeSession(),await ti(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ut;const l=s.session;let c=null,o=null;this.flowType==="pkce"&&t.email!=null&&([c,o]=await Ir(this.storage,this.storageKey));const{data:u,error:d}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:o}),jwt:l.access_token,xform:Vt});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ut;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:l}=qa(t.access_token);if(l.exp&&(n=l.exp,s=n<=r),s){const{session:c,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:o}=await this._getUser(t.access_token);if(o)throw o;i={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(F(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:c}=r;if(c)throw c;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ut;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!it())throw new Zs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new yu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new yu("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:l,expires_in:c,expires_at:o,token_type:u}=t;if(!i||!c||!l||!u)throw new Zs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(c);let m=d+h;o&&(m=parseInt(o));const y=m-d;y*1e3<=Dr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const x=m-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:l,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(F(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ei(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(Eg(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await ti(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=zg(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ir(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(F(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var l,c,o,u,d;const{data:h,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return it()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(F(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)throw l;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Wg(async s=>(s>0&&await Bg(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_t})),(s,i)=>{const l=200*Math.pow(2,s);return i&&Ha(i)&&Date.now()+l-n<Dr})}catch(n){if(this._debug(r,"error",n),F(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),it()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ei(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Va;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Va}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Ha(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new fa;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new Ut;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={session:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(s,"error",i),F(i)){const l={session:null,error:i};return Ha(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(o){i.push(o)}});if(await Promise.all(l),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await yf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ti(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&it()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Dr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Dr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Dr}ms, refresh threshold is ${Kl} ticks`),s<=Kl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof xf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!it()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await Ir(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:o,error:u}=await q(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=o==null?void 0:o.totp)===null||s===void 0)&&s.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:l,error:c}=await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(F(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(F(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=qa(s.access_token);let c=null;l.aal&&(c=l.aal);let o=c;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const d=l.amr||[];return{data:{currentLevel:c,nextLevel:o,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n||(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Sg>Date.now()))return n;const{data:s,error:i}=await q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Yn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(l=>l.kid===t),!n)throw new Yn("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:x}=await this.getSession();if(x||!y.session)return{data:null,error:x};n=y.session.access_token}const{header:s,payload:i,signature:l,raw:{header:c,payload:o}}=qa(n);if(Gg(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:l},error:null}}const u=Yg(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,l,Rg(`${c}.${o}`)))throw new Yn("Invalid JWT signature");return{data:{claims:i,header:s,signature:l},error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}}ys.nextInstanceID=0;const my=ys;class py extends my{constructor(t){super(t)}}var gy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};class yy{constructor(t,r,n){var s,i,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const c=wg(t),o=new URL(c);this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:hg,realtime:mg,auth:Object.assign(Object.assign({},fg),{storageKey:u}),global:dg},h=bg(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=xg(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new I0(new URL("rest/v1",o).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new u0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new og(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return gy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:l,lock:c,debug:o},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new py({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:l,lock:c,debug:o,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new J0(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xy=(e,t,r)=>new yy(e,t,r),vy="https://gemidmleolewepelgrln.supabase.co",wy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdlbWlkbWxlb2xld2VwZWxncmxuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA0OTIzODIsImV4cCI6MjA2NjA2ODM4Mn0.66_oBrCVSLHsUxtGQbY3aZW_fyKZmOFZt3M34Y3-UrI",le=xy(vy,wy,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Su=async e=>{const{data:t,error:r}=await le.rpc("get_or_create_user_profile",{user_auth_id:e});return r?(console.error("Error getting user profile:",r),null):t},by=async e=>{const{data:t,error:r}=await le.from("linkedin_profiles").select("*").eq("linkedin_url",e).single();return r&&r.code!=="PGRST116"?(console.error("Error checking profile:",r),null):t},Cu=async(e,t,r,n=[])=>{const{data:s,error:i}=await le.from("linkedin_profiles").upsert({user_id:e,linkedin_url:t,profile_data:r,tags:n,last_updated:new Date().toISOString()},{onConflict:"linkedin_url"}).select().single();return i?(console.error("Error upserting profile:",i),null):s},_y=async e=>{const{data:t,error:r}=await le.from("linkedin_profiles").select("*").eq("user_id",e).order("last_updated",{ascending:!1});return r?(console.error("Error getting user profiles:",r),[]):t||[]},hr=async()=>{const{data:e,error:t}=await le.from("linkedin_profiles").select("*").order("last_updated",{ascending:!1});return t?(console.error("Error getting all profiles:",t),[]):e||[]};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ky={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),M=(e,t)=>{const r=T.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:o,...u},d)=>T.createElement("svg",{ref:d,...ky,width:s,height:s,stroke:n,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${jy(e)}`,c].join(" "),...u},[...t.map(([h,m])=>T.createElement(h,m)),...Array.isArray(o)?o:[o]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=M("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=M("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=M("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=M("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=M("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=M("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=M("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=M("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=M("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=M("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=M("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=M("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=M("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=M("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=M("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=M("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=M("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=M("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=M("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=M("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=M("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=M("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=M("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=M("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=M("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=M("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=M("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=M("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=M("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=M("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=M("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=M("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=M("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=M("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=M("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=M("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=M("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=M("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=M("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=M("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=M("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=M("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=M("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=M("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ty=({onSuccess:e,onSwitchToSignup:t,onSwitchToReset:r})=>{const[n,s]=T.useState(""),[i,l]=T.useState(""),[c,o]=T.useState(!1),[u,d]=T.useState(!1),[h,m]=T.useState(""),y=async x=>{x.preventDefault(),d(!0),m("");try{const{data:w,error:_}=await le.auth.signInWithPassword({email:n.trim(),password:i});if(_){_.message.includes("Invalid login credentials")?m("Invalid email or password. Please check your credentials and try again."):_.message.includes("Email not confirmed")?m("Please check your email and click the confirmation link before signing in."):_.message.includes("Too many requests")?m("Too many login attempts. Please wait a few minutes before trying again."):m(_.message);return}w.user&&e()}catch(w){console.error("Login error:",w),m("An unexpected error occurred. Please try again.")}finally{d(!1)}};return a.jsxs("form",{onSubmit:y,className:"space-y-6",children:[h&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(fn,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-sm text-red-700",children:h})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Lt,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",type:"email",value:n,onChange:x=>s(x.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email",required:!0,disabled:u})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(vs,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",type:c?"text":"password",value:i,onChange:x=>l(x.target.value),className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your password",required:!0,disabled:u}),a.jsx("button",{type:"button",onClick:()=>o(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:u,children:c?a.jsx(Tt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):a.jsx(mt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),a.jsx("button",{type:"button",onClick:r,className:"text-sm text-blue-600 hover:text-blue-500 font-medium",disabled:u,children:"Forgot password?"})]}),a.jsx("button",{type:"submit",disabled:u||!n||!i,className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"w-4 h-4 animate-spin"}),"Signing in..."]}):"Sign In"}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Don't have an account? "}),a.jsx("button",{type:"button",onClick:t,className:"text-sm text-blue-600 hover:text-blue-500 font-medium",disabled:u,children:"Sign up"})]})]})},Ay=({onSuccess:e,onSwitchToLogin:t})=>{const[r,n]=T.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[s,i]=T.useState(!1),[l,c]=T.useState(!1),[o,u]=T.useState(!1),[d,h]=T.useState(""),[m,y]=T.useState(!1),w=(f=>{const p=f.length>=8,b=/[A-Z]/.test(f),v=/[a-z]/.test(f),k=/\d/.test(f),C=/[!@#$%^&*(),.?":{}|<>]/.test(f);return{minLength:p,hasUpperCase:b,hasLowerCase:v,hasNumbers:k,hasSpecialChar:C,isValid:p&&b&&v&&k&&C}})(r.password),_=f=>{const{name:p,value:b}=f.target;n(v=>({...v,[p]:b})),h("")},g=async f=>{if(f.preventDefault(),u(!0),h(""),!r.firstName.trim()||!r.lastName.trim()){h("Please enter your first and last name."),u(!1);return}if(!w.isValid){h("Password does not meet the security requirements."),u(!1);return}if(r.password!==r.confirmPassword){h("Passwords do not match."),u(!1);return}try{console.log("Attempting to create user account...");const{data:p,error:b}=await le.auth.signUp({email:r.email.trim().toLowerCase(),password:r.password,options:{data:{first_name:r.firstName.trim(),last_name:r.lastName.trim(),full_name:`${r.firstName.trim()} ${r.lastName.trim()}`}}});if(b){console.error("Signup error:",b),b.message.includes("User already registered")?h("An account with this email already exists. Please sign in instead."):b.message.includes("Password should be")?h("Password does not meet the minimum requirements."):b.message.includes("Invalid email")?h("Please enter a valid email address."):b.message.includes("Database error saving new user")?h("There was a problem creating your account. This may be a temporary issue with our service. Please try again in a few moments, or contact support if the problem persists."):b.message.includes("unexpected_failure")?h("An unexpected error occurred while creating your account. Please try again, or contact support if this continues to happen."):b.message.includes("timeout")||b.message.includes("network")?h("Network connection issue. Please check your internet connection and try again."):h(`Account creation failed: ${b.message}`);return}p.user&&(console.log("User created successfully:",p.user.id),p.user.email_confirmed_at?(console.log("User confirmed immediately, proceeding to app..."),e()):(console.log("Email confirmation required"),y(!0)))}catch(p){console.error("Unexpected signup error:",p),p instanceof Error?p.message.includes("Failed to fetch")||p.message.includes("network")?h("Network connection failed. Please check your internet connection and try again."):p.message.includes("timeout")?h("Request timed out. Please try again."):h(`An unexpected error occurred: ${p.message}`):h("An unexpected error occurred. Please try again.")}finally{u(!1)}};return m?a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:a.jsx(mn,{className:"w-8 h-8 text-green-600"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Check Your Email"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:["We've sent a confirmation link to ",a.jsx("strong",{children:r.email}),". Please check your email and click the link to activate your account."]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Didn't receive the email? Check your spam folder or contact support."})]}),a.jsx("button",{onClick:t,className:"w-full py-3 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Back to Sign In"})]}):a.jsxs("form",{onSubmit:g,className:"space-y-6",children:[d&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(fn,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-sm text-red-700",children:d})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(dt,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"firstName",name:"firstName",type:"text",value:r.firstName,onChange:_,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"First name",required:!0,disabled:o})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),a.jsx("input",{id:"lastName",name:"lastName",type:"text",value:r.lastName,onChange:_,className:"block w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Last name",required:!0,disabled:o})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Lt,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",value:r.email,onChange:_,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email",required:!0,disabled:o})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(vs,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:s?"text":"password",value:r.password,onChange:_,className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Create a password",required:!0,disabled:o}),a.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:o,children:s?a.jsx(Tt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):a.jsx(mt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),r.password&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx("div",{className:"text-xs text-gray-600",children:"Password must contain:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:`flex items-center gap-1 ${w.minLength?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w.minLength?"bg-green-600":"bg-gray-300"}`}),"8+ characters"]}),a.jsxs("div",{className:`flex items-center gap-1 ${w.hasUpperCase?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w.hasUpperCase?"bg-green-600":"bg-gray-300"}`}),"Uppercase letter"]}),a.jsxs("div",{className:`flex items-center gap-1 ${w.hasLowerCase?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w.hasLowerCase?"bg-green-600":"bg-gray-300"}`}),"Lowercase letter"]}),a.jsxs("div",{className:`flex items-center gap-1 ${w.hasNumbers?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w.hasNumbers?"bg-green-600":"bg-gray-300"}`}),"Number"]}),a.jsxs("div",{className:`flex items-center gap-1 ${w.hasSpecialChar?"text-green-600":"text-gray-400"} col-span-2`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w.hasSpecialChar?"bg-green-600":"bg-gray-300"}`}),"Special character (!@#$%^&*)"]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(vs,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:l?"text":"password",value:r.confirmPassword,onChange:_,className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Confirm your password",required:!0,disabled:o}),a.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:o,children:l?a.jsx(Tt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):a.jsx(mt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),r.confirmPassword&&r.password!==r.confirmPassword&&a.jsx("div",{className:"mt-2 text-xs text-red-600",children:"Passwords do not match"})]}),a.jsx("button",{type:"submit",disabled:o||!w.isValid||r.password!==r.confirmPassword||!r.firstName.trim()||!r.lastName.trim(),className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"w-4 h-4 animate-spin"}),"Creating account..."]}):"Create Account"}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Already have an account? "}),a.jsx("button",{type:"button",onClick:t,className:"text-sm text-blue-600 hover:text-blue-500 font-medium",disabled:o,children:"Sign in"})]})]})},$y=({onBackToLogin:e})=>{const[t,r]=T.useState(""),[n,s]=T.useState(!1),[i,l]=T.useState(""),[c,o]=T.useState(!1),u=async d=>{d.preventDefault(),s(!0),l("");try{const{error:h}=await le.auth.resetPasswordForEmail(t.trim(),{redirectTo:`${window.location.origin}/reset-password`});if(h){h.message.includes("Invalid email")?l("Please enter a valid email address."):h.message.includes("Email not found")?l("No account found with this email address."):l(h.message);return}o(!0)}catch(h){console.error("Password reset error:",h),l("An unexpected error occurred. Please try again.")}finally{s(!1)}};return c?a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:a.jsx(mn,{className:"w-8 h-8 text-green-600"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Check Your Email"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:["We've sent a password reset link to ",a.jsx("strong",{children:t}),". Please check your email and follow the instructions to reset your password."]}),a.jsx("p",{className:"text-sm text-gray-500",children:"The link will expire in 1 hour for security reasons."})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:e,className:"w-full py-3 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Back to Sign In"}),a.jsx("button",{onClick:()=>{o(!1),r(""),l("")},className:"w-full text-sm text-blue-600 hover:text-blue-500 font-medium",children:"Send another reset email"})]})]}):a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsx("div",{className:"text-center mb-6",children:a.jsx("p",{className:"text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."})}),i&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(fn,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-sm text-red-700",children:i})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Lt,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",type:"email",value:t,onChange:d=>r(d.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email address",required:!0,disabled:n})]})]}),a.jsx("button",{type:"submit",disabled:n||!t.trim(),className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"w-4 h-4 animate-spin"}),"Sending reset link..."]}):"Send Reset Link"}),a.jsxs("button",{type:"button",onClick:e,className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",disabled:n,children:[a.jsx(ma,{className:"w-4 h-4"}),"Back to Sign In"]})]})},Oy=({onAuthSuccess:e})=>{const[t,r]=T.useState("login"),n=()=>{e&&e()};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[a.jsxs("div",{className:"hidden lg:block space-y-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-blue-600 rounded-xl",children:a.jsx(Zn,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"LinkedIn Scraper"}),a.jsx("p",{className:"text-gray-600",children:"Professional Data Intelligence Platform"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Unlock Professional Insights"}),a.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"Extract valuable data from LinkedIn posts and profiles with our advanced scraping technology. Build comprehensive databases of professional contacts and market intelligence."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white rounded-lg shadow-sm border border-gray-100",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(ze,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Profile Intelligence"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Extract detailed professional profiles with contact information, experience, and skills."})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white rounded-lg shadow-sm border border-gray-100",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(jf,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Secure & Compliant"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Enterprise-grade security with data protection and privacy compliance built-in."})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white rounded-lg shadow-sm border border-gray-100",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(vs,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Advanced Analytics"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Export data in multiple formats and integrate with your existing CRM and marketing tools."})]})]})]})]}),a.jsxs("div",{className:"w-full max-w-md mx-auto",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"px-8 py-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:a.jsx(Zn,{className:"w-6 h-6"})})}),a.jsxs("h2",{className:"text-xl font-bold",children:[t==="login"&&"Welcome Back",t==="signup"&&"Create Account",t==="reset"&&"Reset Password"]}),a.jsxs("p",{className:"text-blue-100 text-sm mt-1",children:[t==="login"&&"Sign in to access your dashboard",t==="signup"&&"Join thousands of professionals",t==="reset"&&"We'll send you a reset link"]})]})}),a.jsxs("div",{className:"p-8",children:[t==="login"&&a.jsx(Ty,{onSuccess:n,onSwitchToSignup:()=>r("signup"),onSwitchToReset:()=>r("reset")}),t==="signup"&&a.jsx(Ay,{onSuccess:n,onSwitchToLogin:()=>r("login")}),t==="reset"&&a.jsx($y,{onBackToLogin:()=>r("login")})]})]}),a.jsxs("div",{className:"lg:hidden mt-8 text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[a.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:a.jsx(Zn,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"LinkedIn Scraper"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Professional Data Intelligence Platform"})]})]})]})})},Iy=({onScrape:e,isLoading:t,disabled:r=!1})=>{const[n,s]=T.useState("post_comments"),[i,l]=T.useState(""),c=async d=>{d.preventDefault(),!(!i.trim()||r)&&(await e(n,i.trim()),l(""))},o=()=>{switch(n){case"post_comments":return"https://www.linkedin.com/posts/...";case"profile_details":return"https://www.linkedin.com/in/username";case"mixed":return"https://www.linkedin.com/posts/... (will scrape post + profiles)";default:return""}},u=()=>{switch(n){case"post_comments":return a.jsx(Ja,{className:"w-5 h-5"});case"profile_details":return a.jsx(Au,{className:"w-5 h-5"});case"mixed":return a.jsx(ze,{className:"w-5 h-5"});default:return a.jsx(Ja,{className:"w-5 h-5"})}};return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:u()}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"LinkedIn Scraper"})]}),r&&a.jsxs("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-lg flex items-start gap-3",children:[a.jsx(Ny,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-sm text-amber-700",children:[a.jsx("p",{className:"font-medium",children:"Setup Required"}),a.jsx("p",{children:"Please select a user and configure an Apify API key before starting to scrape."})]})]}),a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Scraping Type"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("button",{type:"button",onClick:()=>s("post_comments"),disabled:r,className:`p-4 rounded-lg border-2 transition-all ${n==="post_comments"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"} ${r?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx(Ja,{className:"w-6 h-6 mx-auto mb-2"}),a.jsx("div",{className:"font-medium",children:"Post Comments"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Scrape post engagers"})]}),a.jsxs("button",{type:"button",onClick:()=>s("profile_details"),disabled:r,className:`p-4 rounded-lg border-2 transition-all ${n==="profile_details"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"} ${r?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx(Au,{className:"w-6 h-6 mx-auto mb-2"}),a.jsx("div",{className:"font-medium",children:"Profile Details"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Scrape profile info"})]}),a.jsxs("button",{type:"button",onClick:()=>s("mixed"),disabled:r,className:`p-4 rounded-lg border-2 transition-all ${n==="mixed"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"} ${r?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx(ze,{className:"w-6 h-6 mx-auto mb-2"}),a.jsx("div",{className:"font-medium",children:"Mixed"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Post + Profiles"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn URL"}),a.jsx("input",{type:"url",id:"url",value:i,onChange:d=>l(d.target.value),placeholder:o(),disabled:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",required:!0})]}),a.jsx("button",{type:"submit",disabled:t||!i.trim()||r,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:t?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"w-5 h-5 animate-spin"}),"Scraping..."]}):a.jsxs(a.Fragment,{children:[u(),"Start Scraping"]})})]})]})},Ly=({profiles:e,onUpdateProfile:t,onUpdateSelectedProfiles:r,onDeleteSelectedProfiles:n,onExport:s,onViewDetails:i,isUpdating:l})=>{const[c,o]=T.useState(new Set(["select","picture","name","headline","location","connections","company","tags","updated","actions"])),[u,d]=T.useState(""),[h,m]=T.useState(new Set),[y,x]=T.useState(!1),[w,_]=T.useState(new Set),[g,f]=T.useState({hasEmail:!1,hasPhone:!1,hasWebsite:!1,hasSkills:!1,hasExperience:!1,hasEducation:!1,hasCertifications:!1,hasAbout:!1,hasLocation:!1,hasCurrentJob:!1}),[p,b]=T.useState(!1),v=[{key:"select",label:"Select"},{key:"picture",label:"Picture"},{key:"name",label:"Name"},{key:"headline",label:"Headline"},{key:"location",label:"Location"},{key:"connections",label:"Connections"},{key:"followers",label:"Followers"},{key:"company",label:"Current Company"},{key:"jobTitle",label:"Job Title"},{key:"duration",label:"Current Role Duration"},{key:"experience",label:"Experience"},{key:"education",label:"Education"},{key:"skills",label:"Top Skills"},{key:"certifications",label:"Certifications"},{key:"email",label:"Email"},{key:"phone",label:"Phone"},{key:"website",label:"Website"},{key:"tags",label:"Tags"},{key:"updated",label:"Last Updated"},{key:"actions",label:"Actions"}],k=T.useMemo(()=>{const j=new Set;return e.filter(O=>{const N=O.linkedin_url;return j.has(N)?!1:(j.add(N),!0)})},[e]),C=T.useMemo(()=>{let j=k;return u&&(j=j.filter(O=>{const N=O.profile_data||{},S=O.tags||[];return`${N.fullName||N.firstName||""} ${N.lastName||""} ${N.headline||""} ${N.addressWithCountry||""} ${N.companyName||""} ${S.join(" ")}`.toLowerCase().includes(u.toLowerCase())})),j=j.filter(O=>{var S;const N=O.profile_data||{};return!(g.hasEmail&&!N.email||g.hasPhone&&!N.mobileNumber||g.hasWebsite&&!((S=N.creatorWebsite)!=null&&S.link)||g.hasSkills&&(!N.skills||N.skills.length===0)||g.hasExperience&&(!N.experiences||N.experiences.length===0)||g.hasEducation&&(!N.educations||N.educations.length===0)||g.hasCertifications&&(!N.licenseAndCertificates||N.licenseAndCertificates.length===0)||g.hasAbout&&!N.about||g.hasLocation&&!N.addressWithCountry&&!N.addressCountryOnly&&!N.addressWithoutCountry||g.hasCurrentJob&&!N.jobTitle&&!N.companyName)}),j},[k,u,g]),P=j=>{if(j==="select"||j==="actions")return;const O=new Set(c);O.has(j)?O.delete(j):O.add(j),o(O)},G=j=>{f(O=>({...O,[j]:!O[j]}))},U=()=>{f({hasEmail:!1,hasPhone:!1,hasWebsite:!1,hasSkills:!1,hasExperience:!1,hasEducation:!1,hasCertifications:!1,hasAbout:!1,hasLocation:!1,hasCurrentJob:!1})},X=()=>Object.values(g).filter(Boolean).length,W=j=>{const O=new Set(h);O.has(j)?O.delete(j):O.add(j),m(O),x(O.size>0)},$=()=>{h.size===C.length?(m(new Set),x(!1)):(m(new Set(C.map(j=>j.id))),x(!0))},V=async(j,O)=>{_(N=>new Set(N).add(O));try{await t(j)}catch(N){console.error("Error updating profile:",N)}finally{_(N=>{const S=new Set(N);return S.delete(O),S})}},re=async()=>{if(r&&h.size>0){const j=C.filter(O=>h.has(O.id)).map(O=>O.linkedin_url);await r(j),m(new Set),x(!1)}},J=async()=>{n&&h.size>0&&window.confirm(`Are you sure you want to delete ${h.size} selected profiles? This action cannot be undone.`)&&(await n(Array.from(h)),m(new Set),x(!1))},te=j=>{s(j,!0)},A=j=>{if(!j)return{text:"Never",color:"text-gray-600 bg-gray-100 border-gray-200",exact:"Never"};const O=new Date(j),N=new Date,S=new Date(N.getFullYear(),N.getMonth(),N.getDate()),L=new Date(O.getFullYear(),O.getMonth(),O.getDate()),Q=S.getTime()-L.getTime(),ye=Math.floor(Q/(1e3*60*60*24)),fe=O.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"});return ye===0?{text:"Today",color:"text-green-700 bg-green-100 border-green-200",exact:fe}:ye<=7?{text:"This week",color:"text-green-600 bg-green-50 border-green-200",exact:fe}:ye<=30?{text:"This month",color:"text-blue-600 bg-blue-50 border-blue-200",exact:fe}:{text:fe,color:"text-amber-700 bg-amber-100 border-amber-200",exact:fe}},R=(j,O)=>{var L,Q,ye,fe,or,cr,Tr,Ar,Ps,Ts,As,$s,kn,jn;const N=j.profile_data||{},S=w.has(j.id);switch(O){case"select":return a.jsx("button",{onClick:()=>W(j.id),className:"text-blue-600 hover:text-blue-800",children:h.has(j.id)?a.jsx(pn,{className:"w-5 h-5"}):a.jsx(yn,{className:"w-5 h-5"})});case"picture":return a.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:N.profilePic||N.profilePicHighQuality?a.jsx("img",{src:N.profilePicHighQuality||N.profilePic,alt:N.fullName||`${N.firstName} ${N.lastName}`,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:"No Photo"})});case"name":return a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900 truncate",children:N.fullName||`${N.firstName||""} ${N.lastName||""}`.trim()}),a.jsx("div",{className:"text-sm text-blue-600 hover:underline",children:a.jsxs("a",{href:j.linkedin_url||N.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1",children:[a.jsx(nn,{className:"w-3 h-3"}),"View Profile"]})})]});case"headline":return a.jsx("div",{className:"max-w-xs",children:a.jsx("div",{className:"text-sm text-gray-900 line-clamp-2",title:N.headline,children:N.headline||"No headline"})});case"location":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(ws,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:N.addressWithCountry||N.addressCountryOnly||N.addressWithoutCountry||"Not specified"})]});case"connections":return a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(ze,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"font-medium",children:((L=N.connections)==null?void 0:L.toLocaleString())||"0"})]});case"followers":return a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(ze,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"font-medium",children:((Q=N.followers)==null?void 0:Q.toLocaleString())||"0"})]});case"company":return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yo,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:N.companyName||((or=(fe=(ye=N.experiences)==null?void 0:ye[0])==null?void 0:fe.subtitle)==null?void 0:or.split(" · ")[0])||"Not specified"}),N.companyIndustry&&a.jsx("div",{className:"text-xs text-gray-500 truncate",children:N.companyIndustry})]})]});case"jobTitle":return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tr,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-gray-900 truncate",children:N.jobTitle||((Tr=(cr=N.experiences)==null?void 0:cr[0])==null?void 0:Tr.title)||"Not specified"})]});case"duration":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(Xo,{className:"w-4 h-4"}),a.jsx("span",{children:N.currentJobDuration||((Ts=(Ps=(Ar=N.experiences)==null?void 0:Ar[0])==null?void 0:Ps.caption)==null?void 0:Ts.split(" · ")[1])||"Not specified"})]});case"experience":return a.jsxs("div",{className:"text-sm text-gray-600",children:[((As=N.experiences)==null?void 0:As.length)||0," positions"]});case"education":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(xs,{className:"w-4 h-4"}),a.jsxs("span",{children:[(($s=N.educations)==null?void 0:$s.length)||0," schools"]})]});case"skills":return a.jsx("div",{className:"max-w-xs",children:N.skills&&N.skills.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[N.skills.slice(0,3).map((ur,Sn)=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:ur.title},Sn)),N.skills.length>3&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",N.skills.length-3," more"]})]}):a.jsx("span",{className:"text-sm text-gray-500",children:"No skills listed"})});case"certifications":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(Et,{className:"w-4 h-4"}),a.jsxs("span",{children:[((kn=N.licenseAndCertificates)==null?void 0:kn.length)||0," certs"]})]});case"email":return N.email?a.jsxs("a",{href:`mailto:${N.email}`,className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(Lt,{className:"w-4 h-4"}),N.email]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"phone":return N.mobileNumber?a.jsxs("a",{href:`tel:${N.mobileNumber}`,className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(gn,{className:"w-4 h-4"}),N.mobileNumber]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"website":return(jn=N.creatorWebsite)!=null&&jn.link?a.jsxs("a",{href:N.creatorWebsite.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(Wi,{className:"w-4 h-4"}),N.creatorWebsite.name||"Website"]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"tags":return a.jsx("div",{className:"max-w-xs",children:j.tags&&j.tags.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[j.tags.slice(0,3).map((ur,Sn)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs bg-purple-100 text-purple-800",children:[a.jsx(Nf,{className:"w-3 h-3"}),ur]},Sn)),j.tags.length>3&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",j.tags.length-3," more"]})]}):a.jsx("span",{className:"text-sm text-gray-500",children:"No tags"})});case"updated":const Nn=A(j.last_updated);return a.jsxs("div",{className:"group relative",children:[a.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full border ${Nn.color} ${S?"animate-pulse":""}`,children:S?"Updating...":Nn.text}),a.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10 shadow-lg",children:[a.jsx("div",{className:"font-medium",children:"Last Updated"}),a.jsx("div",{children:Nn.exact}),a.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]});case"actions":return a.jsxs("div",{className:"flex gap-2",children:[i&&a.jsxs("button",{onClick:()=>i(N),className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[a.jsx(mt,{className:"w-4 h-4"}),"Details"]}),a.jsxs("button",{onClick:()=>V(j.linkedin_url||N.linkedinUrl,j.id),disabled:l,className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-gray-600 text-white rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx(_f,{className:`w-4 h-4 ${l?"animate-spin":""}`}),l?"Updating...":"Update"]})]});default:return null}};return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Saved Profiles (",C.length,")",h.size>0&&a.jsxs("span",{className:"ml-2 text-sm font-normal text-blue-600",children:["(",h.size," selected)"]}),X()>0&&a.jsxs("span",{className:"ml-2 text-sm font-normal text-green-600",children:["(",X()," filters active)"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Filter profiles...",value:u,onChange:j=>d(j.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>b(!p),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${X()>0?"border-green-500 bg-green-50 text-green-700":"border-gray-300 hover:bg-gray-50"}`,children:[a.jsx(Bi,{className:"w-4 h-4"}),"Data Filters",X()>0&&a.jsx("span",{className:"bg-green-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:X()}),a.jsx(Zo,{className:`w-4 h-4 transition-transform ${p?"rotate-180":""}`})]}),p&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Show profiles with:"}),a.jsx("button",{onClick:U,className:"text-xs text-gray-500 hover:text-gray-700",children:"Clear all"})]}),a.jsx("div",{className:"space-y-2",children:[{key:"hasEmail",label:"Email address",icon:Lt},{key:"hasPhone",label:"Phone number",icon:gn},{key:"hasWebsite",label:"Website",icon:Wi},{key:"hasLocation",label:"Location",icon:ws},{key:"hasCurrentJob",label:"Current job",icon:tr},{key:"hasAbout",label:"About section",icon:ze},{key:"hasSkills",label:"Skills",icon:Et},{key:"hasExperience",label:"Experience",icon:tr},{key:"hasEducation",label:"Education",icon:xs},{key:"hasCertifications",label:"Certifications",icon:Et}].map(({key:j,label:O,icon:N})=>a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[a.jsx("input",{type:"checkbox",checked:g[j],onChange:()=>G(j),className:"text-blue-600 focus:ring-blue-500"}),a.jsx(N,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-700",children:O})]},j))})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("select",{onChange:j=>s(j.target.value,!1),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"",children:[a.jsx("option",{value:"",disabled:!0,children:"Export All..."}),a.jsx("option",{value:"csv",children:"CSV"}),a.jsx("option",{value:"json",children:"JSON"}),a.jsx("option",{value:"xlsx",children:"Excel"})]})})]})]}),y&&a.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ze,{className:"w-5 h-5 text-blue-600"}),a.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[h.size," profiles selected"]})]}),a.jsxs("div",{className:"flex gap-2",children:[r&&a.jsxs("button",{onClick:re,disabled:l,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx(Ey,{className:"w-4 h-4"}),"Update Selected"]}),a.jsxs("select",{onChange:j=>{j.target.value&&(te(j.target.value),j.target.value="")},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"",children:[a.jsx("option",{value:"",disabled:!0,children:"Export Selected..."}),a.jsx("option",{value:"csv",children:"CSV"}),a.jsx("option",{value:"json",children:"JSON"}),a.jsx("option",{value:"xlsx",children:"Excel"})]}),n&&a.jsxs("button",{onClick:J,className:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[a.jsx(Sf,{className:"w-4 h-4"}),"Delete Selected"]}),a.jsx("button",{onClick:()=>{m(new Set),x(!1)},className:"px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"})]})]})}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsxs("button",{onClick:$,className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[h.size===C.length&&C.length>0?a.jsx(pn,{className:"w-4 h-4"}):a.jsx(yn,{className:"w-4 h-4"}),h.size===C.length&&C.length>0?"Deselect All":"Select All"]}),a.jsxs("span",{className:"text-sm text-gray-600",children:[h.size," of ",C.length," selected"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(j=>a.jsxs("button",{onClick:()=>P(j.key),disabled:j.key==="select"||j.key==="actions",className:`inline-flex items-center gap-1 px-3 py-1 text-sm rounded-full transition-colors ${c.has(j.key)?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${j.key==="select"||j.key==="actions"?"opacity-50 cursor-not-allowed":""}`,children:[c.has(j.key)?a.jsx(mt,{className:"w-3 h-3"}):a.jsx(Tt,{className:"w-3 h-3"}),j.label,c.has(j.key)&&j.key!=="actions"&&j.key!=="select"&&a.jsx(Vi,{className:"w-3 h-3 ml-1 hover:text-red-500"})]},j.key))})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsx("tr",{children:v.filter(j=>c.has(j.key)).map(j=>a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:j.label},j.key))})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(j=>a.jsx("tr",{className:`hover:bg-gray-50 ${h.has(j.id)?"bg-blue-50":""} ${w.has(j.id)?"bg-yellow-50":""}`,children:v.filter(O=>c.has(O.key)).map(O=>a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:R(j,O.key)},O.key))},j.id))})]})}),C.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-500",children:X()>0?"No profiles match the selected filters":"No profiles found"}),X()>0&&a.jsx("button",{onClick:U,className:"mt-2 text-blue-600 hover:text-blue-800 text-sm",children:"Clear all filters"})]})]})},Cf=({type:e,stage:t,progress:r=0,message:n,error:s})=>{const i=()=>{switch(e){case"post_comments":return a.jsx(Gl,{className:"w-6 h-6 text-blue-600"});case"profile_details":return a.jsx(dt,{className:"w-6 h-6 text-green-600"});case"mixed":return a.jsx(ze,{className:"w-6 h-6 text-purple-600"})}},l=()=>{switch(e){case"post_comments":return"Scraping Post Comments";case"profile_details":return"Scraping Profile Details";case"mixed":return"Mixed Scraping (Comments + Profiles)"}},c=()=>{if(s)return s;if(n)return n;switch(t){case"starting":return"Initializing scraping process...";case"scraping_comments":return"Extracting comments from LinkedIn post...";case"extracting_profiles":return"Extracting profile URLs from comments...";case"scraping_profiles":return"Gathering detailed profile information...";case"saving_data":return"Saving data to database...";case"completed":return"Scraping completed successfully!";case"error":return"An error occurred during scraping";default:return"Processing..."}},o=()=>s||t==="error"?"bg-red-500":t==="completed"?"bg-green-500":"bg-blue-500",u=()=>s||t==="error"?"border-red-200 bg-red-50":t==="completed"?"border-green-200 bg-green-50":"border-blue-200 bg-blue-50",d=[{key:"starting",label:"Initialize"},...e==="post_comments"||e==="mixed"?[{key:"scraping_comments",label:"Extract Comments"}]:[],...e==="mixed"?[{key:"extracting_profiles",label:"Extract Profiles"}]:[],...e==="profile_details"||e==="mixed"?[{key:"scraping_profiles",label:"Scrape Profiles"}]:[],{key:"saving_data",label:"Save Data"},{key:"completed",label:"Complete"}],h=d.findIndex(y=>y.key===t),m=t==="completed"?100:Math.max(r,h/(d.length-1)*100);return a.jsxs("div",{className:`rounded-xl border-2 p-6 ${u()}`,children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:t==="completed"?a.jsx(mn,{className:"w-6 h-6 text-green-600"}):t==="error"||s?a.jsx(fn,{className:"w-6 h-6 text-red-600"}):a.jsxs("div",{className:"relative",children:[i(),a.jsx(ut,{className:"w-4 h-4 absolute -top-1 -right-1 animate-spin text-gray-600"})]})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:l()}),a.jsx("p",{className:"text-gray-600",children:c()})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{children:[Math.round(m),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${o()}`,style:{width:`${m}%`}})})]}),a.jsx("div",{className:"flex justify-between items-center",children:d.map((y,x)=>{const w=x<h||t==="completed",_=x===h&&t!=="completed",g=t==="error"&&x===h;return a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium mb-2 ${g?"bg-red-500 text-white":w?"bg-green-500 text-white":_?"bg-blue-500 text-white":"bg-gray-200 text-gray-500"}`,children:g?a.jsx(fn,{className:"w-4 h-4"}):w?a.jsx(mn,{className:"w-4 h-4"}):_?a.jsx(ut,{className:"w-4 h-4 animate-spin"}):x+1}),a.jsx("span",{className:`text-xs text-center ${g?"text-red-600":w||_?"text-gray-900":"text-gray-500"}`,children:y.label})]},y.key)})})]})},Ry=({comments:e,onScrapeSelectedProfiles:t,isLoading:r,onBack:n,loadingStage:s="starting",loadingProgress:i=0,loadingMessage:l="",loadingError:c=""})=>{const[o,u]=T.useState(new Set),d=x=>{const w=new Set(o);w.has(x)?w.delete(x):w.add(x),u(w)},h=()=>{o.size===e.length?u(new Set):u(new Set(e.map(x=>x.id)))},m=async()=>{const x=e.filter(w=>o.has(w.id)).map(w=>w.actor.linkedinUrl).filter(Boolean);x.length>0&&await t(x)},y=x=>{const w=new Date(x),g=Math.abs(new Date().getTime()-w.getTime()),f=Math.ceil(g/(1e3*60*60*24));return f===0?"Today":f<=7?"This week":f<=30?"This month":w.toLocaleDateString("en-GB")};return a.jsxs("div",{className:"space-y-6",children:[r&&a.jsx(Cf,{type:"profile_details",stage:s,progress:i,message:l,error:c}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Gl,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Post Comments (",e.length,")"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Select commenters to scrape their profile details"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx(ma,{className:"w-4 h-4"}),"Back to Scraper"]}),a.jsxs("button",{onClick:m,disabled:o.size===0||r,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[a.jsx(ze,{className:"w-4 h-4"}),r?"Scraping...":`Scrape Selected Profiles (${o.size})`]})]})]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[a.jsxs("button",{onClick:h,disabled:r,className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50",children:[o.size===e.length?a.jsx(pn,{className:"w-4 h-4"}):a.jsx(yn,{className:"w-4 h-4"}),o.size===e.length?"Deselect All":"Select All"]}),a.jsxs("span",{className:"text-sm text-gray-600",children:[o.size," of ",e.length," selected"]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Select"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commenter"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Comment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(x=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("button",{onClick:()=>d(x.id),disabled:r,className:"text-blue-600 hover:text-blue-800 disabled:opacity-50",children:o.has(x.id)?a.jsx(pn,{className:"w-5 h-5"}):a.jsx(yn,{className:"w-5 h-5"})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-200",children:x.actor.pictureUrl?a.jsx("img",{src:x.actor.pictureUrl,alt:x.actor.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(dt,{className:"w-5 h-5 text-gray-400"})})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:x.actor.name}),a.jsx("div",{className:"text-sm text-blue-600 hover:underline",children:a.jsx("a",{href:x.actor.linkedinUrl,target:"_blank",rel:"noopener noreferrer",children:"View Profile"})})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:x.actor.position||"Not specified"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900 max-w-md",children:a.jsx("div",{className:"line-clamp-3",title:x.commentary,children:x.commentary})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-500",children:y(x.createdAt)})})]},x.id))})]})}),e.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Gl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("div",{className:"text-gray-500",children:"No comments found"})]})]})]})},$u=({profiles:e,onBack:t})=>{const r=(n,s)=>{var i,l,c;return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-8 text-white",children:a.jsxs("div",{className:"flex items-start gap-6",children:[a.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-white/20 flex-shrink-0",children:n.profilePicHighQuality||n.profilePic?a.jsx("img",{src:n.profilePicHighQuality||n.profilePic,alt:n.fullName,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(dt,{className:"w-12 h-12 text-white/60"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:n.fullName||`${n.firstName||""} ${n.lastName||""}`.trim()}),a.jsx("p",{className:"text-blue-100 text-lg mb-3",children:n.headline}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-blue-100",children:[(n.addressWithCountry||n.addressCountryOnly||n.addressWithoutCountry)&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ws,{className:"w-4 h-4"}),a.jsx("span",{children:n.addressWithCountry||n.addressCountryOnly||n.addressWithoutCountry})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ze,{className:"w-4 h-4"}),a.jsxs("span",{children:[((i=n.connections)==null?void 0:i.toLocaleString())||"0"," connections"]})]}),n.followers&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ze,{className:"w-4 h-4"}),a.jsxs("span",{children:[n.followers.toLocaleString()," followers"]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-4",children:[a.jsxs("a",{href:n.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[a.jsx(nn,{className:"w-4 h-4"}),"View LinkedIn"]}),n.email&&a.jsxs("a",{href:`mailto:${n.email}`,className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[a.jsx(Lt,{className:"w-4 h-4"}),"Email"]}),n.mobileNumber&&a.jsxs("a",{href:`tel:${n.mobileNumber}`,className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[a.jsx(gn,{className:"w-4 h-4"}),"Call"]}),((l=n.creatorWebsite)==null?void 0:l.link)&&a.jsxs("a",{href:n.creatorWebsite.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[a.jsx(Wi,{className:"w-4 h-4"}),n.creatorWebsite.name||"Website"]})]})]})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[n.about&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(dt,{className:"w-5 h-5 text-blue-600"}),"About"]}),a.jsx("div",{className:"text-gray-700 whitespace-pre-line bg-gray-50 p-4 rounded-lg",children:n.about})]}),(n.jobTitle||n.companyName)&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(tr,{className:"w-5 h-5 text-blue-600"}),"Current Position"]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("div",{className:"font-medium text-gray-900",children:n.jobTitle}),n.companyName&&a.jsxs("div",{className:"text-gray-600 flex items-center gap-2 mt-1",children:[a.jsx(Yo,{className:"w-4 h-4"}),n.companyName]}),n.currentJobDuration&&a.jsxs("div",{className:"text-sm text-gray-500 mt-1 flex items-center gap-2",children:[a.jsx(Xo,{className:"w-4 h-4"}),n.currentJobDuration]}),n.companyIndustry&&a.jsx("div",{className:"text-sm text-gray-500 mt-1",children:n.companyIndustry}),n.companySize&&a.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[n.companySize," employees"]})]})]}),n.experiences&&n.experiences.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(tr,{className:"w-5 h-5 text-blue-600"}),"Experience (",n.experiences.length,")"]}),a.jsxs("div",{className:"space-y-4",children:[n.experiences.slice(0,5).map((o,u)=>{var d,h;return a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[o.logo&&a.jsx("img",{src:o.logo,alt:"",className:"w-12 h-12 rounded object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900",children:o.title}),a.jsx("div",{className:"text-gray-600",children:o.subtitle}),a.jsx("div",{className:"text-sm text-gray-500",children:o.caption}),o.metadata&&a.jsx("div",{className:"text-sm text-gray-500",children:o.metadata}),o.subComponents&&((d=o.subComponents[0])==null?void 0:d.description)&&a.jsx("div",{className:"mt-2 text-sm text-gray-700",children:(h=o.subComponents[0].description[0])==null?void 0:h.text})]})]})},u)}),n.experiences.length>5&&a.jsxs("div",{className:"text-center text-sm text-gray-500",children:["... and ",n.experiences.length-5," more positions"]})]})]}),n.educations&&n.educations.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(xs,{className:"w-5 h-5 text-blue-600"}),"Education (",n.educations.length,")"]}),a.jsx("div",{className:"space-y-4",children:n.educations.map((o,u)=>{var d;return a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[o.logo&&a.jsx("img",{src:o.logo,alt:"",className:"w-12 h-12 rounded object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:o.title}),a.jsx("div",{className:"text-gray-600",children:o.subtitle}),o.caption&&a.jsx("div",{className:"text-sm text-gray-500",children:o.caption}),o.subComponents&&((d=o.subComponents[0])==null?void 0:d.description)&&a.jsx("div",{className:"mt-2 text-sm text-gray-700",children:o.subComponents[0].description.map((h,m)=>a.jsx("div",{children:h.text},m))})]})]})},u)})})]}),n.skills&&n.skills.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(Et,{className:"w-5 h-5 text-blue-600"}),"Skills (",n.skills.length,")"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.map((o,u)=>a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:o.title},u))})]}),n.licenseAndCertificates&&n.licenseAndCertificates.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(Et,{className:"w-5 h-5 text-blue-600"}),"Certifications (",n.licenseAndCertificates.length,")"]}),a.jsx("div",{className:"space-y-3",children:n.licenseAndCertificates.map((o,u)=>a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[o.logo&&a.jsx("img",{src:o.logo,alt:"",className:"w-10 h-10 rounded object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:o.title}),a.jsx("div",{className:"text-gray-600",children:o.subtitle}),o.caption&&a.jsx("div",{className:"text-sm text-gray-500",children:o.caption}),o.metadata&&a.jsx("div",{className:"text-sm text-gray-500",children:o.metadata})]})]})},u))})]}),n.publications&&n.publications.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(Et,{className:"w-5 h-5 text-blue-600"}),"Publications (",n.publications.length,")"]}),a.jsx("div",{className:"space-y-3",children:n.publications.map((o,u)=>{var d,h;return a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-gray-900",children:o.title}),a.jsx("div",{className:"text-gray-600",children:o.subtitle}),o.subComponents&&((d=o.subComponents[0])==null?void 0:d.description)&&a.jsx("div",{className:"mt-2 text-sm text-gray-700",children:(h=o.subComponents[0].description[0])==null?void 0:h.text})]},u)})})]}),n.volunteerAndAwards&&n.volunteerAndAwards.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(Et,{className:"w-5 h-5 text-blue-600"}),"Volunteer Experience (",n.volunteerAndAwards.length,")"]}),a.jsx("div",{className:"space-y-3",children:n.volunteerAndAwards.map((o,u)=>a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[o.logo&&a.jsx("img",{src:o.logo,alt:"",className:"w-10 h-10 rounded object-cover flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:o.title}),a.jsx("div",{className:"text-gray-600",children:o.subtitle}),a.jsx("div",{className:"text-sm text-gray-500",children:o.caption})]})]})},u))})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Contact Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[n.email&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Lt,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-gray-700",children:n.email})]}),n.mobileNumber&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gn,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-gray-700",children:n.mobileNumber})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nn,{className:"w-4 h-4 text-blue-600"}),a.jsx("a",{href:n.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"LinkedIn Profile"})]}),((c=n.creatorWebsite)==null?void 0:c.link)&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wi,{className:"w-4 h-4 text-blue-600"}),a.jsx("a",{href:n.creatorWebsite.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:n.creatorWebsite.name||"Personal Website"})]})]})]})]})]},s)};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(dt,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Profile Details (",e.length,")"]}),a.jsx("p",{className:"text-gray-600",children:"Detailed information for scraped LinkedIn profiles"})]})]}),a.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx(ma,{className:"w-4 h-4"}),"Back"]})]})}),a.jsx("div",{className:"space-y-8",children:e.map((n,s)=>r(n,s))}),e.length===0&&a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:[a.jsx(dt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No profiles found"}),a.jsx("p",{className:"text-gray-600",children:"No profile details to display"})]})]})},Dy=({profiles:e,onViewDetails:t,onUpdateProfile:r,onExport:n,onStoreSelectedProfiles:s,isUpdating:i=!1,showActions:l=!0,showStoreOption:c=!1})=>{const[o,u]=T.useState(new Set(["select","picture","name","headline","location","connections","company","actions"])),[d,h]=T.useState(""),[m,y]=T.useState(new Set),[x,w]=T.useState(!1),[_,g]=T.useState([]),[f,p]=T.useState(""),[b,v]=T.useState(!1),[k,C]=T.useState({hasEmail:!1,hasPhone:!1,hasWebsite:!1,hasSkills:!1,hasExperience:!1,hasEducation:!1,hasCertifications:!1,hasAbout:!1,hasLocation:!1,hasCurrentJob:!1}),[P,G]=T.useState(!1),U=[{key:"select",label:"Select"},{key:"picture",label:"Picture"},{key:"name",label:"Name"},{key:"headline",label:"Headline"},{key:"location",label:"Location"},{key:"connections",label:"Connections"},{key:"followers",label:"Followers"},{key:"company",label:"Current Company"},{key:"jobTitle",label:"Job Title"},{key:"industry",label:"Industry"},{key:"experience",label:"Experience"},{key:"education",label:"Education"},{key:"skills",label:"Top Skills"},{key:"email",label:"Email"},{key:"phone",label:"Phone"},{key:"duration",label:"Current Role Duration"},{key:"website",label:"Website"},{key:"actions",label:"Actions"}],X=T.useMemo(()=>{const S=new Set;return e.filter(L=>{const Q=L.linkedinUrl||L.linkedin_url;return S.has(Q)?!1:(S.add(Q),!0)})},[e]),W=T.useMemo(()=>{let S=X;return d&&(S=S.filter(L=>`${L.fullName||""} ${L.headline||""} ${L.addressWithCountry||""} ${L.companyName||""}`.toLowerCase().includes(d.toLowerCase()))),S=S.filter(L=>{var Q;return!(k.hasEmail&&!L.email||k.hasPhone&&!L.mobileNumber||k.hasWebsite&&!((Q=L.creatorWebsite)!=null&&Q.link)||k.hasSkills&&(!L.skills||L.skills.length===0)||k.hasExperience&&(!L.experiences||L.experiences.length===0)||k.hasEducation&&(!L.educations||L.educations.length===0)||k.hasCertifications&&(!L.licenseAndCertificates||L.licenseAndCertificates.length===0)||k.hasAbout&&!L.about||k.hasLocation&&!L.addressWithCountry&&!L.addressCountryOnly&&!L.addressWithoutCountry||k.hasCurrentJob&&!L.jobTitle&&!L.companyName)}),S},[X,d,k]),$=S=>{const L=new Set(o);L.has(S)?L.delete(S):L.add(S),u(L)},V=S=>{C(L=>({...L,[S]:!L[S]}))},re=()=>{C({hasEmail:!1,hasPhone:!1,hasWebsite:!1,hasSkills:!1,hasExperience:!1,hasEducation:!1,hasCertifications:!1,hasAbout:!1,hasLocation:!1,hasCurrentJob:!1})},J=()=>Object.values(k).filter(Boolean).length,te=S=>{const L=new Set(m);L.has(S)?L.delete(S):L.add(S),y(L)},A=()=>{m.size===W.length?y(new Set):y(new Set(W.map(S=>S.linkedinUrl)))},R=()=>{f.trim()&&!_.includes(f.trim())&&(g(S=>[...S,f.trim()]),p(""))},j=S=>{g(L=>L.filter(Q=>Q!==S))},O=async()=>{if(m.size!==0){v(!0);try{const S=W.filter(L=>m.has(L.linkedinUrl));s&&await s(S,_),w(!1),y(new Set),g([])}catch(S){console.error("Error storing profiles:",S)}finally{v(!1)}}},N=(S,L)=>{var Q,ye,fe,or,cr;switch(L){case"select":return a.jsx("button",{onClick:()=>te(S.linkedinUrl),className:"text-blue-600 hover:text-blue-800",children:m.has(S.linkedinUrl)?a.jsx(pn,{className:"w-5 h-5"}):a.jsx(yn,{className:"w-5 h-5"})});case"picture":return a.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:S.profilePic?a.jsx("img",{src:S.profilePic,alt:S.fullName,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(dt,{className:"w-6 h-6 text-gray-400"})})});case"name":return a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900 truncate",children:S.fullName||`${S.firstName||""} ${S.lastName||""}`.trim()}),a.jsx("div",{className:"text-sm text-blue-600 hover:underline",children:a.jsxs("a",{href:S.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1",children:[a.jsx(nn,{className:"w-3 h-3"}),"LinkedIn Profile"]})})]});case"headline":return a.jsx("div",{className:"max-w-xs",children:a.jsx("div",{className:"text-sm text-gray-900 line-clamp-2",title:S.headline,children:S.headline||"No headline"})});case"location":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(ws,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:S.addressWithCountry||S.addressCountryOnly||"Not specified"})]});case"connections":return a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(ze,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"font-medium",children:((Q=S.connections)==null?void 0:Q.toLocaleString())||"0"})]});case"followers":return a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(ze,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"font-medium",children:((ye=S.followers)==null?void 0:ye.toLocaleString())||"0"})]});case"company":return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yo,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:S.companyName||"Not specified"}),S.companySize&&a.jsxs("div",{className:"text-xs text-gray-500",children:[S.companySize," employees"]})]})]});case"jobTitle":return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tr,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-gray-900 truncate",children:S.jobTitle||"Not specified"})]});case"industry":return a.jsx("span",{className:"text-sm text-gray-600",children:S.companyIndustry||"Not specified"});case"experience":return a.jsxs("div",{className:"text-sm text-gray-600",children:[((fe=S.experiences)==null?void 0:fe.length)||0," positions"]});case"education":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(xs,{className:"w-4 h-4"}),a.jsxs("span",{children:[((or=S.educations)==null?void 0:or.length)||0," schools"]})]});case"skills":return a.jsx("div",{className:"max-w-xs",children:S.skills&&S.skills.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[S.skills.slice(0,3).map((Tr,Ar)=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:Tr.title},Ar)),S.skills.length>3&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",S.skills.length-3," more"]})]}):a.jsx("span",{className:"text-sm text-gray-500",children:"No skills listed"})});case"email":return S.email?a.jsxs("a",{href:`mailto:${S.email}`,className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(Lt,{className:"w-4 h-4"}),S.email]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"phone":return S.mobileNumber?a.jsxs("a",{href:`tel:${S.mobileNumber}`,className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(gn,{className:"w-4 h-4"}),S.mobileNumber]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"duration":return a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[a.jsx(Xo,{className:"w-4 h-4"}),a.jsx("span",{children:S.currentJobDuration||"Not specified"})]});case"website":return(cr=S.creatorWebsite)!=null&&cr.link?a.jsxs("a",{href:S.creatorWebsite.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(nn,{className:"w-4 h-4"}),S.creatorWebsite.name||"Website"]}):a.jsx("span",{className:"text-sm text-gray-500",children:"Not available"});case"actions":return a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>t(S),className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[a.jsx(mt,{className:"w-4 h-4"}),"Details"]}),l&&r&&a.jsxs("button",{onClick:()=>r(S.linkedinUrl),disabled:i,className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-gray-600 text-white rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx(_f,{className:`w-4 h-4 ${i?"animate-spin":""}`}),"Update"]})]});default:return null}};return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Profile Results (",W.length,")",m.size>0&&a.jsxs("span",{className:"ml-2 text-sm font-normal text-blue-600",children:["(",m.size," selected)"]}),J()>0&&a.jsxs("span",{className:"ml-2 text-sm font-normal text-green-600",children:["(",J()," filters active)"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Filter profiles...",value:d,onChange:S=>h(S.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>G(!P),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${J()>0?"border-green-500 bg-green-50 text-green-700":"border-gray-300 hover:bg-gray-50"}`,children:[a.jsx(Bi,{className:"w-4 h-4"}),"Data Filters",J()>0&&a.jsx("span",{className:"bg-green-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:J()}),a.jsx(Zo,{className:`w-4 h-4 transition-transform ${P?"rotate-180":""}`})]}),P&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Show profiles with:"}),a.jsx("button",{onClick:re,className:"text-xs text-gray-500 hover:text-gray-700",children:"Clear all"})]}),a.jsx("div",{className:"space-y-2",children:[{key:"hasEmail",label:"Email address",icon:Lt},{key:"hasPhone",label:"Phone number",icon:gn},{key:"hasWebsite",label:"Website",icon:nn},{key:"hasLocation",label:"Location",icon:ws},{key:"hasCurrentJob",label:"Current job",icon:tr},{key:"hasAbout",label:"About section",icon:ze},{key:"hasSkills",label:"Skills",icon:Et},{key:"hasExperience",label:"Experience",icon:tr},{key:"hasEducation",label:"Education",icon:xs},{key:"hasCertifications",label:"Certifications",icon:Et}].map(({key:S,label:L,icon:Q})=>a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[a.jsx("input",{type:"checkbox",checked:k[S],onChange:()=>V(S),className:"text-blue-600 focus:ring-blue-500"}),a.jsx(Q,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-700",children:L})]},S))})]})]}),n&&a.jsxs("select",{onChange:S=>n(S.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"",children:[a.jsx("option",{value:"",disabled:!0,children:"Export as..."}),a.jsx("option",{value:"csv",children:"CSV"}),a.jsx("option",{value:"json",children:"JSON"}),a.jsx("option",{value:"xlsx",children:"Excel"})]})]})]}),a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[m.size===W.length&&W.length>0?a.jsx(pn,{className:"w-4 h-4"}):a.jsx(yn,{className:"w-4 h-4"}),m.size===W.length&&W.length>0?"Deselect All":"Select All"]}),a.jsxs("span",{className:"text-sm text-gray-600",children:[m.size," of ",W.length," selected"]})]}),c&&m.size>0&&a.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(kf,{className:"w-4 h-4"}),"Store Selected Profiles (",m.size,")"]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:U.map(S=>a.jsxs("button",{onClick:()=>$(S.key),className:`inline-flex items-center gap-1 px-3 py-1 text-sm rounded-full transition-colors ${o.has(S.key)?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[o.has(S.key)?a.jsx(mt,{className:"w-3 h-3"}):a.jsx(Tt,{className:"w-3 h-3"}),S.label,o.has(S.key)&&S.key!=="actions"&&S.key!=="select"&&a.jsx(Vi,{className:"w-3 h-3 ml-1 hover:text-red-500"})]},S.key))})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsx("tr",{children:U.filter(S=>o.has(S.key)).map(S=>a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.label},S.key))})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:W.map((S,L)=>a.jsx("tr",{className:`hover:bg-gray-50 ${m.has(S.linkedinUrl)?"bg-blue-50":""}`,children:U.filter(Q=>o.has(Q.key)).map(Q=>a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N(S,Q.key)},Q.key))},S.linkedinUrl||L))})]})}),W.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(dt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("div",{className:"text-gray-500",children:J()>0?"No profiles match the selected filters":"No profiles found"}),J()>0&&a.jsx("button",{onClick:re,className:"mt-2 text-blue-600 hover:text-blue-800 text-sm",children:"Clear all filters"})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Store ",m.size," Profiles"]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Tags (optional)"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:f,onChange:S=>p(S.target.value),onKeyPress:S=>S.key==="Enter"&&R(),placeholder:"Enter tag name",className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),a.jsx("button",{onClick:R,className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:a.jsx(bf,{className:"w-4 h-4"})})]}),_.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(S=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[a.jsx(Nf,{className:"w-3 h-3"}),S,a.jsx("button",{onClick:()=>j(S),className:"hover:text-red-600",children:a.jsx(Vi,{className:"w-3 h-3"})})]},S))})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>w(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:O,disabled:b,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:b?"Storing...":"Store Profiles"})]})]})})]})},Uy=({userId:e,selectedKeyId:t,onKeySelect:r})=>{const[n,s]=T.useState([]),[i,l]=T.useState(!1),[c,o]=T.useState(!1),[u,d]=T.useState(null),[h,m]=T.useState({}),[y,x]=T.useState({key_name:"",api_key:""});T.useEffect(()=>{e&&w()},[e]);const w=async()=>{try{const{data:v,error:k}=await le.from("apify_keys").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(k)throw k;if(s(v||[]),!t&&v&&v.length>0){const C=v.find(P=>P.is_active)||v[0];r(C)}}catch(v){console.error("Error loading API keys:",v)}},_=async()=>{if(!(!y.key_name||!y.api_key)){l(!0);try{if(u){const{data:v,error:k}=await le.from("apify_keys").update({key_name:y.key_name,api_key:y.api_key,updated_at:new Date().toISOString()}).eq("id",u.id).select().single();if(k)throw k;s(C=>C.map(P=>P.id===u.id?v:P))}else{const{data:v,error:k}=await le.from("apify_keys").insert([{user_id:e,key_name:y.key_name,api_key:y.api_key}]).select().single();if(k)throw k;s(C=>[v,...C]),r(v)}x({key_name:"",api_key:""}),o(!1),d(null)}catch(v){console.error("Error saving API key:",v),alert("Error saving API key. Please try again.")}finally{l(!1)}}},g=async v=>{if(confirm("Are you sure you want to delete this API key?"))try{const{error:k}=await le.from("apify_keys").delete().eq("id",v);if(k)throw k;if(s(C=>C.filter(P=>P.id!==v)),t===v&&n.length>1){const C=n.filter(P=>P.id!==v);C.length>0&&r(C[0])}}catch(k){console.error("Error deleting API key:",k),alert("Error deleting API key. Please try again.")}},f=v=>{m(k=>({...k,[v]:!k[v]}))},p=v=>{d(v),x({key_name:v.key_name,api_key:v.api_key}),o(!0)},b=()=>{d(null),x({key_name:"",api_key:""}),o(!1)};return a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Apify API Keys"}),a.jsxs("button",{onClick:()=>o(!c),className:"flex items-center gap-2 px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:[a.jsx(bf,{className:"w-4 h-4"}),"Add Key"]})]}),c&&a.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:u?"Edit API Key":"Add New API Key"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{type:"text",placeholder:"Key Name (e.g., 'Main Key', 'Backup Key')",value:y.key_name,onChange:v=>x(k=>({...k,key_name:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),a.jsx("input",{type:"password",placeholder:"Apify API Key",value:y.api_key,onChange:v=>x(k=>({...k,api_key:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:_,disabled:i||!y.key_name||!y.api_key,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Saving...":u?"Update Key":"Add Key"}),a.jsx("button",{onClick:b,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]}),a.jsx("div",{className:"space-y-3",children:n.map(v=>a.jsxs("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${t===v.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>r(v),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Tu,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:v.key_name}),a.jsx("div",{className:"text-sm text-gray-500 font-mono",children:h[v.id]?v.api_key:"•".repeat(Math.min(v.api_key.length,20))})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:k=>{k.stopPropagation(),f(v.id)},className:"p-1 text-gray-400 hover:text-gray-600",children:h[v.id]?a.jsx(Tt,{className:"w-4 h-4"}):a.jsx(mt,{className:"w-4 h-4"})}),a.jsx("button",{onClick:k=>{k.stopPropagation(),p(v)},className:"p-1 text-gray-400 hover:text-blue-600",children:a.jsx(wf,{className:"w-4 h-4"})}),a.jsx("button",{onClick:k=>{k.stopPropagation(),g(v.id)},className:"p-1 text-gray-400 hover:text-red-600",children:a.jsx(Sf,{className:"w-4 h-4"})})]})]}),t===v.id&&a.jsx("div",{className:"mt-2 text-xs text-blue-600 font-medium",children:"✓ Currently selected for scraping"})]},v.id))}),n.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Tu,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No API keys found. Add your first Apify API key to get started."})]})]})},zy=({user:e,onOpenProfile:t})=>{var d;const[r,n]=T.useState(!1),s=T.useRef(null);T.useEffect(()=>{const h=m=>{s.current&&!s.current.contains(m.target)&&n(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]);const i=async()=>{try{await le.auth.signOut()}catch(h){console.error("Error signing out:",h)}},l=()=>{n(!1),t&&t()},c=()=>{var h,m,y;return(h=e==null?void 0:e.user_metadata)!=null&&h.full_name?e.user_metadata.full_name:(m=e==null?void 0:e.user_metadata)!=null&&m.first_name&&((y=e==null?void 0:e.user_metadata)!=null&&y.last_name)?`${e.user_metadata.first_name} ${e.user_metadata.last_name}`:e!=null&&e.email?e.email.split("@")[0]:"User"},o=()=>{const h=c(),m=h.split(" ");return m.length>=2?`${m[0][0]}${m[1][0]}`.toUpperCase():h.substring(0,2).toUpperCase()},u=()=>{var h;return((h=e==null?void 0:e.user_metadata)==null?void 0:h.avatar_url)||null};return a.jsxs("div",{className:"relative",ref:s,children:[a.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-blue-600 flex items-center justify-center text-white text-sm font-medium",children:u()?a.jsx("img",{src:u(),alt:"Profile",className:"w-full h-full object-cover"}):o()}),a.jsxs("div",{className:"hidden sm:block text-left",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:c()}),a.jsx("div",{className:"text-xs text-gray-500",children:e==null?void 0:e.email})]}),a.jsx(Zo,{className:`w-4 h-4 text-gray-400 transition-transform ${r?"rotate-180":""}`})]}),r&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-blue-600 flex items-center justify-center text-white font-medium",children:u()?a.jsx("img",{src:u(),alt:"Profile",className:"w-full h-full object-cover"}):o()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:c()}),a.jsx("div",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.email}),((d=e==null?void 0:e.user_metadata)==null?void 0:d.job_title)&&a.jsx("div",{className:"text-xs text-gray-400 truncate",children:e.user_metadata.job_title})]})]})}),a.jsx("div",{className:"py-2",children:a.jsxs("button",{onClick:l,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[a.jsx(dt,{className:"w-4 h-4"}),"View Profile"]})}),a.jsx("div",{className:"border-t border-gray-100 pt-2",children:a.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[a.jsx(Cy,{className:"w-4 h-4"}),"Sign Out"]})})]})]})},My=({user:e,onBack:t})=>{const[r,n]=T.useState("profile"),[s,i]=T.useState(!1),[l,c]=T.useState(!1),[o,u]=T.useState(!1),[d,h]=T.useState(!1),[m,y]=T.useState(null),[x,w]=T.useState({current:!1,new:!1,confirm:!1}),[_,g]=T.useState({firstName:"",lastName:"",email:"",profileImage:"",bio:"",company:"",jobTitle:"",location:"",website:"",phone:""}),[f,p]=T.useState({currentPassword:"",newPassword:"",confirmPassword:""});T.useEffect(()=>{b()},[e]);const b=async()=>{var $,V,re,J,te,A,R,j,O;c(!0);try{const N={firstName:(($=e==null?void 0:e.user_metadata)==null?void 0:$.first_name)||"",lastName:((V=e==null?void 0:e.user_metadata)==null?void 0:V.last_name)||"",email:(e==null?void 0:e.email)||"",profileImage:((re=e==null?void 0:e.user_metadata)==null?void 0:re.avatar_url)||"",bio:((J=e==null?void 0:e.user_metadata)==null?void 0:J.bio)||"",company:((te=e==null?void 0:e.user_metadata)==null?void 0:te.company)||"",jobTitle:((A=e==null?void 0:e.user_metadata)==null?void 0:A.job_title)||"",location:((R=e==null?void 0:e.user_metadata)==null?void 0:R.location)||"",website:((j=e==null?void 0:e.user_metadata)==null?void 0:j.website)||"",phone:((O=e==null?void 0:e.user_metadata)==null?void 0:O.phone)||""};g(N)}catch(N){console.error("Error loading profile:",N),y({type:"error",text:"Failed to load profile data"})}finally{c(!1)}},v=($,V)=>{g(re=>({...re,[$]:V}))},k=($,V)=>{p(re=>({...re,[$]:V}))},C=async $=>{var re;const V=(re=$.target.files)==null?void 0:re[0];if(V){if(!V.type.startsWith("image/")){y({type:"error",text:"Please select a valid image file"});return}if(V.size>5*1024*1024){y({type:"error",text:"Image size must be less than 5MB"});return}h(!0);try{const J=new FileReader;J.onloadend=()=>{const te=J.result;g(A=>({...A,profileImage:te})),h(!1)},J.onerror=()=>{y({type:"error",text:"Failed to process image"}),h(!1)},J.readAsDataURL(V)}catch(J){console.error("Error uploading image:",J),y({type:"error",text:"Failed to upload image"}),h(!1)}}},P=async()=>{u(!0),y(null);try{const{error:$}=await le.auth.updateUser({email:_.email,data:{first_name:_.firstName,last_name:_.lastName,full_name:`${_.firstName} ${_.lastName}`,avatar_url:_.profileImage,bio:_.bio,company:_.company,job_title:_.jobTitle,location:_.location,website:_.website,phone:_.phone}});if($)throw $;y({type:"success",text:"Profile updated successfully!"}),i(!1)}catch($){console.error("Error updating profile:",$),y({type:"error",text:$ instanceof Error?$.message:"Failed to update profile"})}finally{u(!1)}},G=$=>{const V=$.length>=8,re=/[A-Z]/.test($),J=/[a-z]/.test($),te=/\d/.test($),A=/[!@#$%^&*(),.?":{}|<>]/.test($);return{minLength:V,hasUpperCase:re,hasLowerCase:J,hasNumbers:te,hasSpecialChar:A,isValid:V&&re&&J&&te&&A}},U=async()=>{if(u(!0),y(null),!f.currentPassword){y({type:"error",text:"Please enter your current password"}),u(!1);return}if(!G(f.newPassword).isValid){y({type:"error",text:"New password does not meet security requirements"}),u(!1);return}if(f.newPassword!==f.confirmPassword){y({type:"error",text:"New passwords do not match"}),u(!1);return}try{const{error:V}=await le.auth.updateUser({password:f.newPassword});if(V)throw V;y({type:"success",text:"Password changed successfully!"}),p({currentPassword:"",newPassword:"",confirmPassword:""})}catch(V){console.error("Error changing password:",V),y({type:"error",text:V instanceof Error?V.message:"Failed to change password"})}finally{u(!1)}},X=()=>{var J,te;const $=_.firstName||((J=e==null?void 0:e.user_metadata)==null?void 0:J.first_name)||"",V=_.lastName||((te=e==null?void 0:e.user_metadata)==null?void 0:te.last_name)||"";return $&&V?`${$[0]}${V[0]}`.toUpperCase():(_.email||(e==null?void 0:e.email)||"").substring(0,2).toUpperCase()},W=G(f.newPassword);return l?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ut,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),a.jsx("div",{className:"text-gray-600",children:"Loading profile..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(ma,{className:"w-5 h-5 text-gray-600"})}),a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Profile Settings"})]}),r==="profile"&&a.jsx("div",{className:"flex gap-3",children:s?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{i(!1),b()},className:"px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:P,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o?a.jsx(ut,{className:"w-4 h-4 animate-spin"}):a.jsx(kf,{className:"w-4 h-4"}),o?"Saving...":"Save Changes"]})]}):a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(wf,{className:"w-4 h-4"}),"Edit Profile"]})})]})})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m&&a.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center gap-3 ${m.type==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[m.type==="success"?a.jsx(mn,{className:"w-5 h-5"}):a.jsx(fn,{className:"w-5 h-5"}),a.jsx("span",{children:m.text}),a.jsx("button",{onClick:()=>y(null),className:"ml-auto hover:opacity-70",children:a.jsx(Vi,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"flex",children:[a.jsxs("button",{onClick:()=>n("profile"),className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors ${r==="profile"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[a.jsx(dt,{className:"w-5 h-5"}),"Profile Information"]}),a.jsxs("button",{onClick:()=>n("security"),className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors ${r==="security"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[a.jsx(jf,{className:"w-5 h-5"}),"Security"]})]})}),a.jsxs("div",{className:"p-8",children:[r==="profile"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center",children:_.profileImage?a.jsx("img",{src:_.profileImage,alt:"Profile",className:"w-full h-full object-cover"}):a.jsx("div",{className:"text-2xl font-bold text-gray-600",children:X()})}),s&&a.jsxs("label",{className:"absolute bottom-0 right-0 p-2 bg-blue-600 text-white rounded-full cursor-pointer hover:bg-blue-700 transition-colors",children:[d?a.jsx(ut,{className:"w-4 h-4 animate-spin"}):a.jsx(Sy,{className:"w-4 h-4"}),a.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"hidden",disabled:d})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[_.firstName," ",_.lastName]}),a.jsx("p",{className:"text-gray-600",children:_.email}),_.jobTitle&&a.jsx("p",{className:"text-sm text-gray-500",children:_.jobTitle})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),a.jsx("input",{type:"text",value:_.firstName,onChange:$=>v("firstName",$.target.value),disabled:!s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),a.jsx("input",{type:"text",value:_.lastName,onChange:$=>v("lastName",$.target.value),disabled:!s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:_.email,onChange:$=>v("email",$.target.value),disabled:!s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Title"}),a.jsx("input",{type:"text",value:_.jobTitle,onChange:$=>v("jobTitle",$.target.value),disabled:!s,placeholder:"e.g. Software Engineer",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),a.jsx("input",{type:"text",value:_.company,onChange:$=>v("company",$.target.value),disabled:!s,placeholder:"e.g. Acme Corp",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),a.jsx("input",{type:"text",value:_.location,onChange:$=>v("location",$.target.value),disabled:!s,placeholder:"e.g. San Francisco, CA",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:_.phone,onChange:$=>v("phone",$.target.value),disabled:!s,placeholder:"e.g. +1 (555) 123-4567",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),a.jsx("input",{type:"url",value:_.website,onChange:$=>v("website",$.target.value),disabled:!s,placeholder:"e.g. https://yourwebsite.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),a.jsx("textarea",{value:_.bio,onChange:$=>v("bio",$.target.value),disabled:!s,rows:4,placeholder:"Tell us about yourself...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500 transition-colors resize-none"})]})]})]}),r==="security"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),a.jsxs("div",{className:"space-y-6 max-w-md",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:x.current?"text":"password",value:f.currentPassword,onChange:$=>k("currentPassword",$.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter current password"}),a.jsx("button",{type:"button",onClick:()=>w($=>({...$,current:!$.current})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x.current?a.jsx(Tt,{className:"w-5 h-5"}):a.jsx(mt,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:x.new?"text":"password",value:f.newPassword,onChange:$=>k("newPassword",$.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter new password"}),a.jsx("button",{type:"button",onClick:()=>w($=>({...$,new:!$.new})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x.new?a.jsx(Tt,{className:"w-5 h-5"}):a.jsx(mt,{className:"w-5 h-5"})})]}),f.newPassword&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx("div",{className:"text-xs text-gray-600",children:"Password must contain:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:`flex items-center gap-1 ${W.minLength?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${W.minLength?"bg-green-600":"bg-gray-300"}`}),"8+ characters"]}),a.jsxs("div",{className:`flex items-center gap-1 ${W.hasUpperCase?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${W.hasUpperCase?"bg-green-600":"bg-gray-300"}`}),"Uppercase letter"]}),a.jsxs("div",{className:`flex items-center gap-1 ${W.hasLowerCase?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${W.hasLowerCase?"bg-green-600":"bg-gray-300"}`}),"Lowercase letter"]}),a.jsxs("div",{className:`flex items-center gap-1 ${W.hasNumbers?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${W.hasNumbers?"bg-green-600":"bg-gray-300"}`}),"Number"]}),a.jsxs("div",{className:`flex items-center gap-1 ${W.hasSpecialChar?"text-green-600":"text-gray-400"} col-span-2`,children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${W.hasSpecialChar?"bg-green-600":"bg-gray-300"}`}),"Special character (!@#$%^&*)"]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:x.confirm?"text":"password",value:f.confirmPassword,onChange:$=>k("confirmPassword",$.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Confirm new password"}),a.jsx("button",{type:"button",onClick:()=>w($=>({...$,confirm:!$.confirm})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x.confirm?a.jsx(Tt,{className:"w-5 h-5"}):a.jsx(mt,{className:"w-5 h-5"})})]}),f.confirmPassword&&f.newPassword!==f.confirmPassword&&a.jsx("div",{className:"mt-2 text-xs text-red-600",children:"Passwords do not match"})]}),a.jsxs("button",{onClick:U,disabled:o||!f.currentPassword||!W.isValid||f.newPassword!==f.confirmPassword,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o?a.jsx(ut,{className:"w-4 h-4 animate-spin"}):a.jsx(vs,{className:"w-4 h-4"}),o?"Changing Password...":"Change Password"]})]})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Information"}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Account Created"}),a.jsx("div",{className:"text-sm text-gray-600",children:e!=null&&e.created_at?new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown"})]})}),a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Last Sign In"}),a.jsx("div",{className:"text-sm text-gray-600",children:e!=null&&e.last_sign_in_at?new Date(e.last_sign_in_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown"})]})}),a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Email Verified"}),a.jsx("div",{className:"text-sm text-gray-600",children:e!=null&&e.email_confirmed_at?a.jsx("span",{className:"text-green-600",children:"✓ Verified"}):a.jsx("span",{className:"text-amber-600",children:"⚠ Not verified"})})]})})]})]})]})]})]})]})]})},Fy=({jobs:e})=>{const t=s=>{switch(s){case"completed":return a.jsx(mn,{className:"w-5 h-5 text-green-500"});case"failed":return a.jsx(Py,{className:"w-5 h-5 text-red-500"});case"running":return a.jsx(ut,{className:"w-5 h-5 text-blue-500 animate-spin"});default:return a.jsx(vf,{className:"w-5 h-5 text-yellow-500"})}},r=s=>{const i="inline-flex px-2 py-1 text-xs font-medium rounded-full";switch(s){case"completed":return`${i} bg-green-100 text-green-800`;case"failed":return`${i} bg-red-100 text-red-800`;case"running":return`${i} bg-blue-100 text-blue-800`;default:return`${i} bg-yellow-100 text-yellow-800`}},n=s=>{switch(s){case"post_comments":return"Post Comments";case"profile_details":return"Profile Details";case"mixed":return"Mixed (Post + Profiles)";default:return s}};return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Scraping Jobs (",e.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"URL"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Results"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(s=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[t(s.status),a.jsx("span",{className:r(s.status),children:s.status||"pending"})]}),s.error_message&&a.jsxs("div",{className:"text-xs text-red-600 mt-1",title:s.error_message,children:["Error: ",s.error_message.substring(0,50),"..."]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm font-medium text-gray-900",children:n(s.job_type)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"max-w-xs",children:a.jsx("a",{href:s.input_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline truncate block",title:s.input_url,children:s.input_url})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900",children:s.results_count!==null?s.results_count.toLocaleString():"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-500",children:s.created_at?new Date(s.created_at).toLocaleString():"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-500",children:s.completed_at?new Date(s.completed_at).toLocaleString():"-"})})]},s.id))})]})}),e.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"text-gray-500",children:"No scraping jobs yet"})})]})};async function ri(e,t={},r=3){for(let n=0;n<r;n++)try{const s=new AbortController,i=setTimeout(()=>s.abort(),6e4),l=await fetch(e,{...t,signal:s.signal});if(clearTimeout(i),l.ok)return l;if(l.status>=400&&l.status<500)throw new Error(`Apify API error ${l.status}: ${l.statusText}`);if(n===r-1)throw new Error(`Apify API error ${l.status}: ${l.statusText}`)}catch(s){if(s instanceof Error)if(s.name==="AbortError"){if(n===r-1)throw new Error("Apify API request timeout. The service may be slow to respond. Please try again.")}else if(s.message.includes("Failed to fetch")){if(n===r-1)throw new Error("Cannot reach Apify API. Please check your internet connection and try again.")}else throw s;n<r-1&&await new Promise(i=>setTimeout(i,Math.pow(2,n)*1e3))}throw new Error("Max retries exceeded for Apify API call")}const ni=e=>({async scrapePostComments(t){try{const n=await(await ri("https://api.apify.com/v2/acts/ZI6ykbLlGS3APaPE8/runs",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({posts:[t]})})).json();return await this.waitForRunCompletion(n.data.id),n.data.defaultDatasetId}catch(r){throw console.error("Error scraping post comments:",r),r instanceof Error?new Error(`Failed to scrape post comments: ${r.message}`):new Error("Failed to scrape post comments: Unknown error")}},async scrapeProfiles(t){try{const n=await(await ri("https://api.apify.com/v2/acts/2SyF0bVxmgGr8IVCZ/runs",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({profileUrls:t})})).json();return await this.waitForRunCompletion(n.data.id),n.data.defaultDatasetId}catch(r){throw console.error("Error scraping profiles:",r),r instanceof Error?new Error(`Failed to scrape profiles: ${r.message}`):new Error("Failed to scrape profiles: Unknown error")}},async waitForRunCompletion(t){const s=Date.now();for(;Date.now()-s<6e5;)try{const i=await this.checkRunStatus(t);if(i==="SUCCEEDED")return;if(i==="FAILED"||i==="ABORTED")throw new Error(`Apify run ${i.toLowerCase()}`);await new Promise(l=>setTimeout(l,5e3))}catch(i){if(console.error("Error checking run status:",i),Date.now()-s>=595e3)throw i;await new Promise(l=>setTimeout(l,5e3))}throw new Error("Apify run timed out after 10 minutes")},async getDatasetItems(t){try{return await(await ri(`https://api.apify.com/v2/datasets/${t}/items`,{headers:{Authorization:`Bearer ${e}`}})).json()}catch(r){throw console.error("Error fetching dataset items:",r),r instanceof Error?new Error(`Failed to fetch dataset items: ${r.message}`):new Error("Failed to fetch dataset items: Unknown error")}},async checkRunStatus(t){try{return(await(await ri(`https://api.apify.com/v2/actor-runs/${t}`,{headers:{Authorization:`Bearer ${e}`}})).json()).data.status}catch(r){throw console.error("Error checking run status:",r),r instanceof Error?new Error(`Failed to check run status: ${r.message}`):new Error("Failed to check run status: Unknown error")}}}),Ou=(e,t,r="linkedin_data",n)=>{let s=e;switch(t){case"csv":Iu(s,r);break;case"json":By(s,r);break;case"xlsx":Iu(s,r);break;default:console.error("Unsupported export format:",t)}},Iu=(e,t)=>{if(e.length===0)return;const r=e.map(i=>{var c,o,u,d,h,m,y,x,w,_,g,f,p,b,v,k,C,P,G,U,X,W,$,V,re,J,te,A,R,j;const l=i.profile_data||{};return{id:i.id,linkedin_url:i.linkedin_url||l.linkedinUrl,public_identifier:l.publicIdentifier||"",first_name:l.firstName||"",last_name:l.lastName||"",full_name:l.fullName||`${l.firstName||""} ${l.lastName||""}`.trim(),headline:l.headline||"",about:l.about||"",address_with_country:l.addressWithCountry||"",address_country_only:l.addressCountryOnly||"",address_without_country:l.addressWithoutCountry||"",connections:l.connections||0,followers:l.followers||0,job_title:l.jobTitle||"",company_name:l.companyName||"",company_industry:l.companyIndustry||"",company_website:l.companyWebsite||"",company_linkedin:l.companyLinkedin||"",company_founded_in:l.companyFoundedIn||"",company_size:l.companySize||"",current_job_duration:l.currentJobDuration||"",current_job_duration_years:l.currentJobDurationInYrs||0,email:l.email||"",mobile_number:l.mobileNumber||"",profile_pic:l.profilePic||"",profile_pic_high_quality:l.profilePicHighQuality||"",creator_website_name:((c=l.creatorWebsite)==null?void 0:c.name)||"",creator_website_link:((o=l.creatorWebsite)==null?void 0:o.link)||"",experience_count:((u=l.experiences)==null?void 0:u.length)||0,education_count:((d=l.educations)==null?void 0:d.length)||0,skills_count:((h=l.skills)==null?void 0:h.length)||0,certifications_count:((m=l.licenseAndCertificates)==null?void 0:m.length)||0,publications_count:((y=l.publications)==null?void 0:y.length)||0,volunteer_count:((x=l.volunteerAndAwards)==null?void 0:x.length)||0,top_skills:((w=l.skills)==null?void 0:w.slice(0,10).map(O=>O.title).join("; "))||"",latest_experience_title:((g=(_=l.experiences)==null?void 0:_[0])==null?void 0:g.title)||"",latest_experience_company:((b=(p=(f=l.experiences)==null?void 0:f[0])==null?void 0:p.subtitle)==null?void 0:b.split(" · ")[0])||"",latest_experience_duration:((k=(v=l.experiences)==null?void 0:v[0])==null?void 0:k.caption)||"",latest_experience_location:((P=(C=l.experiences)==null?void 0:C[0])==null?void 0:P.metadata)||"",latest_education_school:((U=(G=l.educations)==null?void 0:G[0])==null?void 0:U.title)||"",latest_education_degree:((W=(X=l.educations)==null?void 0:X[0])==null?void 0:W.subtitle)||"",latest_education_period:((V=($=l.educations)==null?void 0:$[0])==null?void 0:V.caption)||"",latest_certification:((J=(re=l.licenseAndCertificates)==null?void 0:re[0])==null?void 0:J.title)||"",latest_certification_issuer:((A=(te=l.licenseAndCertificates)==null?void 0:te[0])==null?void 0:A.subtitle)||"",latest_certification_date:((j=(R=l.licenseAndCertificates)==null?void 0:R[0])==null?void 0:j.caption)||"",open_connection:l.openConnection||!1,urn:l.urn||"",top_skills_by_endorsements:l.topSkillsByEndorsements||"",last_updated:i.last_updated||"",created_at:i.created_at||""}}),n=Object.keys(r[0]),s=[n.join(","),...r.map(i=>n.map(l=>{const c=i[l];return typeof c=="string"&&(c.includes(",")||c.includes('"')||c.includes(`
`))?`"${c.replace(/"/g,'""')}"`:c}).join(","))].join(`
`);Ef(s,`${t}.csv`,"text/csv")},By=(e,t)=>{const r=JSON.stringify(e,null,2);Ef(r,`${t}.json`,"application/json")},Ef=(e,t,r)=>{const n=new Blob([e],{type:r}),s=URL.createObjectURL(n),i=document.createElement("a");i.href=s,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)};function Wy(){const[e,t]=T.useState(null),[r,n]=T.useState(null),[s,i]=T.useState(!0),[l,c]=T.useState([]),[o,u]=T.useState([]),[d,h]=T.useState([]),[m,y]=T.useState(null),[x,w]=T.useState([]),[_,g]=T.useState("scraper"),[f,p]=T.useState("form"),[b,v]=T.useState("form"),[k,C]=T.useState(!1),[P,G]=T.useState(""),[U,X]=T.useState("starting"),[W,$]=T.useState(0),[V,re]=T.useState(""),[J,te]=T.useState(""),[A,R]=T.useState("post_comments");T.useEffect(()=>{(async()=>{const{data:{session:H}}=await le.auth.getSession();if(H!=null&&H.user){t(H.user);const B=await Su(H.user.id);n(B),B&&await j(B.id)}i(!1)})();const{data:{subscription:z}}=le.auth.onAuthStateChange(async(H,B)=>{if(H==="SIGNED_IN"&&(B!=null&&B.user)){t(B.user);const ee=await Su(B.user.id);n(ee),ee&&await j(ee.id)}else H==="SIGNED_OUT"&&(t(null),n(null),c([]),w([]))});return()=>z.unsubscribe()},[]);const j=async D=>{try{const[z,H,B]=await Promise.all([_y(D),hr(),O(D)]);c(H),w(B)}catch(z){console.error("Error loading user data:",z)}},O=async D=>{const{data:z,error:H}=await le.from("scraping_jobs").select("*").eq("user_id",D).order("created_at",{ascending:!1}).limit(50);return H?(console.error("Error loading scraping jobs:",H),[]):z||[]},N=(D,z=0,H="")=>{X(D),$(z),re(H)},S=D=>{G(D.id)},L=async(D,z)=>{if(!r)throw new Error("User not authenticated");const{data:H,error:B}=await le.from("scraping_jobs").insert({user_id:r.id,apify_key_id:P||null,job_type:D,input_url:z,status:"running"}).select().single();if(B)throw B;const ee=await O(r.id);return w(ee),H.id},Q=async(D,z,H,B)=>{if(!r)return;const ee={status:z,...H!==void 0&&{results_count:H},...B&&{error_message:B},...z==="completed"&&{completed_at:new Date().toISOString()}};await le.from("scraping_jobs").update(ee).eq("id",D);const ie=await O(r.id);w(ie)},ye=async(D,z)=>{if(!r){alert("Please sign in to start scraping");return}if(!P){alert("Please select an Apify API key first");return}const{data:H,error:B}=await le.from("apify_keys").select("api_key").eq("id",P).single();if(B||!H){alert("Invalid API key selected");return}C(!0),R(D),te(""),N("starting",0,"Initializing scraping process...");let ee=null;try{ee=await L(D,z);const ie=ni(H.api_key);if(D==="post_comments"){N("scraping_comments",25,"Extracting comments from LinkedIn post...");const gt=await ie.scrapePostComments(z);N("saving_data",75,"Processing comment data...");const Ge=await ie.getDatasetItems(gt);u(Ge),p("comments"),N("completed",100,"Comments extracted successfully!"),await Q(ee,"completed",Ge.length)}else if(D==="profile_details"){N("scraping_profiles",25,"Checking existing profiles in database...");const gt=Array.isArray(z)?z:[z],Ge=await fe(gt,ie,r.id);N("saving_data",75,"Saving profile data..."),h(Ge),v("form"),p("profile-table"),N("completed",100,"Profile details scraped successfully!"),await Q(ee,"completed",Ge.length)}else if(D==="mixed"){N("scraping_comments",20,"Extracting comments from LinkedIn post...");const gt=await ie.scrapePostComments(z),Ge=await ie.getDatasetItems(gt);N("extracting_profiles",40,"Extracting profile URLs from comments...");const Os=Ge.map(pa=>{var ec;return(ec=pa.actor)==null?void 0:ec.linkedinUrl}).filter(Boolean).slice(0,50);if(Os.length>0){N("scraping_profiles",60,`Checking and scraping ${Os.length} profiles...`);const pa=await fe(Os,ie,r.id);N("saving_data",85,"Saving all data..."),h(pa),v("form"),p("profile-table")}N("completed",100,"Mixed scraping completed successfully!"),await Q(ee,"completed",Os.length)}const Qe=await hr();c(Qe)}catch(ie){console.error("Scraping error:",ie);let Qe="Unknown error occurred";ie instanceof Error&&(Qe=ie.message),te(Qe),N("error",0,"Scraping failed"),ee&&await Q(ee,"failed",void 0,Qe)}finally{C(!1)}},fe=async(D,z,H)=>{const B=[],ee=[];let ie=0;N("scraping_profiles",30,"Checking database for existing profiles...");for(const Qe of D){const gt=await by(Qe);gt?(B.push(gt.profile_data),ie++):ee.push(Qe)}if(ee.length>0){N("scraping_profiles",50,`Scraping ${ee.length} new profiles (saved ${ie} API calls)...`);const Qe=await z.scrapeProfiles(ee),gt=await z.getDatasetItems(Qe);N("scraping_profiles",70,"Saving new profiles to database...");for(const Ge of gt)Ge.linkedinUrl&&(await Cu(H,Ge.linkedinUrl,Ge),B.push(Ge))}return N("scraping_profiles",90,`Completed! Saved ${ie} API calls by using cached profiles.`),B},or=async D=>{if(!r||!P){alert("Please ensure you are signed in and have selected an API key");return}const{data:z,error:H}=await le.from("apify_keys").select("api_key").eq("id",P).single();if(H||!z){alert("Invalid API key selected");return}C(!0),R("profile_details"),te(""),N("scraping_profiles",25,`Checking and scraping ${D.length} selected profiles...`);let B=null;try{B=await L("profile_details",D.join(","));const ee=ni(z.api_key),ie=await fe(D,ee,r.id);N("saving_data",75,"Processing profile data..."),h(ie),v("comments"),p("profile-table"),N("completed",100,"Selected profiles scraped successfully!"),await Q(B,"completed",ie.length);const Qe=await hr();c(Qe)}catch(ee){console.error("Error scraping selected profiles:",ee);let ie="Unknown error occurred";ee instanceof Error&&(ie=ee.message),te(ie),N("error",0,"Failed to scrape selected profiles"),B&&await Q(B,"failed",void 0,ie)}finally{C(!1)}},cr=async(D,z)=>{if(r)try{for(const B of D)B.linkedinUrl&&await Cu(r.id,B.linkedinUrl,B,z);const H=await hr();c(H),alert(`Successfully stored ${D.length} profiles${z.length>0?` with tags: ${z.join(", ")}`:""}`)}catch(H){console.error("Error storing profiles:",H),alert("Error storing profiles. Please try again.")}},Tr=async D=>{if(!r||!P){alert("Please ensure you are signed in and have selected an API key");return}const{data:z,error:H}=await le.from("apify_keys").select("api_key").eq("id",P).single();if(H||!z){alert("Invalid API key selected");return}try{const B=ni(z.api_key);if((await fe([D],B,r.id)).length>0){const ie=await hr();c(ie),alert("Profile updated successfully!")}}catch(B){console.error("Error updating profile:",B),alert("Error updating profile. Please try again.")}},Ar=async D=>{if(!r||!P){alert("Please ensure you are signed in and have selected an API key");return}const{data:z,error:H}=await le.from("apify_keys").select("api_key").eq("id",P).single();if(H||!z){alert("Invalid API key selected");return}try{const B=ni(z.api_key);await fe(D,B,r.id);const ee=await hr();c(ee),alert(`Successfully updated ${D.length} profiles!`)}catch(B){console.error("Error updating profiles:",B),alert("Error updating profiles. Please try again.")}},Ps=async D=>{if(r)try{const{error:z}=await le.from("linkedin_profiles").delete().in("id",D);if(z)throw z;const H=await hr();c(H),alert(`Successfully deleted ${D.length} profiles`)}catch(z){console.error("Error deleting profiles:",z),alert("Error deleting profiles. Please try again.")}},Ts=(D,z=!1)=>{Ou(l,D,"linkedin_profiles")},As=D=>{Ou(d.map(z=>({profile_data:z})),D,"profile_results")},$s=()=>{p("form"),u([]),h([]),y(null),v("form"),X("starting"),$(0),re(""),te("")},kn=()=>{b==="comments"?p("comments"):b==="profiles-list"?(p("profiles-list"),g("profiles")):p(b==="profile-table"?"profile-table":"form")},jn=D=>{_==="profiles"?(v("profiles-list"),y(D),p("single-profile-details")):(v(f),h([D]),p("profile-details"))},Nn=()=>{p("profiles-list"),y(null)},ur=async D=>{g(D),D==="profiles"?p("profiles-list"):(D==="scraper"||D==="jobs")&&p("form")},Sn=()=>{p("user-profile")},Pf=()=>{};return s?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("div",{className:"text-gray-600",children:"Loading..."})]})}):!e||!r?a.jsx(Oy,{onAuthSuccess:Pf}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Zn,{className:"w-6 h-6 text-blue-600"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"LinkedIn Scraper"})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("nav",{className:"flex space-x-1",children:[a.jsxs("button",{onClick:()=>ur("scraper"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${_==="scraper"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[a.jsx(Eu,{className:"w-4 h-4 inline mr-2"}),"Scraper"]}),a.jsxs("button",{onClick:()=>ur("profiles"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${_==="profiles"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[a.jsx(Pu,{className:"w-4 h-4 inline mr-2"}),"Profiles (",l.length,")"]}),a.jsxs("button",{onClick:()=>ur("jobs"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${_==="jobs"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[a.jsx(vf,{className:"w-4 h-4 inline mr-2"}),"Jobs (",x.length,")"]})]}),a.jsx(zy,{user:e,onOpenProfile:Sn})]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f==="user-profile"?a.jsx(My,{user:e,onBack:()=>p("form")}):a.jsxs(a.Fragment,{children:[_==="scraper"&&f==="form"&&a.jsx("div",{className:"mb-8",children:a.jsx(Uy,{userId:r.id,selectedKeyId:P,onKeySelect:S})}),_==="scraper"&&a.jsxs("div",{className:"space-y-8",children:[f==="form"&&a.jsxs(a.Fragment,{children:[a.jsx(Iy,{onScrape:ye,isLoading:k,disabled:!P}),k&&a.jsx(Cf,{type:A,stage:U,progress:W,message:V,error:J}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Pu,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Profiles"})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Eu,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:x.filter(D=>D.status==="completed").length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Completed Jobs"})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(Zn,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Last Comments"})]})]})})]})]}),f==="comments"&&a.jsx(Ry,{comments:o,onScrapeSelectedProfiles:or,isLoading:k,onBack:$s,loadingStage:U,loadingProgress:W,loadingMessage:V,loadingError:J}),f==="profile-table"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(Dy,{profiles:d,onViewDetails:jn,onExport:As,onStoreSelectedProfiles:cr,showActions:!1,showStoreOption:!0}),a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{onClick:kn,className:"px-6 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:b==="comments"?"Back to Comments":"Back to Scraper"})})]}),f==="profile-details"&&a.jsx($u,{profiles:d,onBack:kn})]}),_==="profiles"&&a.jsx(a.Fragment,{children:f==="single-profile-details"?a.jsx($u,{profiles:m?[m.profile_data]:[],onBack:Nn}):a.jsx(Ly,{profiles:l,onUpdateProfile:Tr,onUpdateSelectedProfiles:Ar,onDeleteSelectedProfiles:Ps,onExport:Ts,onViewDetails:D=>jn(D),isUpdating:!1})}),_==="jobs"&&a.jsx(Fy,{jobs:x})]})})]})}Kh(document.getElementById("root")).render(a.jsx(T.StrictMode,{children:a.jsx(Wy,{})}));
